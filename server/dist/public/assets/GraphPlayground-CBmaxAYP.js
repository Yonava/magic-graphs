import{u as M,P as X,R as K,d as h,o as r,c as i,b as p,w as S,e as w,s as u,v as n,F as A,g as U,x as ee,y as H,z as G,A as oe,B as D,f as x,C as y,a as c,t as N,D as te,E as L,G as z,H as $,I as O,J as le,K as se,L as W,M as ae,N as ne,O as re}from"./index-D9-peFBB.js";import{T as de,u as ie,i as ue,_ as ce}from"./Graph.vue_vue_type_script_setup_true_lang-D8mlc9uE.js";import{u as ge}from"./useGraphTutorial-B1mo9pHX.js";import{T as pe,_ as ve}from"./TutorialHint.vue_vue_type_script_setup_true_lang-C3s_gShm.js";import{C as V}from"./Button-Cy0dbwOj.js";import{_ as me}from"./InputRange.vue_vue_type_script_setup_true_lang-DDjFSKWz.js";import"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-Zj62QpuQ.js";const m={reset:"reset",draggable:"draggable",nodeAnchors:"node-anchors",edgeLabels:"edge-labels",edgeLabelsEditable:"edge-labels-editable",userEditable:"user-editable",edgeWeight:"edge-weight",nodeSize:"node-size",storageKey:"storage-key",clearLocalStorage:"clear-local-storage",persistentGraphClone:"persistent-graph-clone",log:"log",bfsColorize:"toggle-bfs-colorize"},be=e=>({greeting:{hint:"Welcome to the graph editor tutorial",dismiss:"onClick"},goodbye:{hint:"Have fun editing graphs!",dismiss:"onTimeout",after:3e3},createNode:{hint:"Double click anywhere to add a node",dismiss:"onNodeAdded"},moveNode:{hint:"Drag a node to move it",dismiss:"onNodeDrop"},createEdge:{hint:"Create an edge by dragging an anchor onto another node",dismiss:"onEdgeAdded"},createSelfDirectedEdge:{hint:'You can even create self directed edges! Make sure you are in "directed" mode and drag an anchor inwards',dismiss:{event:"onEdgeAdded",predicate:o=>o.to===o.from}},editEdgeWeight:{hint:"Edit the edge weight by clicking on it and typing a number",dismiss:"onEdgeLabelEdited"},removeElement:_e(e)}),_e=e=>{let o=!1;const t=()=>o=!0,{setTheme:s,removeAllThemes:l}=M(e,pe);return{hint:"Remove an edge or node by clicking on it and hitting backspace/delete",dismiss:{event:"onInterval",predicate:()=>o},onInit:()=>{o=!1,s("nodeAnchorColor",a=>a.label==="1"?X:K),e.subscribe("onEdgeRemoved",t),e.subscribe("onNodeRemoved",t)},onDismiss:()=>{l(),e.unsubscribe("onEdgeRemoved",t),e.unsubscribe("onNodeRemoved",t)}}},he=e=>{const{greeting:o,createNode:t,moveNode:s,createEdge:l,createUndirectedEdge:a,editEdgeWeight:d,removeElement:g,goodbye:b}=be(e);return[o,t,s,l,a,d,g,b]},Ee=e=>({basics:he(e)}),fe=e=>ge(e,Ee(e).basics),Ce=h({__name:"TutorialControls",props:{tutorial:{}},setup(e){return(o,t)=>(r(),i(A,null,[p(V,{onClick:o.tutorial.prevStep,color:u(n).BLUE_600},{default:S(()=>t[0]||(t[0]=[w(" Previous Step ")])),_:1},8,["onClick","color"]),p(V,{onClick:o.tutorial.nextStep,color:u(n).BLUE_600},{default:S(()=>t[1]||(t[1]=[w(" Next Step ")])),_:1},8,["onClick","color"]),p(V,{onClick:o.tutorial.stop,color:u(n).BLUE_600},{default:S(()=>t[2]||(t[2]=[w(" End Tutorial ")])),_:1},8,["onClick","color"]),p(V,{onClick:o.tutorial.start,color:u(n).BLUE_600},{default:S(()=>t[3]||(t[3]=[w(" Restart Tutorial ")])),_:1},8,["onClick","color"])],64))}}),ye="product/search-visualizer",Ne=(e,o)=>{const t=U({}),s=U(o),{adjacencyList:l}=ee(e),a=()=>{if(t.value={},!s.value||!l.value[s.value])return;let d=[s.value];const g=new Set(d);let b=0;for(;d.length>0;){const E=[];for(const f of d){t.value[f]=b;for(const _ of l.value[f])g.has(_)||(g.add(_),E.push(_))}d=[],d.push(...E),b++}};return e.subscribe("onStructureChange",a),H(()=>e.unsubscribe("onStructureChange",a)),G(s,a),{bfsLevelRecord:oe(t),startNode:s}},Le=[n.RED_600,n.ORANGE_600,n.YELLOW_600,n.GREEN_600,n.TEAL_600,n.BLUE_600,n.INDIGO_600,n.PURPLE_600],Se=e=>{var f;const o=U(!1),{setTheme:t,removeTheme:s}=M(e,ye),{bfsLevelRecord:l,startNode:a}=Ne(e,(f=e.nodes.value[0])==null?void 0:f.id),d=()=>{if(a.value===void 0){const[v]=e.nodes.value;v&&(a.value=v.id)}if(!e.nodes.value.find(v=>v.id===a.value)){const[v]=e.nodes.value;a.value=v?v.id:void 0}},g=_=>{if(e.isFocused(_.id))return;const v=l.value[_.id];if(v===void 0)return;const k=Le;return k[v%k.length]},b=()=>{t("nodeBorderColor",g),t("nodeAnchorColor",g),o.value=!0},E=()=>{s("nodeBorderColor"),s("nodeAnchorColor"),o.value=!1};return G(o,()=>{o.value?b():E()}),e.subscribe("onNodeRemoved",d),e.subscribe("onNodeAdded",d),H(()=>{e.unsubscribe("onNodeRemoved",d),e.unsubscribe("onNodeAdded",d)}),{isColorized:o,colorize:b,decolorize:E,toggleColorize:()=>o.value=!o.value,bfsLevelRecord:l,startNode:a}},Ve=e=>{const o={label:()=>"Reset",action:()=>e.reset(),color:()=>n.RED_600,id:m.reset},t={label:()=>e.settings.value.draggable?"Draggable":"Not Draggable",action:()=>e.settings.value.draggable=!e.settings.value.draggable,color:()=>e.settings.value.draggable?n.GREEN_600:n.ORANGE_600,id:m.draggable},s={label:()=>e.settings.value.nodeAnchors?"Anchors":"No Anchors",action:()=>e.settings.value.nodeAnchors=!e.settings.value.nodeAnchors,color:()=>e.settings.value.nodeAnchors?n.GREEN_600:n.ORANGE_600,id:m.nodeAnchors},l={label:()=>e.settings.value.displayEdgeLabels?"Edge Labels":"No Edge Labels",action:()=>e.settings.value.displayEdgeLabels=!e.settings.value.displayEdgeLabels,color:()=>e.settings.value.displayEdgeLabels?n.GREEN_600:n.ORANGE_600,id:m.edgeLabels},a={label:()=>e.settings.value.edgeLabelsEditable?"Edge Labels Editable":"Edge Labels Not Editable",action:()=>e.settings.value.edgeLabelsEditable=!e.settings.value.edgeLabelsEditable,color:()=>e.settings.value.edgeLabelsEditable?n.GREEN_600:n.ORANGE_600,id:m.edgeLabelsEditable},d={label:()=>e.settings.value.userEditable?"Editable":"Not Editable",action:()=>e.settings.value.userEditable=!e.settings.value.userEditable,color:()=>e.settings.value.userEditable?n.GREEN_600:n.ORANGE_600,id:m.userEditable},g={cond:()=>!!e.settings.value.userEditable,label:()=>{const{userAddedEdgeLabel:C}=e.settings.value;return`Change Added Edge Weight (${C})`},action:()=>{e.settings.value.userAddedEdgeLabel=D(1,10).toString()},color:()=>n.GREEN_600,id:m.edgeWeight},b={label:()=>`Change Node Size (${e.theme.value.nodeSize})`,action:()=>e.theme.value.nodeSize=D(20,50),color:()=>n.PINK_600,id:m.nodeSize},E={label:()=>{const{persistentStorageKey:C}=e.settings.value;return`Change Storage Key (${C})`},action:()=>{const{persistentStorageKey:C}=e.settings.value,R=C==="graph"?"graph2":"graph";e.settings.value.persistentStorageKey=R},color:()=>n.PURPLE_600,id:m.storageKey},f={label:()=>"Clear Local Storage",action:()=>localStorage.clear(),color:()=>n.RED_600,id:m.clearLocalStorage},_={label:()=>"Clone Search Visualizer Graph",action:()=>{e.settings.value.persistentStorageKey="search-visualizer-graph"},color:()=>n.AMBER_600,id:m.persistentGraphClone},v={label:()=>"Log",action:()=>{},color:()=>n.BLUE_600,id:m.log},{toggleColorize:k,isColorized:B,startNode:Z}=Se(e),I={reset:o,clearLocalStorage:f,changeNodeSize:b,toggleEdgeLabelDisplay:l,toggleEdgeLabelsEditable:a,toggleDraggable:t,toggleNodeAnchors:s,toggleUserEditable:d,changeEdgeWeight:g,changeStorageKey:E,persistentGraphClone:_,bfsColorize:{label:()=>{const C="Colorize",R=e.getNode(Z.value),J=`Stop Colorizing (${R==null?void 0:R.label})`;return B.value?J:C},color:()=>B.value?n.GREEN_600:n.BLUE_600,action:k,id:"toggle-bfs-colorize"},log:v},q=Object.values(I);return{...I,btnArr:q}},Ae={class:"select-none"},Re=h({__name:"GraphBtns",props:{btns:{}},setup(e){const o=t=>t?t():!0;return(t,s)=>(r(!0),i(A,null,x(t.btns,l=>(r(),i("div",null,[o(l.cond)?(r(),y(V,{key:0,onClick:te(l.action,["stop"]),color:l.color(),"text-color":"white",id:l.id},{default:S(()=>[c("span",Ae,N(l.label()),1)]),_:2},1032,["onClick","color","id"])):L("",!0)]))),256))}}),we=["value"],P="#000000",F=h({__name:"InputColor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=z(e,"modelValue"),t=$({get:()=>o.value,set:d=>o.value=d}),s=$(()=>{if(t.value){if(O(t.value))return t.value.slice(7)}else return"";return""}),l=$(()=>{if(t.value){if(O(t.value))return t.value.slice(0,7);if(le(t.value))return t.value}else return P;return P}),a=d=>{d.target instanceof HTMLInputElement&&(t.value=d.target.value+s.value)};return(d,g)=>(r(),i("input",{onInput:a,value:l.value,type:"color",class:se("p-1 w-10 h-full rounded-md appearance-none")},null,40,we))}}),j=h({__name:"InputText",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=z(e,"modelValue");return(t,s)=>W((r(),i("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>o.value=l),type:"text",class:"p-1 border border-gray-300 rounded-md"},null,512)),[[ae,o.value]])}}),Q=e=>e.charAt(0).toUpperCase()+e.slice(1),T=e=>{const o=e.replace(/([A-Z])/g," $1");return Q(o)},xe={class:"px-4 my-2"},ke={class:"my-2"},Ue={class:"flex flex-wrap gap-3"},$e=["onClick"],Te={class:"my-2"},Ge={class:"text-white mb-2"},ze={class:"font-bold text-lg"},Be={class:"text-md"},Ie={key:3,class:"text-red-500 font-bold"},De=h({__name:"ThemeControls",props:{graph:{}},setup(e){return(o,t)=>(r(),i("div",xe,[t[1]||(t[1]=c("div",null,[c("h2",{class:"text-2xl font-bold text-white"},"Theme Controls")],-1)),c("div",ke,[t[0]||(t[0]=c("div",{class:"mb-2"},[c("h1",{class:"text-xl font-bold text-white"},"Presets")],-1)),c("div",Ue,[(r(!0),i(A,null,x(u(de),(s,l)=>(r(),i("div",{onClick:a=>o.graph.theme.value=s},[p(V,{color:s.secondaryColor,style:{width:"120px","text-align":"center"}},{default:S(()=>[w(N(u(T)(l)),1)]),_:2},1032,["color"])],8,$e))),256))])]),(r(!0),i(A,null,x(o.graph.theme.value,(s,l)=>(r(),i("div",Te,[c("div",Ge,[c("h3",ze,N(u(T)(l)),1),c("h4",Be,N(s),1)]),typeof s=="string"&&l.toLowerCase().includes("color")?(r(),y(F,{key:0,modelValue:o.graph.theme.value[l],"onUpdate:modelValue":a=>o.graph.theme.value[l]=a,style:{width:"100px",height:"30px"}},null,8,["modelValue","onUpdate:modelValue"])):typeof s=="string"?(r(),y(j,{key:1,modelValue:o.graph.theme.value[l],"onUpdate:modelValue":a=>o.graph.theme.value[l]=a},null,8,["modelValue","onUpdate:modelValue"])):typeof s=="number"?(r(),y(me,{key:2,modelValue:o.graph.theme.value[l],"onUpdate:modelValue":a=>o.graph.theme.value[l]=a,style:{width:"100%"},min:0,max:100},null,8,["modelValue","onUpdate:modelValue"])):(r(),i("h5",Ie," Not Supported "))]))),256))]))}}),Y=h({__name:"InputCheckbox",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=z(e,"modelValue");return(t,s)=>W((r(),i("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>o.value=l),type:"checkbox"},null,512)),[[ne,o.value]])}}),Oe=["onClick"],Pe={class:"text-white font-bold"},Me=h({__name:"GraphPlaygroundControls",props:{playgroundControls:{}},setup(e){return(o,t)=>(r(!0),i(A,null,x(o.playgroundControls,(s,l)=>(r(),i("div",{class:"flex gap-3 items-center pl-3 py-2 hover:bg-gray-800 cursor-pointer",onClick:a=>o.playgroundControls[l]=!o.playgroundControls[l]},[p(Y,{modelValue:o.playgroundControls[l],"onUpdate:modelValue":a=>o.playgroundControls[l]=a,class:"h-6 w-6 rounded-xl cursor-pointer"},null,8,["modelValue","onUpdate:modelValue"]),c("h2",Pe,N(u(Q)(l)),1)],8,Oe))),256))}}),He={class:"my-2 px-4"},We={class:"text-white mb-2"},Fe={class:"font-bold text-lg"},je={class:"text-md"},Qe={key:3,class:"text-red-500 font-bold"},Ye=h({__name:"SettingsControls",props:{graph:{}},setup(e){return(o,t)=>(r(!0),i(A,null,x(o.graph.settings.value,(s,l)=>(r(),i("div",He,[c("div",We,[c("h3",Fe,N(u(T)(l)),1),c("h4",je,N(s),1)]),typeof s=="string"&&l.toLowerCase().includes("color")?(r(),y(F,{key:0,modelValue:o.graph.settings.value[l],"onUpdate:modelValue":a=>o.graph.settings.value[l]=a,style:{width:"100px",height:"30px"}},null,8,["modelValue","onUpdate:modelValue"])):typeof s=="string"?(r(),y(j,{key:1,modelValue:o.graph.settings.value[l],"onUpdate:modelValue":a=>o.graph.settings.value[l]=a},null,8,["modelValue","onUpdate:modelValue"])):typeof s=="boolean"?(r(),y(Y,{key:2,modelValue:o.graph.settings.value[l],"onUpdate:modelValue":a=>o.graph.settings.value[l]=a,class:"h-6 w-6 rounded-xl cursor-pointer"},null,8,["modelValue","onUpdate:modelValue"])):(r(),i("h5",Qe," Not Supported "))]))),256))}}),Ze={class:"relative w-full h-full"},qe={class:"w-full h-full absolute"},Je={key:0,class:"absolute flex gap-2 m-2 flex flex-wrap w-[85%]"},Xe={key:1,class:"bottom-0 absolute flex gap-2 m-2"},Ke={key:2,class:"absolute w-full dark:text-white bottom-[10%] grid place-items-center pointer-events-none"},eo={class:"absolute h-3/4 top-[100px] right-0"},oo={key:0,class:"w-[325px] h-1/2 overflow-auto bg-gray-800 bg-opacity-80 rounded-l-xl mb-3"},to={key:1,class:"w-[325px] h-1/2 overflow-auto bg-gray-800 bg-opacity-80 rounded-l-xl"},lo={class:"absolute w-[150px] top-1/4 overflow-auto bg-gray-800 bg-opacity-80 rounded-r-xl"},po=h({__name:"GraphPlayground",setup(e){const o=U(),t=ie(o,{settings:{edgeInputToLabel:d=>{if(ue(d))return d;if(!isNaN(Number(d)))return d}}}),s=fe(t),{btnArr:l}=Ve(t),a=re("graph-playground-controls",{tutorial:!0,theme:!0,settings:!0,buttons:!0});return G(a,()=>{a.value.tutorial?s.start():s.stop()},{immediate:!0,deep:!0}),(d,g)=>(r(),i("div",Ze,[c("div",qe,[p(ce,{onGraphRef:g[0]||(g[0]=b=>o.value=b),graph:u(t)},null,8,["graph"])]),u(a).buttons?(r(),i("div",Je,[p(Re,{btns:u(l)},null,8,["btns"])])):L("",!0),u(a).tutorial?(r(),i("div",Xe,[p(Ce,{tutorial:u(s)},null,8,["tutorial"])])):L("",!0),u(a).tutorial?(r(),i("div",Ke,[p(ve,{tutorial:u(s)},null,8,["tutorial"])])):L("",!0),c("div",eo,[u(a).theme?(r(),i("div",oo,[p(De,{graph:u(t)},null,8,["graph"])])):L("",!0),u(a).settings?(r(),i("div",to,[p(Ye,{graph:u(t)},null,8,["graph"])])):L("",!0)]),c("div",lo,[p(Me,{playgroundControls:u(a)},null,8,["playgroundControls"])])]))}});export{po as default};
