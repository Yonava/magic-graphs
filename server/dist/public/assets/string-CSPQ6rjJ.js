import{D as N,a as C}from"./TutorialHint.vue_vue_type_script_setup_true_lang-DwSwWxVw.js";import{g as f,ad as y,A as p,H as v}from"./index-X-1QUzvR.js";const _=(n,s)=>{const t=f(-1),i=y(s),r=f(!1),d=f(!1);let o,c;const A=e=>{const{event:l,predicate:a}=typeof e.dismiss=="string"?{event:e.dismiss,predicate:()=>!0}:e.dismiss;if(l==="onInterval"){const m="interval"in e?e.interval:C;let h=0;const L=setInterval(()=>{a(++h)&&t.value++},m);return()=>clearInterval(L)}const u=(...m)=>{(a==null?void 0:a(...m))&&t.value++};return n.subscribe(l,u),()=>n.unsubscribe(l,u)},E=()=>{var l,a;const e=i.value[t.value];if(e){if((l=e.onInit)==null||l.call(e),(a=e.precondition)!=null&&a.call(e,n)){t.value++;return}e!=null&&e.highlightElement&&(o=b(e)),c=A(e.dismiss!=="onTimeout"?e:{hint:e.hint,dismiss:"onInterval",interval:e.after})}},g=(e,l)=>{var u;if(e<0)return t.value=0;if(e>i.value.length)return t.value=i.value.length;const a=i.value[l];(u=a==null?void 0:a.onDismiss)==null||u.call(a),c==null||c(),o==null||o(),E()};p(t,(e,l)=>{d.value||g(e,l)}),p(i,()=>g(t.value,t.value));const I=()=>{t.value=0,r.value=!0},T=()=>{t.value=i.value.length,r.value=!1};return{sequence:i,step:v(()=>t.value),setStep:e=>t.value=e,paused:d,nextStep:()=>t.value++,prevStep:()=>t.value--,stop:T,start:I,isActive:v(()=>r.value),hasBegun:v(()=>t.value>-1),isOver:v(()=>t.value>=i.value.length)}},b=n=>{const{highlightElement:s}=n;if(!s)return()=>{};const{id:t,className:i}={id:typeof s=="string"?s:s.id,className:typeof s=="string"||!(s!=null&&s.className)?N:s.className};if(!t)return()=>{};const r=document.getElementById(t);if(!r)throw new Error(`element with id ${t} not found`);return r.classList.add(i),()=>r.classList.remove(i)},w=n=>n.charAt(0).toUpperCase()+n.slice(1),x=n=>{const s=n.replace(/([A-Z])/g," $1");return w(s)},F=n=>{if(n.length===0)return"";if(n.length===1)return n[0];const s=n.pop();return n.join(", ")+" and "+s};export{w as a,x as c,F as g,_ as u};
