import{u as j,_ as F}from"./Graph.vue_vue_type_script_setup_true_lang-CG7EnnjR.js";import{T as k,_ as S,a as I}from"./ToolbarButtonGroup-B5aFhicT.js";import{_ as U,u as O}from"./TutorialHint.vue_vue_type_script_setup_true_lang-B2tRkw1B.js";import{d as v,o as u,v as b,w as d,a as p,t as M,c as _,e as i,y as g,F as z,A as h,C as N,z as f,X as P,Y as B,Z as X,$ as D,D as E,M as T,b as A,f as x,L as $,r as w,a0 as H,a1 as W,_ as Z,g as q,h as K,i as Y,j as J,k as Q,l as ee,m as te,n as oe,p as se,q as ae,B as re}from"./index-DksC2spm.js";import{b as L}from"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-CQ1wqdWz.js";import{_ as ne}from"./SimulationPlaybackControls.vue_vue_type_script_setup_true_lang-D6SDaoXP.js";import"./Button.vue_vue_type_script_setup_true_lang-D_ipOFbs.js";const le={persistentStorageKey:"graph-sandbox"},ie={class:"text-white text-opacity-60 text-sm"},ue=v({__name:"ToolbarHint",props:{tutorial:{}},setup(n){return(t,o)=>(u(),b(U,{tutorial:t.tutorial},{default:d(({hint:r})=>[p("h5",ie,M(r),1)]),_:1},8,["tutorial"]))}}),de={class:"flex items-center gap-2 bg-gray-800 py-1 px-1 rounded-lg"},ce=v({__name:"IslandToolbar",props:{graph:{}},setup(n){const t=n,o=O(t.graph,[{dismiss:"onNodeAdded",hint:"Double click on the canvas to add a node."},{dismiss:"onEdgeAdded",hint:"Hover node to show anchors, drag between them to add an edge."}]);o.start();const r=()=>{t.graph.bulkRemoveNode([...t.graph.focusedItemIds.value]),t.graph.bulkRemoveEdge([...t.graph.focusedItemIds.value])};return(s,e)=>(u(),_(z,null,[p("div",de,[i(k,null,{default:d(()=>[i(S,{onClick:e[0]||(e[0]=a=>s.graph.settings.value.displayEdgeLabels=!0),active:s.graph.settings.value.displayEdgeLabels},{default:d(()=>e[6]||(e[6]=[h(" mdi-label-outline ")])),_:1},8,["active"]),i(I),i(S,{onClick:e[1]||(e[1]=a=>s.graph.settings.value.displayEdgeLabels=!1),active:!s.graph.settings.value.displayEdgeLabels},{default:d(()=>e[7]||(e[7]=[h(" mdi-label-off-outline ")])),_:1},8,["active"])]),_:1}),i(k,null,{default:d(()=>[i(S,{onClick:e[2]||(e[2]=a=>s.graph.settings.value.isGraphDirected=!0),active:s.graph.settings.value.isGraphDirected},{default:d(()=>e[8]||(e[8]=[h(" mdi-arrow-right-thin ")])),_:1},8,["active"]),i(I),i(S,{onClick:e[3]||(e[3]=a=>s.graph.settings.value.isGraphDirected=!1),active:!s.graph.settings.value.isGraphDirected},{default:d(()=>e[9]||(e[9]=[h(" mdi-minus ")])),_:1},8,["active"])]),_:1}),i(k,null,{default:d(()=>[i(S,{onClick:e[4]||(e[4]=a=>s.graph.undo()),disabled:!s.graph.canUndo.value},{default:d(()=>e[10]||(e[10]=[h(" mdi-undo ")])),_:1},8,["disabled"]),i(I),i(S,{onClick:e[5]||(e[5]=a=>s.graph.redo()),disabled:!s.graph.canRedo.value},{default:d(()=>e[11]||(e[11]=[h(" mdi-redo ")])),_:1},8,["disabled"])]),_:1}),i(k,null,{default:d(()=>[i(S,{onClick:r,disabled:s.graph.focusedItemIds.value.size===0},{default:d(()=>e[12]||(e[12]=[h(" mdi-eraser ")])),_:1},8,["disabled"])]),_:1}),i(k,null,{default:d(()=>[i(S,null,{default:d(()=>e[13]||(e[13]=[h("mdi-account-group")])),_:1})]),_:1})]),i(ue,{tutorial:g(o)},null,8,["tutorial"])],64))}}),V="markup",pe=["XS","SM","MD","LG","XL"],_e={XS:25,SM:30,MD:35,LG:40,XL:45},me={XS:6,SM:8,MD:10,LG:12,XL:14},ge=n=>{const{setTheme:t,removeAllThemes:o}=N(n,V),r=L("markup-color-map",new Map),s=l=>{if(r.value.get(l.id))return P(n.theme.value.nodeColor,l)},e=l=>{const c=r.value.get(l.id);if(c)return n.isFocused(l.id)?B(c,30):c},a=l=>{const c=r.value.get(l.id);if(c)return n.isFocused(l.id)?B(c,30):c};return{colorize:()=>{t("nodeColor",s),t("nodeBorderColor",e),t("nodeFocusBorderColor",e),t("nodeAnchorColor",e),t("nodeAnchorColorWhenParentFocused",e),t("edgeColor",a),t("marqueeSelectionBoxColor",f.TRANSPARENT),t("marqueeEncapsulatedNodeBoxBorderColor",f.WHITE+"80"),t("marqueeEncapsulatedNodeBoxColor",f.TRANSPARENT)},decolorize:()=>{o()},colorMap:r}},ve=n=>{const{setTheme:t,removeAllThemes:o}=N(n,V),r=L("markup-size-map",new Map),s=C=>{const l=r.value.get(C.id);if(l)return _e[l]},e=C=>{const l=r.value.get(C.id);if(l)return me[l]};return{size:()=>{t("nodeSize",s),t("edgeWidth",e)},desize:()=>{o()},sizeMap:r}},fe={},he={class:"flex flex-col gap-1"};function be(n,t){return u(),_("div",he,[D(n.$slots,"default")])}const G=X(fe,[["render",be]]),R=v({__name:"Button",props:{active:{type:Boolean}},setup(n){return(t,o)=>(u(),_("button",{class:E(["cursor-pointer","rounded-xl","p-1","border-2",t.active?"border-white":"border-transparent",t.active?"hover:border-white":"hover:border-gray-400"])},[p("div",{class:E(["relative","w-8","h-8","rounded-md","flex","items-center","justify-center","text-white","text-sm",t.active?"bg-gray-800":"bg-gray-700"])},[D(t.$slots,"default")],2)],2))}}),Se=v({__name:"InputColor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(n){const t=[f.BLACK,f.BLUE_600,f.RED_600,f.GREEN_600,f.YELLOW_600],o=T(n,"modelValue");return(r,s)=>(u(),b(G,null,{default:d(()=>[(u(),_(z,null,A(t,e=>i(R,{onClick:a=>o.value=e,key:e,active:o.value===e},{default:d(()=>[p("div",{class:E([`bg-[${e}]`,"w-full","h-full","rounded-md"])},null,2)]),_:2},1032,["onClick","active"])),64))]),_:1}))}}),Ce=v({__name:"NodeEdgeColorInput",props:{graph:{},colorMap:{}},setup(n){const t=n,o=()=>{const e=Array.from(t.graph.focusedItemIds.value),a=new Set(e.map(m=>t.colorMap.get(m)));if(!a.has(void 0)&&!(a.size>1))return a.values().next().value},r=x(o()),s=e=>{for(const a of t.graph.focusedItemIds.value)t.colorMap.set(a,e);r.value=e};return t.graph.subscribe("onFocusChange",()=>{r.value=o()}),(e,a)=>(u(),b(Se,{"model-value":r.value,"onUpdate:modelValue":s},null,8,["model-value"]))}}),ye=v({__name:"InputSize",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(n){const t=pe,o=T(n,"modelValue");return(r,s)=>(u(),b(G,null,{default:d(()=>[(u(!0),_(z,null,A(g(t),e=>(u(),b(R,{onClick:a=>o.value=e,key:e,active:o.value===e},{default:d(()=>[h(M(e),1)]),_:2},1032,["onClick","active"]))),128))]),_:1}))}}),ke=v({__name:"NodeEdgeSizeInput",props:{graph:{},sizeMap:{}},setup(n){const t=n,o=()=>{const e=Array.from(t.graph.focusedItemIds.value),a=new Set(e.map(m=>t.sizeMap.get(m)));if(!a.has(void 0)&&!(a.size>1))return a.values().next().value},r=x(o()),s=e=>{for(const a of t.graph.focusedItemIds.value)t.sizeMap.set(a,e);r.value=e,t.graph.updateEncapsulatedNodeBox()};return t.graph.subscribe("onFocusChange",()=>{r.value=o()}),(e,a)=>(u(),b(ye,{"model-value":r.value,"onUpdate:modelValue":s},null,8,["model-value"]))}}),ze={key:0,class:"flex flex-col gap-3"},$e={class:"p-2 bg-gray-800 rounded-xl"},Me={class:"p-2 bg-gray-800 rounded-xl"},xe=v({__name:"IslandMarkup",props:{graph:{}},setup(n){const t=n,{colorize:o,colorMap:r}=ge(t.graph);o();const{size:s,sizeMap:e}=ve(t.graph);return s(),(a,m)=>t.graph.focusedItemIds.value.size>0?(u(),_("div",ze,[p("div",$e,[i(Ce,{graph:t.graph,colorMap:g(r)},null,8,["graph","colorMap"])]),p("div",Me,[i(ke,{graph:t.graph,sizeMap:g(e)},null,8,["graph","sizeMap"])])])):$("",!0)}}),Ie={class:"bg-gray-800 flex flex-col text-white p-2 w-[400px] rounded-lg"},Ee=["onClick"],we=["src"],Te={class:"flex flex-col gap-1"},Ae={class:"text-lg font-bold text-gray-200"},Be={class:"text-sm text-gray-400"},Ne=v({__name:"StartSimulation",props:{simulations:{},startSimulation:{type:Function}},setup(n){return(t,o)=>{const r=w("v-btn"),s=w("v-menu");return u(),b(s,{offset:[10,0]},{activator:d(({props:e})=>[i(r,H(e,{icon:"mdi-play",size:"large",color:g(f).GRAY_800}),null,16,["color"])]),default:d(()=>[p("div",Ie,[(u(!0),_(z,null,A(t.simulations,e=>(u(),_("button",{key:e.name,onClick:a=>t.startSimulation(e),class:"hover:bg-gray-900 p-2 rounded-md cursor-pointer rounded-lg text-left flex gap-4"},[p("img",{src:e.thumbnail,class:"object-cover h-20 w-20 rounded-md"},null,8,we),p("div",Te,[p("h1",Ae,M(e.name),1),p("p",Be,M(e.description),1)])],8,Ee))),128))])]),_:1})}}}),De=v({__name:"SimulationDropdown",props:W({graph:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const t=n,o=T(n,"modelValue"),a=Object.values(Object.assign({"/src/menu/info.ts":Z,"/src/playground/annotation/info.ts":q,"/src/playground/graph/info.ts":K,"/src/playground/shape/info.ts":Y,"/src/products/dijkstras/info.ts":J,"/src/products/graph-sandbox/info.ts":Q,"/src/products/markov-chains/info.ts":ee,"/src/products/min-spanning-tree/info.ts":te,"/src/products/network-flow/info.ts":oe,"/src/products/search-visualizer/info.ts":se,"/src/products/set-visualizer/info.ts":ae})).map(l=>l.default).map(l=>l.simulations).filter(Boolean).map(l=>l(t.graph)).flat(),m=async l=>{const{controls:c,onInit:y}=l;await(y==null?void 0:y()),c.start(),o.value=l},C=async()=>{if(!o.value)return;const{controls:l,onDismiss:c}=o.value;l.stop(),await(c==null?void 0:c()),o.value=void 0};return(l,c)=>{const y=w("v-btn");return u(),_("div",null,[o.value?(u(),b(y,{key:1,onClick:C,color:g(f).RED_600,icon:"mdi-stop",size:"large"},null,8,["color"])):(u(),b(Ne,{key:0,simulations:g(a),"start-simulation":m},null,8,["simulations"]))])}}}),Le={key:0,class:"absolute top-6 w-full flex flex-col justify-center items-center gap-2"},Ve={key:1,class:"absolute top-0 w-0 h-full flex items-center"},Ge={class:"ml-4"},Re={class:"absolute top-6 right-6"},je={key:2,class:"absolute bottom-8 w-full flex justify-center items-center p-3"},Ze=v({__name:"Main",setup(n){const t=x(),o=j(t,{settings:le}),r=x(),s=re(()=>{var e;return(e=r.value)==null?void 0:e.controls});return(e,a)=>(u(),_(z,null,[i(F,{onGraphRef:a[0]||(a[0]=m=>t.value=m),graph:g(o)},null,8,["graph"]),s.value?$("",!0):(u(),_("div",Le,[i(ce,{graph:g(o)},null,8,["graph"])])),s.value?$("",!0):(u(),_("div",Ve,[p("div",Ge,[i(xe,{graph:g(o)},null,8,["graph"])])])),p("div",Re,[i(De,{modelValue:r.value,"onUpdate:modelValue":a[1]||(a[1]=m=>r.value=m),graph:g(o)},null,8,["modelValue","graph"])]),s.value?(u(),_("div",je,[i(ne,{controls:s.value},null,8,["controls"])])):$("",!0)],64))}});export{Ze as default};
