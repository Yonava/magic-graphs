import{u as I,_ as D}from"./Graph.vue_vue_type_script_setup_true_lang-wj0Jey3H.js";import{b as F}from"./CollabControls.vue_vue_type_script_setup_true_lang-DTGE2XIo.js";import{e as f,g as b,y as W,G as V,o as t,c as m,a as S,V as $,z as o,b as g,F as w,A as u,a3 as O,a4 as K,L as C,w as T,d as v,f as U,t as j,a5 as A,a6 as X,K as N}from"./index-Bnp4Kkft.js";import{_ as Y}from"./SimulationPlaybackControls.vue_vue_type_script_setup_true_lang-BvCb6Mco.js";import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang-C5-mvDcp.js";import"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-CxSmD8X9.js";const h={backgroundColor:"white",progressColor:"green",easeTime:250,progressEasing:"ease-in-out",borderRadius:0},q=f({__name:"Progressbar",props:{theme:{},startProgress:{},currentProgress:{},endProgress:{},setProgress:{type:Function}},setup(n){var x,y,R,E,M;const s=n,r=((x=s.theme)==null?void 0:x.backgroundColor)||h.backgroundColor,e=((y=s.theme)==null?void 0:y.progressColor)||h.progressColor,a=((R=s.theme)==null?void 0:R.easeTime)||h.easeTime,l=((E=s.theme)==null?void 0:E.progressEasing)||h.progressEasing,p=((M=s.theme)==null?void 0:M.borderRadius)||h.borderRadius,i=b(0),d=W(()=>{const c=s.endProgress-s.startProgress;return Math.min(Math.max(s.currentProgress-s.startProgress,0),c)/c*100}),_=c=>{const P=c.currentTarget,G=c.offsetX,L=P.offsetWidth,H=G/L,z=s.endProgress-s.startProgress,B=s.startProgress+H*z;s.setProgress(Math.round(B))};return V(()=>d.value,c=>{i.value=c},{immediate:!0}),(c,P)=>(t(),m("div",{onClick:_,class:"relative overflow-hidden h-[25px] w-full",style:$({backgroundColor:o(r),borderRadius:`${o(p)}px`})},[S("div",{class:"absolute top-0 left-0 h-[25px] w-full",style:$({width:`${i.value}%`,backgroundColor:o(e),transition:`width ${o(a)}ms ${o(l)}`})},null,4)],4))}}),J=f({__name:"SimulationControls",props:{controls:{}},setup(n){return(s,r)=>(t(),m(w,null,[g(q,{class:"w-[300px] border-gray-200 border-2 mb-8",theme:{progressColor:o(u).GRAY_200,backgroundColor:o(u).SLATE_500,borderRadius:20},"start-progress":0,"current-progress":s.controls.step.value,"end-progress":s.controls.trace.value.length,"set-progress":s.controls.setStep},null,8,["theme","current-progress","end-progress","set-progress"]),g(Y,{controls:s.controls},null,8,["controls"])],64))}}),Q={persistentStorageKey:"min-spanning-tree",isGraphDirected:!1,edgeInputToLabel:n=>{const s=Number(n),r=s<0,e=isNaN(s);if(!(r||e))return s.toString()}},Z="s",ss=f({__name:"TopRightToolbar",props:{graph:{}},setup(n){const s=n,r=O(s.graph),{colorize:e,decolorize:a}=K(s.graph,r),l=b(!1),p=()=>{l.value=!0,e()},i=()=>{l.value=!1,a()};return s.graph.subscribe("onKeyDown",d=>{d.key.toLowerCase()===Z&&(l.value?i():p())}),(d,_)=>l.value?(t(),C(k,{key:1,onClick:i,color:o(u).RED_600,"text-color":o(u).WHITE,style:{"min-width":"135px"}},{default:T(()=>_[1]||(_[1]=[v(" Hide MST (S) ")])),_:1},8,["color","text-color"])):(t(),C(k,{key:0,onClick:p,color:o(u).BLUE_500,"text-color":o(u).WHITE,style:{"min-width":"135px"}},{default:T(()=>_[0]||(_[0]=[v(" Show MST (S) ")])),_:1},8,["color","text-color"]))}}),os={key:0,class:"gap-3 flex"},rs=f({__name:"TopLeftToolbar",props:{graph:{},simControls:{},startSimulation:{type:Function}},setup(n){return(s,r)=>s.simControls.isActive.value?(t(),C(k,{key:1,onClick:s.simControls.stop,color:o(u).RED_600,"text-color":o(u).WHITE,class:"capitalize"},{default:T(()=>r[0]||(r[0]=[v(" Stop Simulation ")])),_:1},8,["onClick","color","text-color"])):(t(),m("div",os,[(t(!0),m(w,null,U(o(A),e=>(t(),C(k,{onClick:()=>s.startSimulation(e),class:"capitalize"},{default:T(()=>[v(" Run "+j(e)+"s ",1)]),_:2},1032,["onClick"]))),256))]))}}),es={class:"w-full h-full relative"},ts={class:"absolute top-0 p-3 flex gap-3"},as={class:"absolute top-0 right-0 p-3 flex gap-3"},ns={key:0,class:"absolute bottom-8 w-full flex flex-col justify-center items-center p-3"},ls={key:1,class:"absolute right-0 p-3 h-14 flex gap-3 bottom-0"},ds=f({__name:"Main",setup(n){const s=b(),r=I(s,{settings:Q}),e=b(A[0]),a=X(r,e),l=p=>{e.value=p,a.start()};return(p,i)=>(t(),m(w,null,[S("div",es,[g(D,{onGraphRef:i[0]||(i[0]=d=>s.value=d),graph:o(r)},null,8,["graph"])]),S("div",ts,[g(rs,{graph:o(r),simControls:o(a),startSimulation:l},null,8,["graph","simControls"])]),S("div",as,[g(ss,{graph:o(r)},null,8,["graph"])]),o(a).isActive.value?(t(),m("div",ns,[g(J,{controls:o(a)},null,8,["controls"])])):N("",!0),o(a).isActive.value?N("",!0):(t(),m("div",ls,[g(F,{graph:o(r)},null,8,["graph"])]))],64))}});export{ds as default};
