import{_ as Pe,h as Be,i as Ie,j as Re,k as De,l as Ae,m as Me,n as He,p as Ke,q as je,s as ze,u as Ge,v as Ve,aA as Q,ab as Ne,aB as We,aC as X,al as me,aD as Ue,ae as Ye,d as h,a1 as O,E as C,o as a,A as _,w as d,a4 as w,b as f,aE as Ze,c as k,a as m,I as F,X as $,y as p,aF as qe,g as S,D as ie,aG as Xe,F as P,f as D,t as B,C as x,O as Je,V as L,ai as _e,Q as Qe,aH as K,z as E,aj as et,aa as R,a9 as he,aI as tt,aJ as z,aK as j,aL as ot,aM as ce,a8 as nt,aN as st,aO as rt,aP as ne,aQ as at,aR as lt,aS as ue,aT as it,aU as ct,aV as ut,aW as dt,aX as pt,aY as ft,aZ as vt,a_ as mt,a7 as _t,r as ht,ac as bt,a$ as gt,J as be,b0 as ge,e as V,b1 as yt,ao as kt}from"./index-Wvoc3Gvc.js";import{C as wt,B as Ct,_ as $t}from"./Graph.vue_vue_type_script_setup_true_lang-C7aWDySR.js";import{_ as ye,t as St}from"./Button.vue_vue_type_script_setup_true_lang-Dt14VFd8.js";import{_ as A}from"./Icon.vue_vue_type_script_setup_true_lang-BBvBH1WR.js";import{_ as Et}from"./TutorialHint.vue_vue_type_script_setup_true_lang-C3Zn5Vyd.js";import{t as ke,u as xt}from"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-jduWpegf.js";const Lt=Object.assign({"/src/menu/info.ts":Pe,"/src/playground/graph/info.ts":Be,"/src/playground/shape/info.ts":Ie,"/src/products/basic-search/info.ts":Re,"/src/products/binary-trees/info.ts":De,"/src/products/dijkstras/info.ts":Ae,"/src/products/graph-sandbox/info.ts":Me,"/src/products/markov-chains-legacy/info.ts":He,"/src/products/markov-chains/info.ts":Ke,"/src/products/min-spanning-tree/info.ts":je,"/src/products/network-flow/info.ts":ze,"/src/products/search-visualizer/info.ts":Ge,"/src/products/set-visualizer/info.ts":Ve}),U=Object.values(Lt).flatMap(o=>o.default);U.map(o=>o.route);const Qo=U.reduce((o,e)=>(o[e.productId]=e,o),{}),se=U.reduce((o,e)=>(o[e.route.path]=e,o),{}),Tt=o=>U.map(n=>n.simulations).filter(Boolean).map(n=>n(o)).flat(),Ot=(o,e)=>{const t=Q();if(!e){const r=se[t.path];if(!r)throw new Error(`product not found for ${t.path}`);e=r.simulations}return(e??Tt)(o)},Ft=()=>{const o=Q(),e=Ne(),t=r=>{const s=o.query.rid;return typeof s=="string"&&s.length>0?`${r}?rid=${s}`:r};return{navigate:r=>{var c,l;const s=(l=(c=r.route)==null?void 0:c.redirect)==null?void 0:l.toString(),i=s==null?void 0:s.startsWith("http");if(s&&i)return window.open(s,"_blank");e.push(t(r.route.path))},productLink:t}},de=["sandbox","algorithms","data structures","math","developer tools"],Pt=()=>{const o=Q();return se[o.path]},Bt=o=>"redirect"in o.route,It=(o,e)=>{const t=Q();if(!e){const c=se[t.path];if(!c)throw new Error(`no product found for route ${t.path}`);e=c}const{connectToRoom:n}=Ye,r=t.query.rid,{productId:s,name:i}=e;document.title=`${i} - Magic Algorithms`,We.value=o,setTimeout(()=>{X.value&&(o.load(X.value),X.value=void 0)},5),me(()=>{if(r){if(typeof r!="string")return console.error("room id must be a string");n({graph:o,roomId:r,productId:s})}}),Ue(()=>{var c;(c=e.state)==null||c.reset()})},T=h({__name:"GButton",props:{secondary:{type:Boolean,default:!1},tertiary:{type:Boolean,default:!1},contrast:{type:Boolean,default:!1}},setup(o){const e=O(),t=o,n=C(()=>t.secondary?e.value.secondary:t.tertiary?e.value.tertiary:t.contrast?e.value.contrast:e.value.primary);return(r,s)=>(a(),_(ye,{color:n.value},{default:d(()=>[w(r.$slots,"default")]),_:3},8,["color"]))}}),Z=h({__name:"PlaybackButton",props:{icon:{}},setup(o){return(e,t)=>(a(),_(T,{style:{"border-radius":"40px"}},{default:d(()=>[f(A,{class:"py-1 px-6 text-5xl",icon:e.icon},null,8,["icon"])]),_:1}))}}),Rt={transitionTimeMs:250,transitionEasing:"ease-in-out"},Dt=h({__name:"Progressbar",props:Ze({range:{},progress:{},previewProgress:{},transitionTimeMs:{},transitionEasing:{},color:{},onProgressSet:{type:Function},onHover:{type:Function}},Rt),setup(o){const e=O(),t=o,n=C(()=>{const[l,u]=t.range;return u-l}),r=l=>{const[u]=t.range;return Math.min(Math.max(l-u,0),n.value)/n.value*100},s=l=>{const u=l.currentTarget;if(!(u instanceof HTMLElement))throw new Error("Invalid target");const v=l.offsetX,g=u.offsetWidth,b=v/g,y=t.range[0]+b*n.value;return Math.round(y)},i=l=>{var v;const u=s(l);(v=t.onProgressSet)==null||v.call(t,u)},c=l=>{var v;const u=s(l);(v=t.onHover)==null||v.call(t,u)};return(l,u)=>(a(),k("div",{onMousemove:c,onClick:i,class:"relative overflow-hidden h-4 w-full z-1"},[m("div",{class:F("absolute top-0 left-0 h-full z-0"),style:$({backgroundColor:t.color??p(e).tertiary,width:`${r(l.progress)}%`,transition:`width ${t.transitionTimeMs}ms ${t.transitionEasing}`})},null,4),m("div",{class:F("absolute top-0 left-0 h-full z-10"),style:$({backgroundColor:p(e).primary+"90",width:`${r(l.previewProgress??t.range[0])}%`,transition:`width ${t.transitionTimeMs}ms ${t.transitionEasing}`})},null,4)],32))}}),At={class:"w-full flex justify-center"},Mt={class:"w-12"},Ht={class:"w-12"},Kt=h({__name:"GSpreadSelect",props:qe({items:{},initialItemIndex:{default:0}},{modelValue:{},modelModifiers:{},open:{default:!1},openModifiers:{}}),emits:["update:modelValue","update:open"],setup(o){const e=S(),t=o,n=ie(o,"modelValue");if(n.value=t.items[t.initialItemIndex].value,n.value===void 0)throw new Error("invalid initialItemIndex");const r=C(()=>{var u;return(u=t.items.find(v=>v.value===n.value))==null?void 0:u.label}),s=ie(o,"open"),i=()=>s.value=!s.value;Xe(e,()=>s.value=!1);const c=u=>{n.value=u.value,s.value=!1},l=u=>u.value===n.value;return(u,v)=>(a(),k("div",At,[s.value?(a(),k("div",{key:0,ref_key:"target",ref:e,class:"flex gap-2 justify-center"},[(a(!0),k(P,null,D(u.items,g=>(a(),_(T,{key:g.label,onClick:b=>c(g),class:F(["rounded-full",l(g)?"opacity-100 ring-white ring-2 ring-inset":"opacity-75"])},{default:d(()=>[m("span",Mt,B(g.label),1)]),_:2},1032,["onClick","class"]))),128))],512)):r.value?(a(),_(T,{key:1,onClick:i,class:"rounded-full"},{default:d(()=>[m("span",Ht,B(r.value),1)]),_:1})):x("",!0)]))}}),jt={class:"flex flex-col gap-5 items-center justify-center"},zt={class:"flex gap-2 justify-between"},Gt={class:"w-12"},Vt={class:"flex gap-4 fill-white dark:fill-black"},Nt=h({__name:"SimulationPlaybackControls",props:{controls:{}},setup(o){const e=O(),t=o,{isOver:n,paused:r,step:s,hasBegun:i,lastStep:c,playbackSpeed:l}=Je(t.controls),{nextStep:u,prevStep:v,setStep:g,start:b,stop:y}=t.controls,M=()=>{v(),r.value=!0},I=()=>{u(),r.value=!0},Ee=H=>{g(H),r.value=!0},xe=()=>{r.value=!r.value},Le=()=>{y(),b()},ee=S(-1),Te=H=>{ee.value=H},Oe=()=>{ee.value=-1},ae=()=>{r.value=!0};L.value.subscribe("onStructureChange",ae),_e(()=>{L.value.unsubscribe("onStructureChange",ae)});const le=[{label:"0.25x",value:K/.25},{label:"0.5x",value:K/.5},{label:"1x",value:K},{label:"2x",value:K/2},{label:"4x",value:K/4}],te=S(!1),Fe=le.findIndex(H=>H.value===l.value)??2;return(H,Y)=>(a(),k("div",jt,[m("div",zt,[f(Kt,{modelValue:p(l),"onUpdate:modelValue":Y[0]||(Y[0]=oe=>Qe(l)?l.value=oe:null),open:te.value,"onUpdate:open":Y[1]||(Y[1]=oe=>te.value=oe),items:le,"initial-item-index":p(Fe)},null,8,["modelValue","open","initial-item-index"]),te.value?x("",!0):(a(),_(T,{key:0,class:"rounded-full"},{default:d(()=>[m("span",Gt,B(p(s)),1)]),_:1}))]),p(c)!==1/0?(a(),_(Dt,{key:0,onMouseleave:Oe,range:[0,p(c)],progress:p(s),"on-progress-set":Ee,"preview-progress":ee.value,"on-hover":Te,class:"w-full border-2 rounded-lg",style:$({borderColor:p(e).tertiary})},null,8,["range","progress","preview-progress","style"])):x("",!0),m("div",Vt,[f(Z,{onClick:M,disabled:!p(i),icon:"chevron_left"},null,8,["disabled"]),p(n)?(a(),_(Z,{key:0,onClick:Le,icon:"restart_alt"})):(a(),_(Z,{key:1,onClick:xe,icon:p(r)?"play_arrow":"pause"},null,8,["icon"])),f(Z,{onClick:I,disabled:p(n),icon:"chevron_right"},null,8,["disabled"])])]))}}),we=h({__name:"ToolbarHint",props:{color:{default:E.WHITE+"75"},tutorial:{}},setup(o){return(e,t)=>(a(),_(Et,{tutorial:e.tutorial},{default:d(({hint:n})=>[m("h5",{style:$({color:e.color}),class:"text-sm"},B(n),5)]),_:1},8,["tutorial"]))}}),Wt={class:"flex flex-col gap-2"},Ut=h({__name:"ToolbarBase",props:{color:{default:E.GRAY_800},hint:{default:void 0}},setup(o){return(e,t)=>(a(),k("div",Wt,[m("div",{style:$({backgroundColor:e.color}),class:"flex items-center gap-2 py-1 px-1 rounded-lg"},[w(e.$slots,"default")],4),w(e.$slots,"hint",{},()=>[e.hint?(a(),_(we,{key:0,tutorial:e.hint},null,8,["tutorial"])):x("",!0)])]))}}),Yt=h({__name:"GToolbarHint",props:{tutorial:{}},setup(o){const e=O();return(t,n)=>(a(),_(we,{tutorial:t.tutorial,color:p(e).text+"75"},null,8,["tutorial","color"]))}}),Ce=h({__name:"GToolbarBase",props:{hint:{}},setup(o){const e=O();return(t,n)=>(a(),_(Ut,{hint:t.hint,color:p(e).primary},{hint:d(()=>[t.hint?(a(),_(Yt,{key:0,tutorial:t.hint},null,8,["tutorial"])):x("",!0)]),default:d(()=>[w(t.$slots,"default")]),_:3},8,["hint","color"]))}}),Zt=o=>C(()=>{const e=ke(o.value);if(!e.isValid())throw new Error("invalid color");return e}),qt=["disabled"],Xt=h({__name:"ToolbarButton",props:{color:{default:E.GRAY_800},active:{type:Boolean,default:!1},activeColor:{},disabled:{type:Boolean,default:!1},icon:{default:""}},setup(o){const e=o,t=et(e,"color"),n=Zt(t),r=C(()=>n.value.darken(5).toHexString()),s=C(()=>e.activeColor?e.activeColor:n.value.darken(10).toHexString()),i=C(()=>{if(!e.disabled)return e.active?s.value:v.value?r.value:e.color}),c=C(()=>{const g=n.value.isDark()?E.WHITE:E.BLACK;return e.disabled?g+"80":g}),l=C(()=>({color:c.value,backgroundColor:i.value,cursor:e.disabled?"not-allowed":"pointer"})),u=["p-1","rounded-md","grid","place-items-center","w-10","h-10","outline-none"],v=S(!1);return(g,b)=>(a(),k("button",{onMouseenter:b[0]||(b[0]=y=>v.value=!0),onMouseleave:b[1]||(b[1]=y=>v.value=!1),disabled:g.disabled,class:F(u),style:$(l.value)},[w(g.$slots,"default",{},()=>[f(A,{icon:g.icon},null,8,["icon"])])],44,qt))}}),G=h({__name:"GToolbarButton",setup(o){const e=O(),t=C(()=>L.value.themeName.value==="dark"?e.value.tertiary:e.value.secondary);return(n,r)=>(a(),_(Xt,R(n.$props,{color:p(e).primary,"active-color":t.value}),{default:d(()=>[w(n.$slots,"default")]),_:3},16,["color","active-color"]))}}),Jt=h({__name:"ToolbarDivider",props:{color:{default:E.GRAY_100+"20"}},setup(o){return(e,t)=>(a(),k("div",{style:$({backgroundColor:e.color}),class:"w-[1px] h-6 mx-1"},null,4))}}),pe=h({__name:"GToolbarDivider",setup(o){const e=O();return(t,n)=>(a(),_(Jt,R(t.$props,{color:p(e).text+"30"}),null,16,["color"]))}}),J=h({__name:"ToolbarButtonGroup",setup(o){const e=xt(),t=["flex","items-center","relative","gap-1"],n=C(()=>St(t,e.value));return(r,s)=>(a(),k("div",{class:F(n.value)},[w(r.$slots,"default")],2))}}),Qt={class:F(["rounded-full","p-[3px]"])},eo=h({__name:"AnnotationToolbar",setup(o){const{clear:e,brushWeight:t,erasing:n,color:r}=L.value.annotation,s=v=>{r.value=v,n.value=!1},i=v=>{t.value=v},c=v=>n.value?!1:r.value===v,l=v=>t.value===v,u=()=>{n.value=!n.value};return(v,g)=>(a(),_(Ce,null,{default:d(()=>[f(J,null,{default:d(()=>[(a(!0),k(P,null,D(p(wt),b=>(a(),_(G,{onClick:y=>s(b),active:c(b),key:b},{default:d(()=>[m("div",Qt,[m("div",{style:$({backgroundColor:b}),class:F(["w-6","h-6","rounded-full"])},null,4)])]),_:2},1032,["onClick","active"]))),128))]),_:1}),f(pe),f(J,null,{default:d(()=>[(a(!0),k(P,null,D(p(Ct),(b,y)=>(a(),_(G,{onClick:M=>i(b),active:l(b),key:b},{default:d(()=>[m("div",{class:F(["bg-gray-400","rounded-md","w-[15px]"]),style:$({height:`${y*5+1}px`})},null,4)]),_:2},1032,["onClick","active"]))),128))]),_:1}),f(pe),f(J,null,{default:d(()=>[f(G,{onClick:u,active:p(n),icon:"backspace_outline"},null,8,["active"]),f(G,{onClick:p(e),icon:"delete_outline"},null,8,["onClick"])]),_:1})]),_:1}))}});var to=he.extend({name:"focustrap-directive"}),oo=tt.extend({style:to});function N(o){"@babel/helpers - typeof";return N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N(o)}function fe(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),t.push.apply(t,n)}return t}function ve(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fe(Object(t),!0).forEach(function(n){no(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):fe(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function no(o,e,t){return(e=so(e))in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function so(o){var e=ro(o,"string");return N(e)=="symbol"?e:e+""}function ro(o,e){if(N(o)!="object"||!o)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var n=t.call(o,e||"default");if(N(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}var ao=oo.extend("focustrap",{mounted:function(e,t){var n=t.value||{},r=n.disabled;r||(this.createHiddenFocusableElements(e,t),this.bind(e,t),this.autoElementFocus(e,t)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,t){var n=t.value||{},r=n.disabled;r&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,t){var n=this,r=t.value||{},s=r.onFocusIn,i=r.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(c){c.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var u=function(g){var b=ce(g)?ce(g,n.getComputedSelector(e.$_pfocustrap_focusableselector))?g:j(e,n.getComputedSelector(e.$_pfocustrap_focusableselector)):j(g);return nt(b)?b:g.nextSibling&&u(g.nextSibling)};z(u(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(c){return s&&s(c)},e.$_pfocustrap_focusoutlistener=function(c){return i&&i(c)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:ve(ve({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,t){var n=t.value||{},r=n.autoFocusSelector,s=r===void 0?"":r,i=n.firstFocusableSelector,c=i===void 0?"":i,l=n.autoFocus,u=l===void 0?!1:l,v=j(e,"[autofocus]".concat(this.getComputedSelector(s)));u&&!v&&(v=j(e,this.getComputedSelector(c))),z(v)},onFirstHiddenElementFocus:function(e){var t,n=e.currentTarget,r=e.relatedTarget,s=r===n.$_pfocustrap_lasthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(r))?j(n.parentElement,this.getComputedSelector(n.$_pfocustrap_focusableselector)):n.$_pfocustrap_lasthiddenfocusableelement;z(s)},onLastHiddenElementFocus:function(e){var t,n=e.currentTarget,r=e.relatedTarget,s=r===n.$_pfocustrap_firsthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(r))?ot(n.parentElement,this.getComputedSelector(n.$_pfocustrap_focusableselector)):n.$_pfocustrap_firsthiddenfocusableelement;z(s)},createHiddenFocusableElements:function(e,t){var n=this,r=t.value||{},s=r.tabIndex,i=s===void 0?0:s,c=r.firstFocusableSelector,l=c===void 0?"":c,u=r.lastFocusableSelector,v=u===void 0?"":u,g=function(I){return st("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:i,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:I==null?void 0:I.bind(n)})},b=g(this.onFirstHiddenElementFocus),y=g(this.onLastHiddenElementFocus);b.$_pfocustrap_lasthiddenfocusableelement=y,b.$_pfocustrap_focusableselector=l,b.setAttribute("data-pc-section","firstfocusableelement"),y.$_pfocustrap_firsthiddenfocusableelement=b,y.$_pfocustrap_focusableselector=v,y.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(b),e.append(y)}}}),q=rt(),lo=function(e){var t=e.dt;return`
.p-popover {
    margin-block-start: `.concat(t("popover.gutter"),`;
    background: `).concat(t("popover.background"),`;
    color: `).concat(t("popover.color"),`;
    border: 1px solid `).concat(t("popover.border.color"),`;
    border-radius: `).concat(t("popover.border.radius"),`;
    box-shadow: `).concat(t("popover.shadow"),`;
}

.p-popover-content {
    padding: `).concat(t("popover.content.padding"),`;
}

.p-popover-flipped {
    margin-block-start: calc(`).concat(t("popover.gutter"),` * -1);
    margin-block-end: `).concat(t("popover.gutter"),`;
}

.p-popover-enter-from {
    opacity: 0;
    transform: scaleY(0.8);
}

.p-popover-leave-to {
    opacity: 0;
}

.p-popover-enter-active {
    transition: transform 0.12s cubic-bezier(0, 0, 0.2, 1), opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
}

.p-popover-leave-active {
    transition: opacity 0.1s linear;
}

.p-popover:after,
.p-popover:before {
    bottom: 100%;
    left: calc(`).concat(t("popover.arrow.offset")," + ").concat(t("popover.arrow.left"),`);
    content: " ";
    height: 0;
    width: 0;
    position: absolute;
    pointer-events: none;
}

.p-popover:after {
    border-width: calc(`).concat(t("popover.gutter"),` - 2px);
    margin-left: calc(-1 * (`).concat(t("popover.gutter"),` - 2px));
    border-style: solid;
    border-color: transparent;
    border-bottom-color: `).concat(t("popover.background"),`;
}

.p-popover:before {
    border-width: `).concat(t("popover.gutter"),`;
    margin-left: calc(-1 * `).concat(t("popover.gutter"),`);
    border-style: solid;
    border-color: transparent;
    border-bottom-color: `).concat(t("popover.border.color"),`;
}

.p-popover-flipped:after,
.p-popover-flipped:before {
    bottom: auto;
    top: 100%;
}

.p-popover.p-popover-flipped:after {
    border-bottom-color: transparent;
    border-top-color: `).concat(t("popover.background"),`;
}

.p-popover.p-popover-flipped:before {
    border-bottom-color: transparent;
    border-top-color: `).concat(t("popover.border.color"),`;
}
`)},io={root:"p-popover p-component",content:"p-popover-content"},co=he.extend({name:"popover",theme:lo,classes:io}),uo={name:"BasePopover",extends:_t,props:{dismissable:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null},closeOnEscape:{type:Boolean,default:!0}},style:co,provide:function(){return{$pcPopover:this,$parentInstance:this}}},$e={name:"Popover",extends:uo,inheritAttrs:!1,emits:["show","hide"],data:function(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler:function(e){e?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,documentKeydownListener:null,beforeUnmount:function(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&ne.clear(this.container),this.overlayEventListener&&(q.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted:function(){this.breakpoints&&this.createStyle()},methods:{toggle:function(e,t){this.visible?this.hide():this.show(e,t)},show:function(e,t){this.visible=!0,this.eventTarget=e.currentTarget,this.target=t||e.currentTarget},hide:function(){this.visible=!1},onContentClick:function(){this.selfClick=!0},onEnter:function(e){var t=this;at(e,{position:"absolute",top:"0",left:"0"}),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&ne.set("overlay",e,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=function(n){t.container.contains(n.target)&&(t.selfClick=!0)},this.focus(),q.on("overlay-click",this.overlayEventListener),this.$emit("show"),this.closeOnEscape&&this.bindDocumentKeyDownListener()},onLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.unbindDocumentKeyDownListener(),q.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave:function(e){this.autoZIndex&&ne.clear(e)},alignOverlay:function(){lt(this.container,this.target,!1);var e=ue(this.container),t=ue(this.target),n=0;e.left<t.left&&(n=t.left-e.left),this.container.style.setProperty(it("popover.arrow.left").name,"".concat(n,"px")),e.top<t.top&&(this.container.setAttribute("data-p-popover-flipped","true"),!this.isUnstyled&&ct(this.container,"p-popover-flipped"))},onContentKeydown:function(e){e.code==="Escape"&&this.closeOnEscape&&(this.hide(),z(this.target))},onButtonKeydown:function(e){switch(e.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":e.preventDefault()}},focus:function(){var e=this.container.querySelector("[autofocus]");e&&e.focus()},onKeyDown:function(e){e.code==="Escape"&&this.closeOnEscape&&(this.visible=!1)},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},bindOutsideClickListener:function(){var e=this;!this.outsideClickListener&&ut()&&(this.outsideClickListener=function(t){e.visible&&!e.selfClick&&!e.isTargetClicked(t)&&(e.visible=!1),e.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new dt(this.target,function(){e.visible&&(e.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.visible&&!pt()&&(e.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked:function(e){return this.eventTarget&&(this.eventTarget===e.target||this.eventTarget.contains(e.target))},containerRef:function(e){this.container=e},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",ft(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var n in this.breakpoints)t+=`
                        @media screen and (max-width: `.concat(n,`) {
                            .p-popover[`).concat(this.$attrSelector,`] {
                                width: `).concat(this.breakpoints[n],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick:function(e){q.emit("overlay-click",{originalEvent:e,target:this.target})}},directives:{focustrap:ao,ripple:vt},components:{Portal:mt}},po=["aria-modal"];function fo(o,e,t,n,r,s){var i=ht("Portal"),c=bt("focustrap");return a(),_(i,{appendTo:o.appendTo},{default:d(function(){return[f(gt,R({name:"p-popover",onEnter:s.onEnter,onLeave:s.onLeave,onAfterLeave:s.onAfterLeave},o.ptm("transition")),{default:d(function(){return[r.visible?be((a(),k("div",R({key:0,ref:s.containerRef,role:"dialog","aria-modal":r.visible,onClick:e[3]||(e[3]=function(){return s.onOverlayClick&&s.onOverlayClick.apply(s,arguments)}),class:o.cx("root")},o.ptmi("root")),[o.$slots.container?w(o.$slots,"container",{key:0,closeCallback:s.hide,keydownCallback:function(u){return s.onButtonKeydown(u)}}):(a(),k("div",R({key:1,class:o.cx("content"),onClick:e[0]||(e[0]=function(){return s.onContentClick&&s.onContentClick.apply(s,arguments)}),onMousedown:e[1]||(e[1]=function(){return s.onContentClick&&s.onContentClick.apply(s,arguments)}),onKeydown:e[2]||(e[2]=function(){return s.onContentKeydown&&s.onContentKeydown.apply(s,arguments)})},o.ptm("content")),[w(o.$slots,"default")],16))],16,po)),[[c]]):x("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])}$e.render=fo;const re=h({__name:"Popover",props:{offset:{default:12}},setup(o){const e=S(),t=r=>{e.value.toggle(r)},n=S(!1);return(r,s)=>(a(),k(P,null,[w(r.$slots,"activator",{toggle:t,isOpen:n.value}),f(p($e),{unstyled:"",ref_key:"op",ref:e,onShow:s[0]||(s[0]=i=>n.value=!0),onHide:s[1]||(s[1]=i=>n.value=!1)},{default:d(()=>[m("div",{style:$({transform:`translateY(${r.offset}px)`})},[w(r.$slots,"default")],4)]),_:3},512)],64))}}),vo=h({__name:"Well",props:{color:{default:E.GRAY_800},textColor:{default:E.WHITE}},setup(o){return(e,t)=>(a(),k("div",{style:$({backgroundColor:e.color,color:e.textColor})},[w(e.$slots,"default")],4))}}),W=h({__name:"GWell",props:{secondary:{type:Boolean,default:!1},tertiary:{type:Boolean,default:!1}},setup(o){const e=O(),t=o,n=C(()=>t.secondary?e.value.secondary:t.tertiary?e.value.tertiary:e.value.primary);return(r,s)=>(a(),_(vo,R(r.$attrs,{color:n.value,"text-color":p(e).text}),{default:d(()=>[w(r.$slots,"default")]),_:3},16,["color","text-color"]))}}),mo="/icons/arrow_right_alt.svg",_o="/icons/step_over.svg",ho={class:"min-w-20 min-h-20 max-w-20 max-h-20 rounded-md"},bo=["src"],go={class:"flex flex-col gap-1"},yo={class:"text-lg font-bold"},ko={class:"text-sm opacity-80"},wo=h({__name:"VerticalCardButton",props:{imageSrc:{},color:{default:E.GRAY_800},hoverColor:{},title:{},description:{}},setup(o){const e=o,t=C(()=>{if(e.hoverColor)return e.hoverColor;const s=ke(e.color);return(s.isDark()?s.lighten(10):s.darken(10)).toHexString()}),n=C(()=>r.value?t.value:e.color),r=S(!1);return(s,i)=>(a(),k("button",{onMouseenter:i[0]||(i[0]=c=>r.value=!0),onMouseleave:i[1]||(i[1]=c=>r.value=!1),style:$({backgroundColor:n.value}),class:"p-2 cursor-pointer text-left flex gap-4"},[m("div",ho,[s.imageSrc?(a(),k("img",{key:0,src:s.imageSrc,class:"object-cover aspect-square rounded-md"},null,8,bo)):x("",!0)]),m("div",go,[m("h1",yo,B(s.title),1),m("p",ko,B(s.description),1)])],36))}}),Se=h({__name:"GVerticalCardButton",setup(o){const e=O();return(t,n)=>(a(),_(wo,R(t.$attrs,{color:p(e).primary,"hover-color":p(e).secondary}),null,16,["color","hover-color"]))}}),Co={key:0,class:"flex items-center gap-3"},$o=h({__name:"ProductItem",props:{product:{}},setup(o){const{navigate:e}=Ft(),t=Pt(),n=c=>{X.value={nodes:L.value.nodes.value,edges:L.value.edges.value},e(c)},r=o,s=S(!1),i=S("");return setTimeout(()=>{i.value=r.product.menu.thumbnail},ge(0,100)),(c,l)=>(a(),k("div",{onMouseenter:l[2]||(l[2]=u=>s.value=!0),onMouseleave:l[3]||(l[3]=u=>s.value=!1),class:"relative"},[m("div",{class:"absolute w-full h-full z-10 grid place-items-center transition duration-200",style:$({opacity:s.value?1:0})},[p(t).productId!==c.product.productId?(a(),k("div",Co,[f(T,{onClick:l[0]||(l[0]=u=>p(e)(c.product)),tertiary:"",class:"grid place-items-center w-[120px] text-sm"},{default:d(()=>l[4]||(l[4]=[m("img",{src:mo,class:"w-8 h-8",alt:"go to product"},null,-1),V(" go ")])),_:1}),p(Bt)(c.product)?x("",!0):(a(),_(T,{key:0,onClick:l[1]||(l[1]=u=>n(c.product)),tertiary:"",class:"grid place-items-center w-[120px] text-sm"},{default:d(()=>l[5]||(l[5]=[m("img",{src:_o,class:"w-8 h-8",alt:"go to product with graph"},null,-1),V(" go with graph ")])),_:1}))])):(a(),_(W,{key:1,tertiary:"",class:"flex items-center gap-2 px-2 py-1 rounded-md text-xl font-bold overflow-hidden"},{default:d(()=>[f(A,{icon:"star",class:"text-xl"}),l[6]||(l[6]=V(" you are here ")),f(A,{icon:"star",class:"text-xl"})]),_:1}))],4),f(Se,{"image-src":i.value,title:c.product.menu.name,description:c.product.menu.description,class:"rounded-md",style:$({opacity:s.value?.5:1})},null,8,["image-src","title","description","style"])],32))}}),So={class:"flex flex-col gap-2"},Eo=h({__name:"ProductDropdownMenu",setup(o){const e=U.filter(n=>n==null?void 0:n.menu),t=de.reduce((n,r)=>(n[r]=[],n),{});return e.forEach(n=>{t[n.menu.category].push(n)}),(n,r)=>(a(),_(W,{class:"flex flex-col p-2 w-[400px] h-[500px] overflow-auto rounded-lg"},{default:d(()=>[(a(!0),k(P,null,D(p(de),s=>(a(),k("div",null,[p(t)[s].length>0?(a(),_(W,{key:0,tertiary:"",class:"text-xl font-bold capitalize my-2 text-center p-1 rounded-md"},{default:d(()=>[V(B(s),1)]),_:2},1024)):x("",!0),m("div",So,[(a(!0),k(P,null,D(p(t)[s],i=>(a(),_($o,{key:i.productId,product:i},null,8,["product"]))),128))])]))),256))]),_:1}))}}),xo=h({__name:"ProductDropdown",setup(o){const e=O();return(t,n)=>(a(),_(re,null,{activator:d(({toggle:r})=>[f(T,{onClick:r,class:"px-4 py-2 text-xl rounded-lg"},{default:d(()=>[m("span",{class:F(`text-${p(e).brand}`)},"Magic Algorithms",2)]),_:2},1032,["onClick"])]),default:d(()=>[f(Eo)]),_:1}))}}),Lo=["onMouseenter","onMouseleave"],To=h({__name:"PopoverTooltip",props:{offset:{default:4}},setup(o){return(e,t)=>(a(),_(re,{offset:e.offset},{activator:d(({toggle:n})=>[m("div",{onMouseenter:n,onMouseleave:n},[w(e.$slots,"default")],40,Lo)]),default:d(()=>[w(e.$slots,"content")]),_:3},8,["offset"]))}}),Oo={key:0,class:"absolute bg-black w-full h-full z-10 rounded-md bg-opacity-50 grid place-items-center"},Fo=["innerHTML"],Po=h({__name:"SelectSimGuard",props:{simulation:{}},setup(o){const e=o,t=C(()=>{var n;return(n=e.simulation.canRun)==null?void 0:n.check()});return(n,r)=>t.value?(a(),k("div",Oo,[f(To,null,{content:d(()=>[f(W,{tertiary:"",class:"max-w-72 rounded-lg p-2"},{default:d(()=>[m("span",{innerHTML:t.value.description,class:"font-bold"},null,8,Fo)]),_:1})]),default:d(()=>[f(ye,{onMouseenter:r[0]||(r[0]=s=>{var i;return(i=t.value.themer)==null?void 0:i.theme()}),onMouseleave:r[1]||(r[1]=s=>{var i;return(i=t.value.themer)==null?void 0:i.untheme()}),color:p(E).GRAY_900,"text-color":p(E).RED_500,class:"text-lg rounded-lg px-2 py-1"},{default:d(()=>[V(B(t.value.title),1)]),_:1},8,["color","text-color"])]),_:1})])):x("",!0)}}),Bo=h({__name:"SimCard",props:{simulation:{}},setup(o){const e=o,t=S("");return setTimeout(()=>{t.value=e.simulation.thumbnail},ge(0,100)),(n,r)=>(a(),_(Se,{"image-src":t.value,title:n.simulation.name,description:n.simulation.description,class:"rounded-md"},null,8,["image-src","title","description"]))}}),Io=h({__name:"SelectSim",props:{simulations:{}},emits:["simulation-selected"],setup(o,{emit:e}){const t=o,n=e,r=C(()=>{const s=t.simulations,i=s.filter(l=>{var u;return(u=l.canRun)==null?void 0:u.check()});return[...s.filter(l=>{var u;return!((u=l.canRun)!=null&&u.check())}),...i]});return(s,i)=>(a(),_(re,null,{activator:d(({toggle:c})=>[f(T,{onClick:c,class:"h-14 w-14 rounded-full"},{default:d(()=>[f(A,{class:"text-3xl",icon:"play_arrow"})]),_:2},1032,["onClick"])]),default:d(()=>[f(W,{class:"flex flex-col p-2 w-[400px] gap-1 rounded-lg"},{default:d(()=>[(a(!0),k(P,null,D(r.value,c=>(a(),k("div",{key:c.name,class:"relative"},[f(Po,{simulation:c},null,8,["simulation"]),f(Bo,{onClick:l=>n("simulation-selected",c),simulation:c},null,8,["onClick","simulation"])]))),128))]),_:1})]),_:1}))}}),Ro=h({__name:"StopSimButton",setup(o){return(e,t)=>(a(),_(T,{color:p(E).RED_500,class:"h-14 w-14 rounded-full"},{default:d(()=>[f(A,{class:"text-3xl",icon:"stop"})]),_:1},8,["color"]))}}),Do=h({__name:"FullscreenButton",setup(o){const{toggle:e,isFullscreen:t}=yt(),n=r=>{r.key.toLowerCase()==="f"&&e()};return L.value.subscribe("onKeyDown",n),_e(()=>L.value.unsubscribe("onKeyDown",n)),(r,s)=>(a(),_(T,{onClick:p(e),class:"h-12 w-12"},{default:d(()=>[f(A,{class:"text-3xl",icon:p(t)?"fullscreen_exit":"fullscreen"},null,8,["icon"])]),_:1},8,["onClick"]))}}),Ao=h({__name:"ThemeToolbar",setup(o){const e={auto:"settings_outline",light:"light_mode_outline",dark:"dark_mode_outline",girl:"girl"};return(t,n)=>(a(),_(Ce,null,{default:d(()=>[f(J,null,{default:d(()=>[(a(),k(P,null,D(e,(r,s)=>f(G,{key:s,onClick:i=>p(L).preferredTheme.value=s,icon:r,active:s===p(L).preferredTheme.value},null,8,["onClick","icon","active"])),64))]),_:1})]),_:1}))}}),Mo={class:"absolute top-6 w-full flex flex-col justify-center items-center gap-2"},Ho={class:"absolute grid place-items-center left-4 top-0 h-full max-w-96"},Ko={class:"relative max-h-3/4 w-full grid place-items-center overflow-auto"},jo={class:"absolute grid place-items-center right-4 top-0 h-full max-w-96"},zo={class:"relative max-h-3/4 w-full grid place-items-center overflow-auto"},Go={class:"absolute top-6 left-6"},Vo={class:"absolute top-6 right-6"},No={class:"absolute bottom-8 gap-4 w-full flex flex-col justify-center items-center"},Wo={class:"absolute flex gap-2 bottom-8 right-8"},en=h({__name:"GraphProduct",props:{graph:{}},emits:["graph-ref","simulation-started","simulation-stopped"],setup(o,{emit:e}){const t=o,n=e,r=Ot(t.graph),s=S(r[0]),i=S(!1),c=C(()=>s.value.runner),l=C(()=>c.value.simControls.isActive),u=async()=>{i.value=!0,n("simulation-started",s.value),await c.value.start()},v=async()=>{await c.value.stop(),i.value=!1,n("simulation-stopped")},g=y=>{s.value=y,u()},b=S();return It(t.graph),me(()=>{n("graph-ref",b.value)}),(y,M)=>(a(),k(P,null,[f($t,{onGraphRef:M[0]||(M[0]=I=>b.value=I),graph:y.graph},null,8,["graph"]),m("div",Mo,[i.value?w(y.$slots,"top-center-sim",{key:0}):w(y.$slots,"top-center",{key:1})]),m("div",Ho,[m("div",Ko,[i.value?w(y.$slots,"center-left-sim",{key:0}):w(y.$slots,"center-left",{key:1})])]),m("div",jo,[m("div",zo,[i.value?w(y.$slots,"center-right-sim",{key:0}):w(y.$slots,"center-right",{key:1})])]),m("div",Go,[f(xo)]),m("div",Vo,[i.value?w(y.$slots,"top-right-sim",{key:0},()=>[f(Ro,{onClick:v})]):w(y.$slots,"top-right",{key:1},()=>[f(Io,{onSimulationSelected:g,simulations:p(r)},null,8,["simulations"])])]),m("div",No,[i.value&&l.value?w(y.$slots,"bottom-center-sim",{key:0},()=>[f(Nt,{controls:c.value.simControls},null,8,["controls"])]):w(y.$slots,"bottom-center",{key:1},()=>[be(m("div",null,[f(eo)],512),[[kt,y.graph.annotation.isActive.value]])])]),m("div",Wo,[f(Ao),f(Do)])],64))}});export{en as _,T as a,W as b,To as c,re as d,U as e,G as f,pe as g,J as h,Ce as i,Zt as j,Qo as p,Ft as u};
