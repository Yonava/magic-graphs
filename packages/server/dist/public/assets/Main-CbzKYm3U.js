import{u as b,_ as h}from"./Graph.vue_vue_type_script_setup_true_lang-CA2NXWW6.js";import{_ as N}from"./SimulationPlaybackControls.vue_vue_type_script_setup_true_lang-_sEwRkjl.js";import{b as E}from"./CollabControls.vue_vue_type_script_setup_true_lang-Bq5Lb5KA.js";import{e as C,C as F,o as r,c as p,y as i,w as u,d as c,z as f,A as o,M as S,B as a,a as _,t as x,a7 as A,J as T,g as $,a8 as P,a9 as R,aa as L,ab as B,ac as G,b as k}from"./index-BPwtkuqT.js";import{_ as d}from"./Button.vue_vue_type_script_setup_true_lang-nTjL8jw0.js";import"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-Bjk6YpUy.js";const I={class:"flex gap-3"},V={key:2,class:"flex gap-3"},H=C({__name:"SourceSinkControls",props:{simControls:{},sourceSink:{}},setup(n){const l=n,e=F(()=>l.simControls.isActive.value);return(s,t)=>(r(),p("div",I,[e.value?(r(),i(d,{key:1,style:f({backgroundColor:o(a).RED_600,color:o(a).WHITE}),onClick:s.simControls.stop},{default:u(()=>t[1]||(t[1]=[c(" Stop Simulation ")])),_:1},8,["style","onClick"])):(r(),i(d,{key:0,onClick:s.simControls.start,style:f({backgroundColor:o(a).BLUE_500,color:o(a).WHITE})},{default:u(()=>t[0]||(t[0]=[c(" Run Flow Simulation ")])),_:1},8,["onClick","style"])),e.value?S("",!0):(r(),p("div",V,[s.sourceSink.cancelSetSourceNode.value?(r(),i(d,{key:1,onClick:s.sourceSink.cancelSetSourceNode.value,style:f({backgroundColor:o(a).RED_500,color:o(a).WHITE})},{default:u(()=>t[3]||(t[3]=[c(" Cancel ")])),_:1},8,["onClick","style"])):(r(),i(d,{key:0,onClick:s.sourceSink.setSourceNode},{default:u(()=>t[2]||(t[2]=[c(" Switch Source ")])),_:1},8,["onClick"])),s.sourceSink.cancelSetSinkNode.value?(r(),i(d,{key:3,onClick:s.sourceSink.cancelSetSinkNode.value,style:f({backgroundColor:o(a).RED_500,color:o(a).WHITE})},{default:u(()=>t[5]||(t[5]=[c(" Cancel ")])),_:1},8,["onClick","style"])):(r(),i(d,{key:2,onClick:s.sourceSink.setSinkNode},{default:u(()=>t[4]||(t[4]=[c(" Switch Sink ")])),_:1},8,["onClick"]))]))]))}}),W={persistent:!0,persistentStorageKey:"network-flow",userAddedEdgeLabel:"5",userAddedEdgeRuleNoSelfLoops:!0,userAddedEdgeRuleOneEdgePerPath:!0,edgeInputToLabel:n=>{const l=Number(n);return!isNaN(l)&&l>=0&&l<100?n:void 0}},z={class:"flex gap-3"},D={class:"font-bold text-xl"},M=C({__name:"FlowProperties",props:{flowProperties:{}},setup(n){return(l,e)=>(r(),p("div",z,[_("span",D," Max Flow: "+x(l.flowProperties.maxFlow??"N/A"),1)]))}}),O=(n,{source:l,sink:e})=>{const{maxFlow:s}=A(n,{source:l,sink:e});return{maxFlow:T(s)}},j={class:"w-full h-full relative"},J={class:"absolute w-full h-full"},K={class:"absolute top-0 p-3"},U={class:"absolute top-0 right-0 p-3 text-white flex gap-3"},q={key:0,class:"absolute bottom-8 w-full flex justify-center items-center p-3"},Q={key:1,class:"absolute right-0 p-3 h-14 flex gap-3 bottom-0"},le=C({__name:"Main",setup(n){const l=$(),e=b(l,{settings:W});e.settings.value.newNodeLabelGetter=P(e);const s=R(e),t=O(e,s),m=L(e,s),{activate:v}=B(e),{stylize:w}=G(e,s);return v(),w(),(X,g)=>(r(),p("div",j,[_("div",J,[k(h,{onGraphRef:g[0]||(g[0]=y=>l.value=y),graph:o(e)},null,8,["graph"])]),_("div",K,[k(H,{sourceSink:o(s),"sim-controls":o(m)},null,8,["sourceSink","sim-controls"])]),_("div",U,[k(M,{"flow-properties":o(t)},null,8,["flow-properties"])]),o(m).isActive.value?(r(),p("div",q,[k(N,{controls:o(m)},null,8,["controls"])])):S("",!0),o(m).isActive.value?S("",!0):(r(),p("div",Q,[k(E,{graph:o(e)},null,8,["graph"])]))]))}});export{le as default};
