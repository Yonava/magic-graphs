import{u as I,P as q,R as J,d as f,o as r,c as u,b as v,w as N,e as k,v as c,x as d,F as x,g as A,y as Z,z as M,A as T,B as X,f as R,C,a as p,t as y,D as K,E as L,G as z,H as $,I as O,J as ee,K as oe,L as H,M as te,N as se,O as le}from"./index-X-1QUzvR.js";import{T as G,u as ae,i as ne,_ as re}from"./Graph.vue_vue_type_script_setup_true_lang-OJg9rFBy.js";import{u as de,c as B,a as ie}from"./string-CSPQ6rjJ.js";import{T as ue,_ as ce}from"./TutorialHint.vue_vue_type_script_setup_true_lang-DwSwWxVw.js";import{_ as S}from"./Button.vue_vue_type_script_setup_true_lang-BPNDQ8Ec.js";import{_ as ge}from"./InputRange.vue_vue_type_script_setup_true_lang-BRSMYHOI.js";import"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-_FAHmvQA.js";const h={reset:"reset",draggable:"draggable",nodeAnchors:"node-anchors",edgeLabels:"edge-labels",edgeLabelsEditable:"edge-labels-editable",edgeWeight:"edge-weight",nodeSize:"node-size",storageKey:"storage-key",clearLocalStorage:"clear-local-storage",persistentGraphClone:"persistent-graph-clone",log:"log",bfsColorize:"toggle-bfs-colorize"},pe=e=>({greeting:{hint:"Welcome to the graph editor tutorial",dismiss:"onClick"},goodbye:{hint:"Have fun editing graphs!",dismiss:"onTimeout",after:3e3},createNode:{hint:"Double click anywhere to add a node",dismiss:"onNodeAdded"},moveNode:{hint:"Drag a node to move it",dismiss:"onNodeDrop"},createEdge:{hint:"Create an edge by dragging an anchor onto another node",dismiss:"onEdgeAdded"},createSelfDirectedEdge:{hint:'You can even create self directed edges! Make sure you are in "directed" mode and drag an anchor inwards',dismiss:{event:"onEdgeAdded",predicate:o=>o.to===o.from}},editEdgeWeight:{hint:"Edit the edge weight by clicking on it and typing a number",dismiss:"onEdgeLabelEdited"},removeElement:me(e)}),me=e=>{let o=!1;const t=()=>o=!0,{setTheme:s,removeAllThemes:l}=I(e,ue);return{hint:"Remove an edge or node by clicking on it and hitting backspace/delete",dismiss:{event:"onInterval",predicate:()=>o},onInit:()=>{o=!1,s("nodeAnchorColor",a=>a.label==="1"?q:J),e.subscribe("onEdgeRemoved",t),e.subscribe("onNodeRemoved",t)},onDismiss:()=>{l(),e.unsubscribe("onEdgeRemoved",t),e.unsubscribe("onNodeRemoved",t)}}},ve=e=>{const{greeting:o,createNode:t,moveNode:s,createEdge:l,createUndirectedEdge:a,editEdgeWeight:n,removeElement:g,goodbye:i}=pe(e);return[o,t,s,l,a,n,g,i]},_e=e=>({basics:ve(e)}),be=e=>de(e,_e(e).basics),he=f({__name:"TutorialControls",props:{tutorial:{}},setup(e){return(o,t)=>(r(),u(x,null,[v(S,{onClick:o.tutorial.prevStep,color:c(d).BLUE_600},{default:N(()=>t[0]||(t[0]=[k(" Previous Step ")])),_:1},8,["onClick","color"]),v(S,{onClick:o.tutorial.nextStep,color:c(d).BLUE_600},{default:N(()=>t[1]||(t[1]=[k(" Next Step ")])),_:1},8,["onClick","color"]),v(S,{onClick:o.tutorial.stop,color:c(d).BLUE_600},{default:N(()=>t[2]||(t[2]=[k(" End Tutorial ")])),_:1},8,["onClick","color"]),v(S,{onClick:o.tutorial.start,color:c(d).BLUE_600},{default:N(()=>t[3]||(t[3]=[k(" Restart Tutorial ")])),_:1},8,["onClick","color"])],64))}}),fe="product/search-visualizer",Ee=(e,o)=>{const t=A({}),s=A(o),{adjacencyList:l}=Z(e),a=()=>{if(t.value={},!s.value||!l.value[s.value])return;let n=[s.value];const g=new Set(n);let i=0;for(;n.length>0;){const m=[];for(const E of n){t.value[E]=i;for(const b of l.value[E])g.has(b)||(g.add(b),m.push(b))}n=[],n.push(...m),i++}};return e.subscribe("onStructureChange",a),M(()=>e.unsubscribe("onStructureChange",a)),T(s,a),{bfsLevelRecord:X(t),startNode:s}},Ce=[d.RED_600,d.ORANGE_600,d.YELLOW_600,d.GREEN_600,d.TEAL_600,d.BLUE_600,d.INDIGO_600,d.PURPLE_600],ye=e=>{var E;const o=A(!1),{setTheme:t,removeTheme:s}=I(e,fe),{bfsLevelRecord:l,startNode:a}=Ee(e,(E=e.nodes.value[0])==null?void 0:E.id),n=()=>{if(a.value===void 0){const[_]=e.nodes.value;_&&(a.value=_.id)}if(!e.nodes.value.find(_=>_.id===a.value)){const[_]=e.nodes.value;a.value=_?_.id:void 0}},g=b=>{if(e.isFocused(b.id))return;const _=l.value[b.id];if(_===void 0)return;const U=Ce;return U[_%U.length]},i=()=>{t("nodeBorderColor",g),t("nodeAnchorColor",g),o.value=!0},m=()=>{s("nodeBorderColor"),s("nodeAnchorColor"),o.value=!1};return T(o,()=>{o.value?i():m()}),e.subscribe("onNodeRemoved",n),e.subscribe("onNodeAdded",n),M(()=>{e.unsubscribe("onNodeRemoved",n),e.unsubscribe("onNodeAdded",n)}),{isColorized:o,colorize:i,decolorize:m,toggleColorize:()=>o.value=!o.value,bfsLevelRecord:l,startNode:a}},Le=e=>{const o={label:()=>"Reset",action:()=>e.reset(),color:()=>d.RED_600,id:h.reset},t={label:()=>e.settings.value.draggable?"Draggable":"Not Draggable",action:()=>e.settings.value.draggable=!e.settings.value.draggable,color:()=>e.settings.value.draggable?d.GREEN_600:d.ORANGE_600,id:h.draggable},s={label:()=>e.settings.value.nodeAnchors?"Anchors":"No Anchors",action:()=>e.settings.value.nodeAnchors=!e.settings.value.nodeAnchors,color:()=>e.settings.value.nodeAnchors?d.GREEN_600:d.ORANGE_600,id:h.nodeAnchors},l={label:()=>e.settings.value.displayEdgeLabels?"Edge Labels":"No Edge Labels",action:()=>e.settings.value.displayEdgeLabels=!e.settings.value.displayEdgeLabels,color:()=>e.settings.value.displayEdgeLabels?d.GREEN_600:d.ORANGE_600,id:h.edgeLabels},a={label:()=>e.settings.value.edgeLabelsEditable?"Edge Labels Editable":"Edge Labels Not Editable",action:()=>e.settings.value.edgeLabelsEditable=!e.settings.value.edgeLabelsEditable,color:()=>e.settings.value.edgeLabelsEditable?d.GREEN_600:d.ORANGE_600,id:h.edgeLabelsEditable},n={label:()=>{const{persistentStorageKey:V}=e.settings.value;return`Change Storage Key (${V})`},action:()=>{const{persistentStorageKey:V}=e.settings.value,w=V==="graph"?"graph2":"graph";e.settings.value.persistentStorageKey=w},color:()=>d.PURPLE_600,id:h.storageKey},g={label:()=>"Clear Local Storage",action:()=>localStorage.clear(),color:()=>d.RED_600,id:h.clearLocalStorage},i={label:()=>"Clone Search Visualizer Graph",action:()=>{e.settings.value.persistentStorageKey="search-visualizer-graph"},color:()=>d.AMBER_600,id:h.persistentGraphClone},m={label:()=>"Log",action:()=>{},color:()=>d.BLUE_600,id:h.log},{toggleColorize:E,isColorized:b,startNode:_}=ye(e),D={reset:o,clearLocalStorage:g,toggleEdgeLabelDisplay:l,toggleEdgeLabelsEditable:a,toggleDraggable:t,toggleNodeAnchors:s,changeStorageKey:n,persistentGraphClone:i,bfsColorize:{label:()=>{const V="Colorize",w=e.getNode(_.value),Y=`Stop Colorizing (${w==null?void 0:w.label})`;return b.value?Y:V},color:()=>b.value?d.GREEN_600:d.BLUE_600,action:E,id:"toggle-bfs-colorize"},log:m},Q=Object.values(D);return{...D,btnArr:Q}},Ne={class:"select-none"},Se=f({__name:"GraphBtns",props:{btns:{}},setup(e){const o=t=>t?t():!0;return(t,s)=>(r(!0),u(x,null,R(t.btns,l=>(r(),u("div",null,[o(l.cond)?(r(),C(S,{key:0,onClick:K(l.action,["stop"]),color:l.color(),"text-color":"white",id:l.id},{default:N(()=>[p("span",Ne,y(l.label()),1)]),_:2},1032,["onClick","color","id"])):L("",!0)]))),256))}}),xe=["value"],P="#000000",j=f({__name:"InputColor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=z(e,"modelValue"),t=$({get:()=>o.value,set:n=>o.value=n}),s=$(()=>{if(t.value){if(O(t.value))return t.value.slice(7)}else return"";return""}),l=$(()=>{if(t.value){if(O(t.value))return t.value.slice(0,7);if(ee(t.value))return t.value}else return P;return P}),a=n=>{n.target instanceof HTMLInputElement&&(t.value=n.target.value+s.value)};return(n,g)=>(r(),u("input",{onInput:a,value:l.value,type:"color",class:oe("p-1 w-10 h-full rounded-md appearance-none")},null,40,xe))}}),F=f({__name:"InputText",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=z(e,"modelValue");return(t,s)=>H((r(),u("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>o.value=l),type:"text",class:"p-1 border border-gray-300 rounded-md"},null,512)),[[te,o.value]])}}),Ve={class:"px-4 my-2"},we={class:"my-2"},ke={class:"flex flex-wrap gap-3"},Ae=["onClick"],Re={class:"my-2"},Te={class:"text-white mb-2"},Ue={class:"font-bold text-lg"},$e={class:"text-md"},Ge={key:3,class:"text-red-500 font-bold"},Be=f({__name:"ThemeControls",props:{graph:{}},setup(e){const o=e,{setTheme:t}=I(o.graph,"playground-theme-controls"),s=A(G[o.graph.themeName.value]);return T(s,()=>{const a=Object.entries(s.value);for(const[n,g]of a)t(n,g)},{deep:!0}),(a,n)=>(r(),u("div",Ve,[n[1]||(n[1]=p("div",null,[p("h2",{class:"text-2xl font-bold text-white"},"Theme Controls")],-1)),p("div",we,[n[0]||(n[0]=p("div",{class:"mb-2"},[p("h1",{class:"text-xl font-bold text-white"},"Presets")],-1)),p("div",ke,[(r(!0),u(x,null,R(c(G),(g,i)=>(r(),u("div",{onClick:m=>a.graph.themeName.value=i},[v(S,{style:{width:"120px","text-align":"center"}},{default:N(()=>[k(y(c(B)(i)),1)]),_:2},1024)],8,Ae))),256))])]),(r(!0),u(x,null,R(c(G)[a.graph.themeName.value],(g,i)=>(r(),u("div",Re,[p("div",Te,[p("h3",Ue,y(c(B)(i)),1),p("h4",$e,y(g),1)]),typeof g=="string"&&i.toLowerCase().includes("color")?(r(),C(j,{key:0,modelValue:s.value[i],"onUpdate:modelValue":m=>s.value[i]=m,style:{width:"100px",height:"30px"}},null,8,["modelValue","onUpdate:modelValue"])):typeof g=="string"?(r(),C(F,{key:1,modelValue:s.value[i],"onUpdate:modelValue":m=>s.value[i]=m},null,8,["modelValue","onUpdate:modelValue"])):typeof g=="number"?(r(),C(ge,{key:2,modelValue:s.value[i],"onUpdate:modelValue":m=>s.value[i]=m,style:{width:"100%"},min:0,max:100},null,8,["modelValue","onUpdate:modelValue"])):(r(),u("h5",Ge," Not Supported "))]))),256))]))}}),W=f({__name:"InputCheckbox",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const o=z(e,"modelValue");return(t,s)=>H((r(),u("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>o.value=l),type:"checkbox"},null,512)),[[se,o.value]])}}),Ie=["onClick"],ze={class:"text-white font-bold"},De=f({__name:"GraphPlaygroundControls",props:{playgroundControls:{}},setup(e){return(o,t)=>(r(!0),u(x,null,R(o.playgroundControls,(s,l)=>(r(),u("div",{class:"flex gap-3 items-center pl-3 py-2 hover:bg-gray-800 cursor-pointer",onClick:a=>o.playgroundControls[l]=!o.playgroundControls[l]},[v(W,{modelValue:o.playgroundControls[l],"onUpdate:modelValue":a=>o.playgroundControls[l]=a,class:"h-6 w-6 rounded-xl cursor-pointer"},null,8,["modelValue","onUpdate:modelValue"]),p("h2",ze,y(c(ie)(l)),1)],8,Ie))),256))}}),Oe={class:"my-2 px-4"},Pe={class:"text-white mb-2"},Me={class:"font-bold text-lg"},He={class:"text-md"},je={key:3,class:"text-red-500 font-bold"},Fe=f({__name:"SettingsControls",props:{graph:{}},setup(e){return(o,t)=>(r(!0),u(x,null,R(o.graph.settings.value,(s,l)=>(r(),u("div",Oe,[p("div",Pe,[p("h3",Me,y(c(B)(l)),1),p("h4",He,y(s),1)]),typeof s=="string"&&l.toLowerCase().includes("color")?(r(),C(j,{key:0,modelValue:o.graph.settings.value[l],"onUpdate:modelValue":a=>o.graph.settings.value[l]=a,style:{width:"100px",height:"30px"}},null,8,["modelValue","onUpdate:modelValue"])):typeof s=="string"?(r(),C(F,{key:1,modelValue:o.graph.settings.value[l],"onUpdate:modelValue":a=>o.graph.settings.value[l]=a},null,8,["modelValue","onUpdate:modelValue"])):typeof s=="boolean"?(r(),C(W,{key:2,modelValue:o.graph.settings.value[l],"onUpdate:modelValue":a=>o.graph.settings.value[l]=a,class:"h-6 w-6 rounded-xl cursor-pointer"},null,8,["modelValue","onUpdate:modelValue"])):(r(),u("h5",je," Not Supported "))]))),256))}}),We={class:"relative w-full h-full"},Qe={class:"w-full h-full absolute"},Ye={key:0,class:"absolute flex gap-2 m-2 flex-wrap w-[85%]"},qe={key:1,class:"bottom-0 absolute flex gap-2 m-2"},Je={key:2,class:"absolute w-full dark:text-white bottom-[10%] grid place-items-center pointer-events-none"},Ze={class:"absolute h-3/4 top-[100px] right-0"},Xe={key:0,class:"w-[325px] h-1/2 overflow-auto bg-gray-800 bg-opacity-80 rounded-l-xl mb-3"},Ke={key:1,class:"w-[325px] h-1/2 overflow-auto bg-gray-800 bg-opacity-80 rounded-l-xl"},eo={class:"absolute w-[150px] top-1/4 overflow-auto bg-gray-800 bg-opacity-80 rounded-r-xl"},io=f({__name:"GraphPlayground",setup(e){const o=A(),t=ae(o,{edgeInputToLabel:n=>{if(ne(n))return n;if(!isNaN(Number(n)))return n}}),s=be(t),{btnArr:l}=Le(t),a=le("graph-playground-controls",{tutorial:!0,theme:!0,settings:!0,buttons:!0});return t.annotationActive.value,T(a,()=>{a.value.tutorial?s.start():s.stop()},{immediate:!0,deep:!0}),(n,g)=>(r(),u("div",We,[p("div",Qe,[v(re,{onGraphRef:g[0]||(g[0]=i=>o.value=i),graph:c(t)},null,8,["graph"])]),c(a).buttons?(r(),u("div",Ye,[v(Se,{btns:c(l)},null,8,["btns"])])):L("",!0),c(a).tutorial?(r(),u("div",qe,[v(he,{tutorial:c(s)},null,8,["tutorial"])])):L("",!0),c(a).tutorial?(r(),u("div",Je,[v(ce,{tutorial:c(s)},null,8,["tutorial"])])):L("",!0),p("div",Ze,[c(a).theme?(r(),u("div",Xe,[v(Be,{graph:c(t)},null,8,["graph"])])):L("",!0),c(a).settings?(r(),u("div",Ke,[v(Fe,{graph:c(t)},null,8,["graph"])])):L("",!0)]),p("div",eo,[v(De,{playgroundControls:c(a)},null,8,["playgroundControls"])])]))}});export{io as default};
