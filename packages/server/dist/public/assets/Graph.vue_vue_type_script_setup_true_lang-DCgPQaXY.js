import{B as d,ap as te,aq as ye,a1 as ne,H as W,g as w,y as ge,ar as Ee,$ as V,as as Se,z as j,a6 as Ce,am as Ne,at as Y,au as he,u as fe,A as X,e as xe,o as Ae,N as Ie}from"./index-BaTtJ-hS.js";import{c as ve,f as we,h as Be,i as De,l as pe,j as Me,o as _e,g as Re,k as ke,m as se,s as J,_ as Fe}from"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-DAn0qBJ_.js";const Q={nodeShape:"circle",nodeSize:35,nodeBorderWidth:8,nodeTextSize:24,nodeAnchorRadius:Math.ceil(Math.sqrt(35)*2),edgeWidth:10,edgeTextSize:20,nodeText:({label:s})=>s,edgeText:({label:s})=>s,edgeTextFontWeight:"bold",linkPreviewWidth:10},Le="rgb(100, 60, 70)",Pe={primaryColor:d.RED_700,secondaryColor:d.GRAY_900,tertiaryColor:d.RED_900,primaryTextColor:d.WHITE,secondaryTextColor:d.WHITE,tertiaryTextColor:d.WHITE,nodeBorderColor:d.BLACK,nodeColor:d.STONE_600,nodeTextColor:d.WHITE,nodeFocusBorderColor:d.RED_700,nodeFocusColor:Le,nodeFocusTextColor:d.WHITE,edgeColor:d.STONE_900,edgeFocusColor:d.RED_700,edgeFocusTextColor:d.WHITE,edgeTextColor:d.WHITE,graphBgColor:d.GRAY_600,graphBgPatternColor:d.WHITE+"15",nodeAnchorColorWhenParentFocused:d.RED_800,nodeAnchorColor:d.GRAY_900,linkPreviewColor:d.BLACK,marqueeSelectionBoxColor:d.WHITE+"15",marqueeSelectionBoxBorderColor:d.WHITE,marqueeEncapsulatedNodeBoxBorderColor:d.RED_700,marqueeEncapsulatedNodeBoxColor:d.RED_700+"20",...Q},Oe={primaryColor:d.BLUE_500,secondaryColor:d.BLUE_700,tertiaryColor:d.BLUE_900,primaryTextColor:d.WHITE,secondaryTextColor:d.WHITE,tertiaryTextColor:d.WHITE,nodeColor:d.GRAY_50,nodeBorderColor:d.GRAY_800,nodeFocusBorderColor:d.BLUE_600,nodeFocusColor:d.BLUE_100,nodeTextColor:d.GRAY_900,nodeFocusTextColor:d.GRAY_900,edgeColor:d.GRAY_800,edgeTextColor:d.GRAY_900,edgeFocusColor:d.BLUE_600,edgeFocusTextColor:d.BLACK,graphBgColor:d.GRAY_200,graphBgPatternColor:d.BLACK+"15",nodeAnchorColor:d.BLACK,nodeAnchorColorWhenParentFocused:d.BLUE_900,linkPreviewColor:d.BLACK,marqueeSelectionBoxColor:d.BLUE_300+"15",marqueeSelectionBoxBorderColor:d.BLUE_500,marqueeEncapsulatedNodeBoxBorderColor:d.BLUE_700,marqueeEncapsulatedNodeBoxColor:d.BLUE_700+"05",...Q},Ge={primaryColor:d.PINK_500,secondaryColor:d.PINK_700,tertiaryColor:d.PINK_900,primaryTextColor:d.WHITE,secondaryTextColor:d.WHITE,tertiaryTextColor:d.WHITE,nodeColor:d.PINK_100,nodeBorderColor:d.PINK_400,nodeFocusBorderColor:d.PURPLE_600,nodeFocusColor:d.PURPLE_200,nodeTextColor:d.PINK_600,nodeFocusTextColor:d.PURPLE_900,edgeColor:d.PINK_600,edgeTextColor:d.PINK_600,edgeFocusColor:d.PURPLE_600,edgeFocusTextColor:d.PURPLE_600,graphBgColor:d.PINK_200,graphBgPatternColor:d.PINK_900+"15",nodeAnchorColor:d.PINK_500,nodeAnchorColorWhenParentFocused:d.PURPLE_700,linkPreviewColor:d.PINK_900,marqueeSelectionBoxColor:d.PINK_300+"15",marqueeSelectionBoxBorderColor:d.PINK_500,marqueeEncapsulatedNodeBoxBorderColor:d.PINK_700,marqueeEncapsulatedNodeBoxColor:d.PINK_700+"05",...Q},me={light:Oe,dark:Pe,girl:Ge},Ue=(s,i)=>{const e=i("nodeColor",s),r=i("nodeBorderColor",s),o=i("nodeSize",s),t=i("nodeBorderWidth",s),y=i("nodeText",s),g=i("nodeTextSize",s),T=i("nodeTextColor",s),v=i("nodeShape",s),C=ve({at:{x:s.x,y:s.y},radius:o,color:e,stroke:{color:r,width:t},textArea:{text:{content:y,fontSize:g,fontWeight:"bold",color:T},color:d.TRANSPARENT}}),E=we({at:{x:s.x-o,y:s.y-o},size:o*2,color:e,stroke:{color:r,width:t},textArea:{text:{content:y,fontSize:g,fontWeight:"bold",color:T},color:d.TRANSPARENT}});return{shape:v==="circle"?C:E,id:s.id,graphType:"node"}},Ke=1.618,re=2,We=(s,i)=>{const{displayEdgeLabels:e,isGraphDirected:r}=i.settings.value,[o,t]=te(s.id,i),g=ye(o.id,t.id,i).length>1,T=t===o,v=i.getTheme("nodeBorderWidth",o),C=i.getTheme("nodeBorderWidth",t),E=i.getTheme("nodeSize",o),S=i.getTheme("nodeSize",t),p=Math.atan2(t.y-o.y,t.x-o.x),u=C/2+re,c={x:(S+u)*Math.cos(p),y:(S+u)*Math.sin(p)},m={x:o.x,y:o.y},l={x:t.x-(r?c.x:0),y:t.y-(r?c.y:0)},f=i.getTheme("edgeWidth",s),n=f*1.2;g&&(m.x+=Math.cos(p+Math.PI/2)*n,m.y+=Math.sin(p+Math.PI/2)*n,l.x+=Math.cos(p+Math.PI/2)*n,l.y+=Math.sin(p+Math.PI/2)*n);const h=Be(m,i.edges.value.filter(k=>(k.from===o.id||k.to===t.id)&&k.from!==k.to).map(k=>{const[K,L]=te(k.id,i);return o.id===K.id?{x:L.x,y:L.y}:{x:K.x,y:K.y}}).filter((k,K,L)=>K===L.findIndex(z=>z.x===k.x&&z.y===k.y))),a=i.getTheme("edgeColor",s),b=i.getTheme("edgeTextColor",s),x=i.getTheme("graphBgColor"),M=i.getTheme("edgeTextSize",s),B=i.getTheme("edgeTextFontWeight",s),_={color:x,activeColor:x,text:{content:s.label,color:b,fontSize:M,fontWeight:B}},F=e?_:void 0,N=(E+v)*Ke,I=N-(E+v/2)-re;if(T)return{shape:De({spacing:f*1.2,at:{x:o.x,y:o.y},upDistance:N,downDistance:I,rotation:h,lineWidth:f,color:a,textArea:F}),id:s.id,graphType:"edge"};const D=E+v/2+S+C/2,P=(o.x-t.x)**2+(o.y-t.y)**2;if(D**2>P)return;if(!r)return{shape:pe({start:m,end:l,width:f,color:a,textArea:F}),id:s.id,graphType:"edge"};const G=E>=50?.9:E>=25?1:1.3;return{shape:Me({start:m,end:l,width:f,textOffsetFromCenter:E**G,color:a,textArea:F}),id:s.id,graphType:"edge"}},He=()=>({primaryColor:[],secondaryColor:[],tertiaryColor:[],primaryTextColor:[],secondaryTextColor:[],tertiaryTextColor:[],nodeSize:[],nodeBorderWidth:[],nodeColor:[],nodeBorderColor:[],nodeFocusColor:[],nodeFocusBorderColor:[],nodeText:[],nodeFocusTextColor:[],nodeTextSize:[],nodeTextColor:[],nodeShape:[],edgeColor:[],edgeWidth:[],edgeText:[],edgeTextSize:[],edgeTextColor:[],edgeFocusTextColor:[],edgeTextFontWeight:[],edgeFocusColor:[],graphBgColor:[],graphBgPatternColor:[],nodeAnchorRadius:[],nodeAnchorColor:[],nodeAnchorColorWhenParentFocused:[],linkPreviewColor:[],linkPreviewWidth:[],marqueeSelectionBoxColor:[],marqueeSelectionBoxBorderColor:[],marqueeEncapsulatedNodeBoxColor:[],marqueeEncapsulatedNodeBoxBorderColor:[]}),qe=s=>Object.prototype.toString.call(s)==="[object Object]",$=(s,i)=>{const e={};if(!s)return i;if(!i)return null;const r=Object.keys(s),o=Object.keys(i);for(const t of o)r.includes(t)||(e[t]=i[t]);for(const t of r){if(qe(s[t])){const y=$(s[t],i[t]);y&&(e[t]=y);continue}if(Array.isArray(s[t])){JSON.stringify(s[t])!==JSON.stringify(i[t])&&(e[t]=i[t]);continue}else s[t]!==i[t]&&(e[t]=i[t])}return Object.keys(e).length?e:null},ze=s=>({subscribe:(i,e)=>s[i].add(e),unsubscribe:(i,e)=>s[i].delete(e),emit:(i,...e)=>{for(const r of s[i])r(...e)}}),Ye=()=>({onStructureChange:new Set,onNodeAdded:new Set,onBulkNodeAdded:new Set,onNodeRemoved:new Set,onBulkNodeRemoved:new Set,onNodeMoved:new Set,onBulkNodeMoved:new Set,onEdgeAdded:new Set,onBulkEdgeAdded:new Set,onEdgeRemoved:new Set,onBulkEdgeRemoved:new Set,onEdgeLabelChange:new Set,onRepaint:new Set,onNodeHoverChange:new Set,onGraphReset:new Set,onClick:new Set,onMouseDown:new Set,onMouseUp:new Set,onMouseMove:new Set,onDblClick:new Set,onContextMenu:new Set,onKeyDown:new Set,onKeyUp:new Set,onThemeChange:new Set,onSettingsChange:new Set,onUndo:new Set,onRedo:new Set,onFocusChange:new Set,onNodeDragStart:new Set,onNodeDrop:new Set,onNodeAnchorDragStart:new Set,onNodeAnchorDrop:new Set,onGroupDragStart:new Set,onGroupDrop:new Set}),ae=s=>s==null,Je=s=>{const i=s.trim().split("/").filter(Boolean);if(i.length!==2)return!1;const[e,r]=i.map(Number);return!(ae(e)||ae(r))},Ve=s=>{if(!Je(s))return;const i=s.split("/"),[e,r]=i.map(Number);return e/r},je={displayEdgeLabels:!0,edgeLabelsEditable:!0,edgeInputToLabel:s=>{var r;const i=s.trim();if(!i)return;const e=(r=Ve(i))==null?void 0:r.toFixed(2);return e==="Infinity"?"∞":e==="-Infinity"?"-∞":e===void 0&&isNaN(Number(i))?void 0:e??i},newNodeLabelGetter:null,isGraphDirected:!0},Ze={focusable:!0,focusBlacklist:[]},Xe={draggable:!0},$e={nodeAnchors:!0},Qe={marquee:!0,marqueeSelectableGraphTypes:["node","edge"]},eo={userEditable:!0,userAddedEdgeLabel:"1",userAddedEdgeRuleNoSelfLoops:!1,userAddedEdgeRuleOneEdgePerPath:!1},oo={persistent:!0,persistentStorageKey:"graph",persistentTrackTheme:!1,persistentTrackSettings:!1},to={},no={...je,...Ze,...Xe,...$e,...Qe,...eo,...oo,...to},so=(s,i)=>(e,...r)=>{const o=i[e].findLast(y=>{const g=y.value;return ne(g,...r)??!1}),t=(o==null?void 0:o.value)??s.value[e];if(!t)throw new Error(`Theme property "${e}" not found`);return ne(t,...r)},ro=(s,i)=>{const e=W(()=>{const o=new Map;for(const t of s.value)o.set(t.id,t);return o}),r=W(()=>{const o=new Map;for(const t of i.value)o.set(t.id,t);return o});return{nodeIdToNodeMap:e,edgeIdToEdgeMap:r}},ao=({canvas:s,emit:i})=>{const e=w([]),r=[],o=()=>{var S,p,u,c;if(!s.value)return;const g=s.value.getContext("2d");if(!g)return;g.clearRect(0,0,s.value.width,s.value.height);const T=r.reduce((m,l)=>l(m),[]);e.value=[...T.sort((m,l)=>m.priority-l.priority)];const v=e.value.findLastIndex(m=>m.graphType==="edge"),C=e.value.slice(0,v+1),E=e.value.slice(v+1);for(const m of C)m.shape.drawShape(g);for(const m of C)(p=(S=m.shape).drawTextAreaMatte)==null||p.call(S,g);for(const m of C)(c=(u=m.shape).drawText)==null||c.call(u,g);for(const m of E)m.shape.draw(g);i("onRepaint",g,"loop")},t=setInterval(o,1e3/60);return ge(()=>{clearInterval(t)}),setTimeout(o,1e3),{aggregator:e,updateAggregator:r,getSchemaItemsByCoordinates:g=>e.value.sort((T,v)=>T.priority-v.priority).filter(T=>{var v,C;return T.shape.shapeHitbox(g)||((C=(v=T.shape).textHitbox)==null?void 0:C.call(v,g))})}},io={broadcast:!0,focus:!0,history:!0},uo={broadcast:!0,focus:!1,history:!0},ie={broadcast:!0,history:!0},ue={broadcast:!0,focus:!1,history:!0},ce={broadcast:!0,history:!0},co={broadcast:!0},lo={label:""},go=({nodes:s,edges:i,nodeMap:e,edgeMap:r,emit:o,settings:t})=>{const y=l=>e.value.get(l),g=l=>r.value.get(l),T=(l,f={})=>{if(l!=null&&l.id&&y(l.id)){console.warn("prevented adding a node with an existing id, this shouldn't happen");return}const n={...io,...f},h=t.value.newNodeLabelGetter??Ee({nodes:s}),a={id:l.id??V(),label:l.label??h(),x:l.x??0,y:l.y??0};return s.value.push(a),o("onNodeAdded",a,n),o("onStructureChange",s.value,i.value),a},v=(l,f={})=>{if(l.length===0)return;const n={...uo,...f},h=[];for(const a of l){const b=T(a,{focus:!1,broadcast:!1,history:!1});b&&h.push(b)}h.length!==0&&o("onBulkNodeAdded",h,n)},C=(l,f={})=>{const n={...ue,...f},{isGraphDirected:h}=t.value,[a,b]=[y(l.from),y(l.to)];if(!a||!b)return;if(h){if(i.value.find(B=>B.from===l.from&&B.to===l.to))return}else if(i.value.find(B=>B.from===l.from&&B.to===l.to||B.from===l.to&&B.to===l.from))return;const x={...lo,id:V(),...l};return i.value.push(x),o("onEdgeAdded",x,n),o("onStructureChange",s.value,i.value),x},E=(l,f={})=>{if(l.length===0)return;const n={...ue,...f},h=[];for(const a of l){const b=C(a,{broadcast:!1,history:!1});b&&h.push(b)}h.length!==0&&o("onBulkEdgeAdded",h,n)},S=(l,f,n={})=>{const h=y(l);if(!h)return;const a={...co,...n};h.x=f.x,h.y=f.y,o("onNodeMoved",h,a)},p=(l,f={})=>{const n=y(l);if(!n)return;const h={...ie,...f},b=Se(n.id,{edges:i,settings:t}).map(x=>c(x.id,{broadcast:!1,history:!1})).filter(Boolean);return s.value=s.value.filter(x=>x.id!==n.id),o("onNodeRemoved",n,b,h),o("onStructureChange",s.value,i.value),[n,b]},u=(l,f={})=>{if(l.length===0)return;const n={...ie,...f},h=[],a=[];for(const b of l){const x=p(b,{broadcast:!1,history:!1});if(!x)continue;const[M,B]=x;h.push(M),a.push(...B)}h.length!==0&&o("onBulkNodeRemoved",h,a,n)},c=(l,f={})=>{const n=g(l);if(!n)return;const h={...ce,...f};return i.value=i.value.filter(a=>a.id!==n.id),o("onEdgeRemoved",n,h),o("onStructureChange",s.value,i.value),n};return{getNode:y,getEdge:g,addNode:T,addEdge:C,moveNode:S,removeNode:p,removeEdge:c,bulkAddNode:v,bulkRemoveNode:u,bulkAddEdge:E,bulkRemoveEdge:(l,f={})=>{if(l.length===0)return;const n={...ce,...f},h=[];for(const a of l){const b=c(a,{broadcast:!1,history:!1});b&&h.push(b)}if(h.length!==0)return o("onBulkEdgeRemoved",h,n),h}}},ho=({subscribe:s,canvas:i,graphAtMousePosition:e})=>{const r=w(!1),o=w(!1),t=w({node:"grab",edge:"pointer","node-anchor":"grab","encapsulated-node-box":"move"}),y=w(),g=W(()=>!!y.value),T=S=>{y.value=S},v=()=>{y.value=void 0},C=S=>{var u;if(!S)return"default";if(g.value)return((u=y.value)==null?void 0:u.call(y,S))??!1?"pointer":"default";const p=t.value[S.graphType]??"default";return p==="grab"&&r.value?"grabbing":p},E=({items:S})=>{if(!i.value||o.value)return;const p=S.at(-1);i.value.style.cursor=C(p)};return s("onMouseDown",S=>{r.value=!0,E(S)}),s("onMouseUp",S=>{r.value=!1,E(S)}),s("onMouseMove",E),j(t,()=>{E({items:e.value.items})},{deep:!0}),{graphToCursorMap:t,activateCursorSelectMode:T,deactivateCursorSelectMode:v,graphCursorDisabled:o}},fo=(s,i={})=>{const e=w({...me.light,...i.theme}),r=He(),o=so(e,r),t=w({...no,...i.settings}),y=Ye(),{subscribe:g,unsubscribe:T,emit:v}=ze(y),C=w(!0);_e(s,()=>{C.value=!1}),g("onMouseDown",()=>{C.value=!0});const E=w([]),S=w([]),p=w({coords:{x:0,y:0},items:[]}),u=ho({canvas:s,subscribe:g,graphAtMousePosition:p}),c=A=>{const R=Re(s),O=ke(A,R);p.value={coords:O,items:a(O)}},m=A=>({...p.value,event:A}),l={click:A=>v("onClick",m(A)),mousemove:A=>v("onMouseMove",m(A)),mousedown:A=>v("onMouseDown",m(A)),mouseup:A=>v("onMouseUp",m(A)),dblclick:A=>v("onDblClick",m(A)),contextmenu:A=>v("onContextMenu",m(A))},f={keydown:A=>v("onKeyDown",A),keyup:A=>v("onKeyUp",A)},{aggregator:n,updateAggregator:h,getSchemaItemsByCoordinates:a}=ao({canvas:s,emit:v}),b=A=>{const R={edges:S,getNode:B,getEdge:_,getTheme:o,settings:t},O=S.value.map(H=>We(H,R)).filter(Boolean).map((H,Z)=>({...H,priority:Z*10})),Te=E.value.map(H=>Ue(H,o)).filter(Boolean).map((H,Z)=>({...H,priority:Z*10+1e3}));return A.push(...O),A.push(...Te),A};h.push(b),Ce(()=>{if(!s.value)throw new Error("canvas element not found");s.value.addEventListener("mousemove",c);for(const[A,R]of Object.entries(l))s.value.addEventListener(A,R);for(const[A,R]of Object.entries(f))document.addEventListener(A,R)}),Ne(()=>{if(!s.value)throw new Error("Canvas element not found");s.value.removeEventListener("mousemove",c);for(const[A,R]of Object.entries(l))s.value.removeEventListener(A,R);for(const[A,R]of Object.entries(f))document.removeEventListener(A,R)});const{nodeIdToNodeMap:x,edgeIdToEdgeMap:M}=ro(E,S),{getNode:B,getEdge:_,addNode:F,addEdge:N,moveNode:I,removeNode:D,removeEdge:P,bulkAddNode:U,bulkRemoveNode:G,bulkAddEdge:q,bulkRemoveEdge:k}=go({nodes:E,edges:S,nodeMap:x,edgeMap:M,emit:v,settings:t}),K=(A,R)=>{const O=a({x:A,y:R}).pop();if(O&&O.graphType==="node")return B(O.id)};let L;g("onMouseMove",({items:A})=>{const R=A.at(-1);if(!R||R.graphType!=="node")return;const O=B(R.id);O!==L&&(v("onNodeHoverChange",O,L),L=O)});const z=A=>(L&&he(L.id,A),A);h.push(z);const be=()=>{E.value=[],S.value=[],v("onGraphReset")};g("onGraphReset",()=>v("onStructureChange",E.value,S.value));const ee=w(Y(e.value));j(e,A=>{const R=$(ee.value,e.value);R&&(ee.value=Y(A),v("onThemeChange",R))},{deep:!0});const oe=w(Y(t.value));return j(t,A=>{const R=$(oe.value,A);R&&(oe.value=Y(t.value),v("onSettingsChange",R))},{deep:!0}),{nodes:E,edges:S,getNode:B,getEdge:_,addNode:F,addEdge:N,moveNode:I,removeNode:D,removeEdge:P,bulkAddNode:U,bulkRemoveNode:G,bulkAddEdge:q,bulkRemoveEdge:k,getSchemaItemsByCoordinates:a,getNodeByCoordinates:K,eventBus:y,subscribe:g,unsubscribe:T,emit:v,updateAggregator:h,aggregator:n,theme:e,getTheme:o,themeMap:r,settings:t,reset:be,canvas:s,canvasFocused:C,graphAtMousePosition:p,updateGraphAtMousePosition:c,...u}},vo={focus:!0},po={focus:!0},de=100,le=3,mo=(s,i={})=>{const e=fo(s,i),r=w([]),o=w([]),t=u=>{r.value.push(u),r.value.length>de&&r.value.shift()},y=u=>{o.value.push(u),o.value.length>de&&o.value.shift()};e.subscribe("onNodeAdded",(u,{history:c})=>{c&&t({action:"add",affectedItems:[{graphType:"node",data:u}]})}),e.subscribe("onBulkNodeAdded",(u,{history:c})=>{c&&t({action:"add",affectedItems:u.map(m=>({graphType:"node",data:m}))})}),e.subscribe("onNodeRemoved",(u,c,{history:m})=>{if(!m)return;const l=c.map(f=>({graphType:"edge",data:f}));t({action:"remove",affectedItems:[{graphType:"node",data:u},...l]})}),e.subscribe("onBulkNodeRemoved",(u,c,{history:m})=>{if(!m)return;const l=u.map(n=>({graphType:"node",data:n})),f=c.map(n=>({graphType:"edge",data:n}));t({action:"remove",affectedItems:[...l,...f]})}),e.subscribe("onEdgeAdded",(u,{history:c})=>{c&&t({action:"add",affectedItems:[{graphType:"edge",data:u}]})}),e.subscribe("onBulkEdgeAdded",(u,{history:c})=>{c&&t({action:"add",affectedItems:u.map(m=>({graphType:"edge",data:m}))})}),e.subscribe("onEdgeRemoved",(u,{history:c})=>{c&&t({action:"remove",affectedItems:[{graphType:"edge",data:u}]})}),e.subscribe("onBulkEdgeRemoved",(u,{history:c})=>{c&&t({action:"remove",affectedItems:u.map(m=>({graphType:"edge",data:m}))})});const g=w();e.subscribe("onGroupDragStart",(u,c)=>{g.value={startingCoordinates:c,nodes:u}}),e.subscribe("onGroupDrop",(u,c)=>{if(!g.value)throw new Error("dropped a group we didn't know was being dragged");if(g.value.nodes.length!==u.length)throw new Error("group size mismatch");const m=g.value.startingCoordinates.y-c.y,l=g.value.startingCoordinates.x-c.x;Math.sqrt(m**2+l**2)<le||t({action:"move",affectedItems:g.value.nodes.map(n=>({graphType:"node",data:{id:n.id,from:{x:n.x+l,y:n.y+m},to:{x:n.x,y:n.y}}}))})});const T=w();e.subscribe("onNodeDragStart",u=>{T.value={id:u.id,from:{x:u.x,y:u.y},to:{x:u.x,y:u.y}}}),e.subscribe("onNodeDrop",u=>{if(!T.value)throw new Error("dropped a node we didn't know was being dragged");if(T.value.id!==u.id)throw new Error("node ID mismatch");T.value.to={x:u.x,y:u.y};const c=T.value.from.y-T.value.to.y,m=T.value.from.x-T.value.to.x;Math.sqrt(c**2+m**2)<le||t({action:"move",affectedItems:[{graphType:"node",data:T.value}]})});const v=(u={})=>{const c=r.value.pop();if(c)return y(c),E(c),e.emit("onUndo",c,{...vo,...u}),c},C=(u={})=>{const c=o.value.pop();if(c)return t(c),S(c),e.emit("onRedo",c,{...po,...u}),c},E=u=>{if(u.action==="add")for(const c of u.affectedItems)c.graphType==="node"?e.removeNode(c.data.id,{history:!1}):c.graphType==="edge"&&e.removeEdge(c.data.id,{history:!1});else if(u.action==="remove")for(const c of u.affectedItems)c.graphType==="node"?e.addNode(c.data,{history:!1,focus:!1}):c.graphType==="edge"&&e.addEdge(c.data,{history:!1,focus:!1});else if(u.action==="move"){for(const c of u.affectedItems)if(c.graphType==="node"){const{from:m,id:l}=c.data;e.moveNode(l,{x:m.x,y:m.y})}}},S=u=>{if(u.action==="add")for(const c of u.affectedItems)c.graphType==="node"?e.addNode(c.data,{history:!1,focus:!1}):c.graphType==="edge"&&e.addEdge(c.data,{history:!1,focus:!1});else if(u.action==="remove")for(const c of u.affectedItems)c.graphType==="node"?e.removeNode(c.data.id,{history:!1}):c.graphType==="edge"&&e.removeEdge(c.data.id,{history:!1});else if(u.action==="move"){for(const c of u.affectedItems)if(c.graphType==="node"){const{to:m,id:l}=c.data;e.moveNode(l,{x:m.x,y:m.y})}}},p=()=>{r.value=[],o.value=[]};return{...e,undo:v,redo:C,canUndo:W(()=>r.value.length>0),canRedo:W(()=>o.value.length>0),undoStack:r,redoStack:o,addToUndoStack:t,addToRedoStack:y,clearHistory:p}},bo=["node","edge"],To="use-focus-graph",yo=(s,i={})=>{const e=mo(s,i),{setTheme:r}=fe(e,To),o=w(new Set),t=w(!1),y=n=>{const h=n.filter(M=>!e.settings.value.focusBlacklist.includes(M));if(h.length===o.value.size&&h.every(M=>o.value.has(M)))return;const x=new Set([...o.value]);o.value=new Set(h),e.emit("onFocusChange",o.value,x)},g=n=>{if(o.value.has(n)||e.settings.value.focusBlacklist.includes(n))return;const b=new Set([...o.value]);o.value.add(n),e.emit("onFocusChange",o.value,b)},T=n=>{var h,a;(a=(h=n.shape).activateTextArea)==null||a.call(h,b=>{const x=e.getEdge(n.id);if(!x)throw new Error("textarea only implemented for edges");const M=e.settings.value.edgeInputToLabel(b);M===void 0||x.label===M||(x.label=M,e.emit("onEdgeLabelChange",x))})},v=()=>{const n=Array.from(o.value),h=n.filter(a=>e.getNode(a)||e.getEdge(a));h.length!==n.length&&y(h)},C=({items:n,coords:h})=>{var B,_;const a=n.at(-1);if(!a)return t.value?void 0:E();if(((_=(B=a.shape).textHitbox)==null?void 0:_.call(B,h))&&e.settings.value.edgeLabelsEditable&&a.graphType==="edge")return T(a);bo.some(F=>F===a.graphType)&&(t.value?g(a.id):y([a.id]))},E=()=>y([]),S=()=>{const n=e.nodes.value.map(a=>a.id),h=e.edges.value.map(a=>a.id);y([...n,...h])},p=({id:n},{focus:h})=>{h&&y([n])},u=n=>o.value.has(n);r("nodeColor",n=>{if(u(n.id))return e.getTheme("nodeFocusColor",n)}),r("nodeBorderColor",n=>{if(u(n.id))return e.getTheme("nodeFocusBorderColor",n)}),r("nodeTextColor",n=>{if(u(n.id))return e.getTheme("nodeFocusTextColor",n)}),r("edgeColor",n=>{if(u(n.id))return e.getTheme("edgeFocusColor",n)}),r("edgeTextColor",n=>{if(u(n.id))return e.getTheme("edgeFocusTextColor",n)}),r("nodeAnchorColor",n=>{if(u(n.id))return e.getTheme("nodeAnchorColorWhenParentFocused",n)});const c=n=>{n.key==="Shift"&&(t.value=!0)},m=n=>{n.key==="Shift"&&(t.value=!1)},l=()=>{e.subscribe("onNodeAdded",p),e.subscribe("onEdgeAdded",p),e.subscribe("onMouseDown",C),e.subscribe("onGraphReset",E),e.subscribe("onKeyDown",c),e.subscribe("onKeyUp",m),e.subscribe("onStructureChange",v)},f=()=>{e.unsubscribe("onNodeAdded",p),e.unsubscribe("onEdgeAdded",p),e.unsubscribe("onMouseDown",C),e.unsubscribe("onGraphReset",E),e.unsubscribe("onKeyDown",c),e.unsubscribe("onKeyUp",m),e.unsubscribe("onStructureChange",v),E()};return e.subscribe("onSettingsChange",n=>{n.focusable===!1?f():n.focusable===!0&&l()}),e.settings.value.focusable&&l(),{...e,focusedItemIds:X(o),setFocus:y,resetFocus:E,addToFocus:g,isFocused:u,focusAll:S,focusedNodes:W(()=>e.nodes.value.filter(n=>u(n.id))),focusedEdges:W(()=>e.edges.value.filter(n=>u(n.id)))}},Eo=(s,i={})=>{const e=yo(s,i),r=w(),o=({items:v,coords:C})=>{const E=v.at(-1);if(!E||E.graphType!=="node")return;const S=e.getNode(E.id);S&&(r.value={node:S,coords:C},e.emit("onNodeDragStart",S))},t=()=>{r.value&&(e.emit("onNodeDrop",r.value.node),r.value=void 0)},y=({coords:v})=>{if(!r.value)return;const{node:C,coords:E}=r.value,S=v.x-E.x,p=v.y-E.y;e.moveNode(C.id,{x:C.x+S,y:C.y+p}),r.value.coords=v},g=()=>{e.subscribe("onMouseDown",o),e.subscribe("onMouseUp",t),e.subscribe("onMouseMove",y)},T=()=>{e.unsubscribe("onMouseDown",o),e.unsubscribe("onMouseUp",t),e.unsubscribe("onMouseMove",y),r.value&&t()};return e.subscribe("onSettingsChange",v=>{v.draggable===!1?T():v.draggable===!0&&g()}),e.settings.value.draggable&&g(),{...e,activeDragNode:W(()=>{var v;return(v=r.value)==null?void 0:v.node})}},So=(s,i={})=>{const e=Eo(s,i),r=w(),o=w(),t=()=>{r.value=void 0,o.value=void 0},y=a=>{if(e.activeDragNode.value)return[];const{getTheme:b}=e,x=b("nodeAnchorColor",a),M=b("nodeAnchorRadius",a),B=[];for(const _ of g.value){const{x:F,y:N}=_,I={at:{x:F,y:N},radius:M,color:x};o.value&&o.value.direction===_.direction&&(I.at.x=o.value.x,I.at.y=o.value.y);const D=ve(I);B.push({id:_.id,graphType:"node-anchor",shape:D,priority:1/0})}return B},g=w([]),T=a=>{if(!a)return g.value=[];const{getTheme:b}=e,x=b("nodeAnchorRadius",a),M=b("nodeSize",a),B=b("nodeBorderWidth",a),_=M-x/3+B/2;g.value=[{x:a.x,y:a.y-_,direction:"north"},{x:a.x+_,y:a.y,direction:"east"},{x:a.x,y:a.y+_,direction:"south"},{x:a.x-_,y:a.y,direction:"west"}].map(F=>({...F,id:V()}))},v=({items:a})=>{const b=a.at(-1);if(!b||b.graphType!=="node-anchor")return;const{id:x}=b;return g.value.find(M=>M.id===x)},C=()=>{if(!r.value||!o.value)return;const{x:a,y:b}=o.value,x={x:r.value.x,y:r.value.y},M={x:a,y:b},{getTheme:B}=e,_=B("linkPreviewColor",r.value,o.value),F=B("linkPreviewWidth",r.value,o.value);return{id:"link-preview",graphType:"link-preview",shape:pe({start:x,end:M,color:_,width:F})}},E=({items:a})=>{if(o.value)return;const b=a.at(-1);if(!b)return t();if(b.graphType!=="node")return;const x=e.getNode(b.id);if(!x)throw new Error("node in aggregator but not in graph");const M=e.isFocused(x.id),B=e.focusedNodes.value.length>1;if(M&&B)return t();r.value=x,T(x)},S=a=>{if(!r.value)return;const b=v(a);b&&(o.value=b,e.emit("onNodeAnchorDragStart",r.value,b))},p=({coords:a})=>{if(!o.value)return;const{x:b,y:x}=a;o.value.x=b,o.value.y=x},u=()=>{if(o.value){if(!r.value)throw new Error("active anchor without parent node")}else return;e.emit("onNodeAnchorDrop",r.value,o.value),t()},c=a=>{if(!r.value)return a;const b=y(r.value);for(const x of b)a.push(x);return a},m=a=>{var _;if(!r.value||!o.value)return a;const{id:b}=r.value;he(b,a);const x=(_=a.find(F=>F.id===b))==null?void 0:_.priority;if(!x)return a;const M=C();if(!M)return a;const B={...M,priority:x-.1};return a.push(B),a};e.updateAggregator.push(c),e.updateAggregator.push(m);const l=a=>{var b;((b=r.value)==null?void 0:b.id)===a.id&&t()},f=()=>{if(!r.value)return;const a=e.isFocused(r.value.id),b=e.focusedNodes.value.length>1;a&&b&&t()},n=()=>{e.subscribe("onNodeRemoved",l),e.subscribe("onNodeMoved",t),e.subscribe("onNodeDrop",T),e.subscribe("onMouseMove",E),e.subscribe("onMouseMove",p),e.subscribe("onMouseDown",S),e.subscribe("onMouseUp",u),e.subscribe("onFocusChange",f)},h=()=>{e.unsubscribe("onNodeRemoved",l),e.unsubscribe("onNodeMoved",t),e.unsubscribe("onNodeDrop",T),e.unsubscribe("onMouseMove",E),e.unsubscribe("onMouseMove",p),e.unsubscribe("onMouseDown",S),e.unsubscribe("onMouseUp",u),e.unsubscribe("onFocusChange",f)};return e.subscribe("onSettingsChange",a=>{a.nodeAnchors===!0?n():a.nodeAnchors===!1&&h()}),e.settings.value.nodeAnchors&&n(),{...e,nodeAnchorActiveAnchor:X(o),nodeAnchorParentNode:X(r)}},Co="use-marquee-graph",No={THEME_ID:Co},xo=(s,i={})=>{const e=So(s,i),r=w(),o=w(),t=w(),{setTheme:y,removeTheme:g}=fe(e,No.THEME_ID),T=()=>y("nodeAnchorColor",d.TRANSPARENT),v=()=>g("nodeAnchorColor"),C=N=>{const{width:I,height:D}=N;return Math.abs(I*D)},E=()=>{const N=e.eventBus.onDblClick;let I;for(const D of N)if(D.name==="handleNodeCreation"){I=D;break}if(!I){console.error("Could not find node creation function");return}e.unsubscribe("onDblClick",I),setTimeout(()=>e.subscribe("onDblClick",I),10)},S=({items:N,coords:I})=>{const D=N.at(-1);(D==null?void 0:D.graphType)!=="encapsulated-node-box"&&v(),D||l(I)},p=({items:N,coords:I})=>{if(!t.value)return;const D=N.at(-1);if((D==null?void 0:D.graphType)!=="encapsulated-node-box")return;const P=I.x-t.value.x,U=I.y-t.value.y;t.value=I;for(const G of e.focusedNodes.value)e.moveNode(G.id,{x:G.x+P,y:G.y+U});h()},u=({items:N,coords:I})=>{if(r.value)return;const D=N.at(-1);(D==null?void 0:D.graphType)==="encapsulated-node-box"&&(t.value=I,e.emit("onGroupDragStart",e.focusedNodes.value,I))},c=()=>{t.value&&(e.emit("onGroupDrop",e.focusedNodes.value,t.value),t.value=void 0)},m=()=>o.value={at:{x:1/0,y:1/0},width:0,height:0},l=N=>{T(),e.graphCursorDisabled.value=!0,r.value={at:N,width:0,height:0},m()},f=()=>{if(!r.value)return;C(r.value)>200&&E(),r.value=void 0,e.graphCursorDisabled.value=!1,v()},n=N=>{if(C(N)<100)return;const D=[];for(const{id:P,shape:U,graphType:G}of e.aggregator.value){const{marqueeSelectableGraphTypes:q}=e.settings.value;if(!q.includes(G))continue;U.efficientHitbox(N)&&D.push(P)}e.setFocus(D)},h=()=>{if(!o.value)return;if(e.focusedNodes.value.length<2)return m();let N=1/0,I=1/0,D=-1/0,P=-1/0;for(const U of e.focusedNodes.value){const G=e.getTheme("nodeSize",U),q=e.getTheme("nodeBorderWidth",U),k=G+q/2,{x:K,y:L}=U;N=Math.min(N,K-k),I=Math.min(I,L-k),D=Math.max(D,K+k),P=Math.max(P,L+k)}N<1/0&&I<1/0&&D>-1/0&&P>-1/0?(o.value.at.x=N,o.value.at.y=I,o.value.width=D-N,o.value.height=P-I):(o.value.width=0,o.value.height=0)},a=({coords:N})=>{if(!r.value)return;const{x:I,y:D}=N;r.value.width=I-r.value.at.x,r.value.height=D-r.value.at.y,n(r.value)},b=N=>({id:"marquee-box",graphType:"marquee-box",shape:se({...N,color:e.getTheme("marqueeSelectionBoxColor"),stroke:{color:e.getTheme("marqueeSelectionBoxBorderColor"),width:2}}),priority:1/0}),x=N=>{if(!r.value)return N;const I=b(r.value);return N.push(I),N},M=N=>({id:"encapsulated-node-box",graphType:"encapsulated-node-box",shape:se({...N,color:e.getTheme("marqueeEncapsulatedNodeBoxColor"),stroke:{color:e.getTheme("marqueeEncapsulatedNodeBoxBorderColor"),width:2}}),priority:1/0}),B=N=>{if(!o.value)return N;const I=M(o.value);return N.push(I),N};e.updateAggregator.push(B),e.updateAggregator.push(x);const _=()=>{e.subscribe("onFocusChange",h),e.subscribe("onMouseDown",S),e.subscribe("onMouseUp",f),e.subscribe("onContextMenu",f),e.subscribe("onMouseMove",a),e.subscribe("onMouseDown",u),e.subscribe("onMouseUp",c),e.subscribe("onMouseMove",p),e.subscribe("onUndo",h),e.subscribe("onRedo",h)},F=()=>{e.unsubscribe("onFocusChange",h),e.unsubscribe("onMouseDown",S),e.unsubscribe("onMouseUp",f),e.unsubscribe("onContextMenu",f),e.unsubscribe("onMouseMove",a),e.unsubscribe("onMouseDown",u),e.unsubscribe("onMouseUp",c),e.unsubscribe("onMouseMove",p),e.unsubscribe("onUndo",h),e.unsubscribe("onRedo",h),r.value&&f()};return e.subscribe("onSettingsChange",N=>{N.marquee===!0?_():N.marquee===!1&&F()}),e.settings.value.marquee&&_(),{...e,updateEncapsulatedNodeBox:h}},Ao=[d.RED_600,d.BLUE_600,d.GREEN_600,d.YELLOW_600],Io=[3,6,9,12],wo=(s,i={})=>{const e=xo(s,i),r=w(Ao[0]),o=w(Io[1]),t=w(!1),y=w(new Set),g=w([]),T=w([]),v=w(!1),C=w(),E=w(!1),S=()=>{T.value=[]},p=({coords:n})=>{v.value=!0,C.value=n,g.value=[n]},u=({coords:n})=>{if(!(!v.value||!C.value)){if(t.value){const h=T.value.filter(a=>J.scribble(a).hitbox(n));for(const a of h)y.value.add(a.id);return}C.value=n,g.value.push(n)}},c=()=>{if(v.value&&(v.value=!1,C.value=void 0,g.value.length!==0)){if(t.value){T.value=T.value.filter(n=>!y.value.has(n.id)),y.value.clear();return}T.value.push({id:V(),type:"draw",points:g.value,color:r.value,brushWeight:o.value}),g.value=[]}};j(t,()=>{e.canvas.value&&(e.canvas.value.style.cursor=t.value?"none":"crosshair")});const m=n=>{if(!E.value)return n;if(t.value){const h=J.circle({at:e.graphAtMousePosition.value.coords,radius:10,color:d.TRANSPARENT,stroke:{color:d.WHITE+"60",width:2}});n.push({graphType:"annotation",id:h.id,shape:h,priority:5050})}else if(g.value.length>0){const h=J.scribble({type:"draw",points:g.value,color:r.value,brushWeight:o.value});n.push({graphType:"annotation",id:h.id,shape:h,priority:5001})}for(const h of T.value){const a=y.value.has(h.id);n.push({graphType:"annotation",id:h.id,shape:J.scribble({...h,color:h.color+(a?"50":"")}),priority:5e3})}return n};return e.updateAggregator.push(m),{...e,clearAnnotations:S,annotationActive:E,annotationErasing:t,annotationColor:r,annotationBrushWeight:o,activateAnnotation:()=>{e.canvas.value&&(E.value=!0,e.settings.value.userEditable=!1,e.settings.value.marquee=!1,e.settings.value.focusable=!1,e.graphCursorDisabled.value=!0,e.canvas.value.style.cursor="crosshair",e.subscribe("onMouseDown",p),e.subscribe("onMouseMove",u),e.subscribe("onMouseUp",c))},deactivateAnnotation:()=>{e.canvas.value&&(E.value=!1,t.value=!1,e.settings.value.userEditable=!0,e.settings.value.marquee=!0,e.settings.value.focusable=!0,e.graphCursorDisabled.value=!1,e.canvas.value.style.cursor="default",e.unsubscribe("onMouseDown",p),e.unsubscribe("onMouseMove",u),e.unsubscribe("onMouseUp",c))}}},Bo=(s=!1)=>{const i=g=>g.key===" "?"Space":g.key.length>1||s?g.key:g.key.toUpperCase(),e=w(""),r=W(()=>{let g;return e.value.split("+").filter(T=>{const v=T===g;return g=T,!v}).join("+")}),o=g=>{e.value.length>0&&(e.value+="+"),e.value+=i(g)},t=()=>{e.value=""},y=g=>r.value===g;return document.addEventListener("keydown",o),document.addEventListener("keyup",t),ge(()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",t)}),{isPressed:y,currentKeyString:e}},Do=(s,i={})=>{const e=wo(s,i),r=({coords:p,event:u})=>{e.addNode(p),setTimeout(()=>e.updateGraphAtMousePosition(u),10)},o=(p,u)=>{const m=e.getSchemaItemsByCoordinates(u).findLast(f=>f.graphType==="node");if(!m)return;const l=e.getNode(m.id);if(l&&!(e.settings.value.userAddedEdgeRuleNoSelfLoops&&p.id===l.id)){if(e.settings.value.userAddedEdgeRuleOneEdgePerPath){const f=e.edges.value.find(a=>a.from===p.id&&a.to===l.id),n=e.edges.value.find(a=>a.from===l.id&&a.to===p.id);if(f||n)return}e.addEdge({from:p.id,to:l.id,label:e.settings.value.userAddedEdgeLabel})}},t=()=>{e.bulkRemoveNode([...e.focusedItemIds.value]),e.bulkRemoveEdge([...e.focusedItemIds.value])},y={Mac:{"Meta+Z":()=>e.undo(),"Shift+Meta+Z":()=>e.redo(),Backspace:t,"Meta+A":e.focusAll,Escape:e.resetFocus},Windows:{"Control+Z":()=>e.undo(),"Shift+Control+Z":()=>e.redo(),Backspace:t,"Control+A":e.focusAll,Escape:e.resetFocus}},g=window.navigator.userAgent.includes("Mac")?"Mac":"Windows",{isPressed:T}=Bo(),C={onDblClick:r,onKeyDown:()=>{if(e.settings.value.userEditable===!1||e.canvasFocused.value===!1)return;const p=y[g];for(const u in p)T(u)&&p[u]()},onNodeAnchorDrop:o},E=()=>{for(const p in C)e.subscribe(p,C[p]);e.settings.value.nodeAnchors=!0,e.settings.value.draggable=!0,e.settings.value.edgeLabelsEditable=!0},S=()=>{for(const p in C)e.unsubscribe(p,C[p]);e.settings.value.nodeAnchors=!1,e.settings.value.draggable=!1,e.settings.value.edgeLabelsEditable=!1};return e.settings.value.userEditable&&E(),e.subscribe("onSettingsChange",p=>{p.userEditable===!0?E():p.userEditable===!1&&S()}),e},Mo=(s,i={})=>{const e=Do(s,i),r={get:()=>JSON.parse(localStorage.getItem(e.settings.value.persistentStorageKey+"-nodes")??"[]"),set:f=>{localStorage.setItem(e.settings.value.persistentStorageKey+"-nodes",JSON.stringify(f))}},o={get:()=>JSON.parse(localStorage.getItem(e.settings.value.persistentStorageKey+"-edges")??"[]"),set:f=>{localStorage.setItem(e.settings.value.persistentStorageKey+"-edges",JSON.stringify(f))}},t={get:()=>JSON.parse(localStorage.getItem(e.settings.value.persistentStorageKey+"-theme")??"{}"),set:f=>{localStorage.setItem(e.settings.value.persistentStorageKey+"-theme",JSON.stringify(f))}},y={get:()=>JSON.parse(localStorage.getItem(e.settings.value.persistentStorageKey+"-settings")??"{}"),set:f=>{localStorage.setItem(e.settings.value.persistentStorageKey+"-settings",JSON.stringify(f))}},g=async()=>{await new Promise(f=>setTimeout(f,10)),r.set(e.nodes.value),o.set(e.edges.value)};let T=e.settings.value.persistentStorageKey;const v=async()=>{const f=e.settings.value.persistentStorageKey;if(T!==f){T=f;return}await new Promise(n=>setTimeout(n,10)),e.settings.value.persistentTrackTheme&&t.set(e.theme.value),e.settings.value.persistentTrackSettings&&y.set(e.settings.value),T=f},C=()=>{e.nodes.value=r.get(),e.edges.value=o.get(),e.settings.value.persistentTrackTheme&&(e.theme.value=Object.assign(e.theme.value,t.get())),e.settings.value.persistentTrackSettings&&(e.settings.value=Object.assign(e.settings.value,y.get())),queueMicrotask(()=>e.emit("onStructureChange",e.nodes.value,e.edges.value))},E=["onStructureChange","onNodeDrop","onGroupDrop","onGraphReset","onEdgeLabelChange"],S=["onThemeChange","onSettingsChange"],p=()=>{S.forEach(f=>e.subscribe(f,v))},u=()=>{S.forEach(f=>e.unsubscribe(f,v))},c=()=>{E.forEach(f=>e.subscribe(f,g))},m=()=>{E.forEach(f=>e.unsubscribe(f,g))},l=()=>{u(),m()};return e.subscribe("onSettingsChange",f=>{if(l(),"persistent"in f&&!f.persistent)return;if("persistent"in f&&f.persistent){C(),c(),(e.settings.value.persistentTrackSettings||e.settings.value.persistentTrackTheme)&&p();return}"persistentStorageKey"in f&&C(),c(),(e.settings.value.persistentTrackSettings||e.settings.value.persistentTrackTheme)&&p()}),e.settings.value.persistent&&(C(),c(),(e.settings.value.persistentTrackSettings||e.settings.value.persistentTrackTheme)&&p()),{...e,trackGraphState:g,trackOptions:v}},Fo=(s,i={})=>_o(s,i),_o=(s,i={})=>Mo(s,{theme:{...i.theme,...me.dark},settings:i.settings}),Lo=xe({__name:"Graph",props:{graph:{}},emits:["graphRef"],setup(s,{emit:i}){const e=s,r=i,o=g=>r("graphRef",g),t=w(e.graph.getTheme("graphBgPatternColor")),y=w(e.graph.getTheme("graphBgColor"));return e.graph.subscribe("onThemeChange",g=>{const{graphBgPatternColor:T,graphBgColor:v}=g;T&&(t.value=T),v&&(y.value=v)}),(g,T)=>(Ae(),Ie(Fe,{onCanvasRef:o,color:y.value,"pattern-color":t.value},null,8,["color","pattern-color"]))}});export{Io as B,Ao as C,me as T,Lo as _,Je as i,Fo as u};
