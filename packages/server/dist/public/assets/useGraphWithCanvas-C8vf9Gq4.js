var Qs=Object.defineProperty;var Js=(o,e,t)=>e in o?Qs(o,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[e]=t;var Yt=(o,e,t)=>Js(o,typeof e!="symbol"?e+"":e,t);import{ar as Gt,ad as oi,_ as ea,h as ta,i as oa,j as na,k as ra,l as ia,n as sa,p as aa,q as la,s as ua,v as ca,x as da,J as je,y as D,as as fa,at as Fo,ae as pa,au as ni,av as ri,d as H,a4 as Ne,D as $,o as S,w as I,R as U,e as P,aw as ha,c as R,a as N,N as me,al as Z,u as z,ax as ba,g as O,am as fr,ay as Pn,E as se,F as De,f as Qe,t as re,C as ma,ak as ro,az as jt,G as ga,B as A,z as wt,L as $o,a1 as va,m as W,aa as xo,aA as _a,aB as ya,aC as mt,aD as qt,aE as xa,aF as pr,a8 as ii,aG as wa,a9 as Uo,aH as si,aI as Mn,a7 as Ho,aJ as ai,aK as Ca,aL as Ta,aM as ka,aN as Sa,aO as hr,aP as In,aQ as li,aR as Dt,aS as ui,r as io,af as Bn,aT as ci,ah as Go,aU as di,b as Ke,aV as Ea,aW as Aa,aX as Ln,aY as fi,ab as Jt,aZ as dn,a_ as Da,a$ as Oa,b0 as Pa,b1 as Ma,b2 as Ia,b3 as Ba,b4 as La,b5 as Na,H as Ra,I as za,ap as Fa,b6 as fn,b7 as pi,b8 as $a,b9 as Ua,ba as hi,bb as Ha,bc as bi,bd as Ga,be as so,bf as br,K as Wa,A as Ka,bg as ko,bh as Ya,an as ja,bi as qa,bj as Va,bk as Xa,bl as Za,bm as Qa,bn as Ja,bo as el,bp as tl,bq as ol,br as nl,bs as rl,a2 as il,a3 as sl}from"./index-DenfF-1e.js";import{_ as mi,u as al,d as ll}from"./Button.vue_vue_type_script_setup_true_lang-BUksoIV7.js";import{_ as ve}from"./Icon.vue_vue_type_script_setup_true_lang-D07GTbLO.js";import{t as ul,M as mr,b as gr,_ as cl,d as dl,e as Bt,u as fl,a as pl}from"./index-D9D-poV_.js";const ao=()=>Math.random().toString(36).substring(2,9),gi=o=>({nodes:o.nodes.value,edges:o.edges.value,annotations:o.annotation.annotations.value,cameraPanX:o.magicCanvas.camera.state.panX.value,cameraPanY:o.magicCanvas.camera.state.panY.value,cameraZoom:o.magicCanvas.camera.state.zoom.value}),vi=(o,e)=>{o.load({nodes:e.nodes,edges:e.edges}),o.annotation.load(e.annotations);const{state:t}=o.magicCanvas.camera;t.panX.value=e.cameraPanX,t.panY.value=e.cameraPanY,t.zoom.value=e.cameraZoom},hl=o=>{const{nodes:e,edges:t,cameraPanX:n,cameraPanY:r,cameraZoom:i}=o,s=e.reduce((f,d)=>{const b=Math.round(d.x/10),y=Math.round(d.y/10);return f+`-${d.label},${b},${y}`},"").slice(1),a=t.reduce((f,d)=>{const b=e.findIndex(g=>g.id===d.from),y=e.findIndex(g=>g.id===d.to),h=d.label==="1"?`,${d.label}`:"";return f+`-${b},${y}`+h},"").slice(1),l=Math.round(n/10),u=Math.round(r/10),c=i.toFixed(2);return`${s}+${a}+${l}+${u}+${c}`},bl=o=>{const[e,t,n,r,i]=o.split("+"),s=e.split("-").map(l=>{const[u,c,f]=l.split(",");return{id:ao(),label:u,x:Number(c)*10,y:Number(f)*10}}),a=t.split("-").map(l=>{const[u,c,f]=l.split(",");return{id:ao(),label:f??"1",from:s[Number(u)].id,to:s[Number(c)].id}});return{nodes:s,edges:a,cameraPanX:Number(n)*10,cameraPanY:Number(r)*10,cameraZoom:Number(i),annotations:[]}},ml=Object.assign({"/src/menu/info.ts":da,"/src/playground/graph/info.ts":ca,"/src/playground/shape/info.ts":ua,"/src/products/basic-search/info.ts":la,"/src/products/binary-trees/info.ts":aa,"/src/products/dijkstras/info.ts":sa,"/src/products/markov-chains-legacy/info.ts":ia,"/src/products/markov-chains/info.ts":ra,"/src/products/min-spanning-tree/info.ts":na,"/src/products/network-flow/info.ts":oa,"/src/products/sandbox/info.ts":ta,"/src/products/set-visualizer/info.ts":ea}),wo=Object.values(ml).flatMap(o=>o.default);wo.map(o=>o.route);const Ch=wo.reduce((o,e)=>(o[e.productId]=e,o),{}),Nn=wo.reduce((o,e)=>(o[e.route.path]=e,o),{}),gl=o=>wo.map(n=>n.simulations).filter(Boolean).map(n=>n(o)).flat(),vl=(o,e)=>{const t=Gt();if(!e){const r=Nn[t.path];if(!r)throw new Error(`product not found for ${t.path}`);e=r.simulations}return(e??gl)(o)},_l=()=>{const o=Gt(),e=oi(),t=i=>{const s=o.query.rid;return typeof s=="string"&&s.length>0?`${i}?rid=${s}`:i},n=async i=>{var l,u;const s=(u=(l=i.route)==null?void 0:l.redirect)==null?void 0:u.toString(),a=s==null?void 0:s.startsWith("http");if(s&&a)return window.open(s,"_blank");await e.push(t(i.route.path))};return{navigate:n,navigateWithGraph:async i=>{const s=gi(je.value);await n(i),await new Promise(a=>setTimeout(a,0)),vi(je.value,s)},productLink:t}},vr=["sandbox","algorithms","data structures","math","developer tools"],yl=()=>{const o=Gt();return Nn[o.path]},xl=o=>"redirect"in o.route;var _i=["ctrl","alt","meta","shift"],yi="__0_1_2_3_4_5_6_7_8_9_a_b_c_d_e_f_g_h_i_j_k_l_m_n_o_p_q_r_s_t_u_v_w_x_y_z_ _`_'_\"_~_!_@_#_$_%_^_&_*_(_)_._-_+_=_[_]_{_}_<_>_,_/_?_;_:_\\_|_capslock_numlock_enter_tab_arrowdown_arrowleft_arrowright_arrowup_end_home_pagedown_pageup_backspace_delete_insert_escape_f1_f2_f3_f4_f5_f6_f7_f8_f9_f10_f11_f12_f13_f14_f15_f16_f17_f18_f19_f20_f21_f22_f23".split("_");yi[1]="_";var Rn={};for(let[o,e]of yi.entries())Rn[e]=o;var wl={space:" ",plus:"+",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright",esc:"escape"},zn=4,Cl=9,Fn=Cl+zn,Tl=2**zn,xi=2**Fn,kl=2**(2*Fn),Sl=2**(3*Fn);function El(o){let e;return o==="+"?["+"]:(o.slice(-1)=="+"?(e=o.slice(0,-2).split("+"),e.push("+")):e=o.split("+"),e.map(t=>wl[t]||t))}function Al(o){let e=new Set(o),t=Rn[o[o.length-1].toLowerCase()]||0;for(let n of _i)t=2*t+(e.has(n)?1:0);return t}function _r(o){return o>>zn}function Jo(o){return o%Tl}function Dl(o,e){if(o===void 0||_r(o)>0)return!1;let t=Jo(o),n=Jo(e);return t===n&&_r(e)===0?!1:(t&Jo(e))===t}function Ol(o){let e=Rn[o.key.toLowerCase()]||0;for(let t of _i)e=2*e+(o[`${t}Key`]?1:0);return e}function Wo(o){return o.map(El)}function Ko(o){if(o.length>4)throw"Can't encode sequence of more than 4 keys!";let e=0;for(let t of o)e=e*xi+Al(t);return e}function Pl(o){return o<xi?1:o<kl?2:o<Sl?3:4}function Ml(o){let e=[],t=0,n=0;for(let r=o.length-1;r>=0;r--)t=2**n*o[r]+t,n=n+13,e.push(t);return e}function Il(o={}){return{history:[],historySize:0,bindings:new Map,disabledSequenceCodes:new Set,...o}}function Bl(o,e,t){let n=Ko(Wo(e));return o.bindings.has(n)||o.bindings.set(n,new Set),o.bindings.get(n).add(t),wi(o)}function Ll(o,e,t){let n=Ko(Wo(e)),r=o.bindings.get(n);return r&&(r.delete(t),r.size==0&&o.bindings.delete(n)),wi(o)}function Nl(o,e){let t=Ko(Wo(e));return o.disabledSequenceCodes.delete(t),o}function Rl(o,e){let t=Ko(Wo(e));return o.disabledSequenceCodes.add(t),o}function zl(o,e){let t=Ol(e),n=o.history.at(-1);return Dl(n,t)&&o.history.pop(),o.history.push(t),o.history.length>o.historySize&&o.history.shift(),o}function Fl(o){let e=[];for(let t of Ml(o.history))o.disabledSequenceCodes.has(t)||e.push(...o.bindings.get(t)||[]);return e}function $l(o,e){o=zl(o,e);let t=Fl(o);for(let n of t)n(e);return[o,t]}function wi(o){o.historySize=0;for(let e of o.bindings.keys())o.historySize=Math.max(o.historySize,Pl(e));return o}var Ul=class{constructor(o){this.state=o,this.add=this.add.bind(this),this.remove=this.remove.bind(this),this.handle=this.handle.bind(this)}add(...o){let e=o.slice(0,-1),t=o.at(-1);return this.state=Bl(this.state,e,t),this}remove(...o){let e=o.slice(0,-1),t=o.at(-1);return this.state=Ll(this.state,e,t),this}enable(...o){return this.state=Nl(this.state,o),this}disable(...o){return this.state=Rl(this.state,o),this}handle(o){let[e,t]=$l(this.state,o);return this.state=e,t.length>0}};function Ci(){return new Ul(Il())}var Ti=Ci;const pn=window.navigator.userAgent.includes("Mac")?"Mac":"Windows",Hl=o=>{const{settings:e}=o,t=Ti(),n=()=>{if(o.annotation.isActive.value&&o.annotation.undo(),e.value.interactive){const x=o.history.undo();if(!x)return;o.focus.set(x.affectedItems.map(v=>v.data.id))}},r=()=>{if(o.annotation.isActive.value){o.annotation.redo();return}if(e.value.interactive){const x=o.history.redo();if(!x)return;o.focus.set(x.affectedItems.map(v=>v.data.id))}},i=()=>o.focus.reset(),s=()=>o.focus.all(),a=()=>{e.value.interactive!==!1&&(o.bulkRemoveNode([...o.focus.focusedItemIds.value]),o.bulkRemoveEdge([...o.focus.focusedItemIds.value]))},l=(x,v)=>v===!1?()=>{}:typeof v=="function"?v:x,u=D(()=>l(r,e.value.shortcutRedo)),c=D(()=>l(n,e.value.shortcutUndo)),f=D(()=>l(i,e.value.shortcutEscape)),d=D(()=>l(s,e.value.shortcutSelectAll)),b=D(()=>l(a,e.value.shortcutDelete)),y=D(()=>l(o.magicCanvas.camera.actions.zoomIn,e.value.shortcutZoomIn)),h=D(()=>l(o.magicCanvas.camera.actions.zoomOut,e.value.shortcutZoomOut)),g=D(()=>({Mac:{Undo:{binding:"meta+z",trigger:c.value},Redo:{binding:"meta+shift+z",trigger:u.value},Delete:{binding:"backspace",trigger:b.value},"Select All":{binding:"meta+a",trigger:d.value},Deselect:{binding:"esc",trigger:f.value},"Zoom In":{binding:"=",trigger:y.value},"Zoom Out":{binding:"-",trigger:h.value}},Windows:{Undo:{binding:"ctrl+z",trigger:c.value},Redo:{binding:"ctrl+shift+z",trigger:u.value},Delete:{binding:"delete",trigger:b.value},"Select All":{binding:"ctrl+a",trigger:d.value},Deselect:{binding:"escape",trigger:f.value},"Zoom In":{binding:"=",trigger:y.value},"Zoom Out":{binding:"-",trigger:h.value}}})),p=Object.values(g.value[pn]);for(const x of p){const v=x.binding;t.add(v,m=>{m==null||m.preventDefault(),x.trigger()})}const C=()=>{o.subscribe("onKeyDown",t.handle)},k=()=>{o.unsubscribe("onKeyDown",t.handle)};return e.value.shortcuts&&C(),o.subscribe("onSettingsChange",x=>{x.shortcuts===!0?C():x.shortcuts===!1&&k()}),{activeShortcuts:g.value[pn],trigger:{delete:b,selectAll:d,escape:f,redo:u,undo:c}}};var ki={exports:{}};(function(o){var e=function(){var t=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",i={};function s(l,u){if(!i[l]){i[l]={};for(var c=0;c<l.length;c++)i[l][l.charAt(c)]=c}return i[l][u]}var a={compressToBase64:function(l){if(l==null)return"";var u=a._compress(l,6,function(c){return n.charAt(c)});switch(u.length%4){default:case 0:return u;case 1:return u+"===";case 2:return u+"==";case 3:return u+"="}},decompressFromBase64:function(l){return l==null?"":l==""?null:a._decompress(l.length,32,function(u){return s(n,l.charAt(u))})},compressToUTF16:function(l){return l==null?"":a._compress(l,15,function(u){return t(u+32)})+" "},decompressFromUTF16:function(l){return l==null?"":l==""?null:a._decompress(l.length,16384,function(u){return l.charCodeAt(u)-32})},compressToUint8Array:function(l){for(var u=a.compress(l),c=new Uint8Array(u.length*2),f=0,d=u.length;f<d;f++){var b=u.charCodeAt(f);c[f*2]=b>>>8,c[f*2+1]=b%256}return c},decompressFromUint8Array:function(l){if(l==null)return a.decompress(l);for(var u=new Array(l.length/2),c=0,f=u.length;c<f;c++)u[c]=l[c*2]*256+l[c*2+1];var d=[];return u.forEach(function(b){d.push(t(b))}),a.decompress(d.join(""))},compressToEncodedURIComponent:function(l){return l==null?"":a._compress(l,6,function(u){return r.charAt(u)})},decompressFromEncodedURIComponent:function(l){return l==null?"":l==""?null:(l=l.replace(/ /g,"+"),a._decompress(l.length,32,function(u){return s(r,l.charAt(u))}))},compress:function(l){return a._compress(l,16,function(u){return t(u)})},_compress:function(l,u,c){if(l==null)return"";var f,d,b={},y={},h="",g="",p="",C=2,k=3,x=2,v=[],m=0,w=0,_;for(_=0;_<l.length;_+=1)if(h=l.charAt(_),Object.prototype.hasOwnProperty.call(b,h)||(b[h]=k++,y[h]=!0),g=p+h,Object.prototype.hasOwnProperty.call(b,g))p=g;else{if(Object.prototype.hasOwnProperty.call(y,p)){if(p.charCodeAt(0)<256){for(f=0;f<x;f++)m=m<<1,w==u-1?(w=0,v.push(c(m)),m=0):w++;for(d=p.charCodeAt(0),f=0;f<8;f++)m=m<<1|d&1,w==u-1?(w=0,v.push(c(m)),m=0):w++,d=d>>1}else{for(d=1,f=0;f<x;f++)m=m<<1|d,w==u-1?(w=0,v.push(c(m)),m=0):w++,d=0;for(d=p.charCodeAt(0),f=0;f<16;f++)m=m<<1|d&1,w==u-1?(w=0,v.push(c(m)),m=0):w++,d=d>>1}C--,C==0&&(C=Math.pow(2,x),x++),delete y[p]}else for(d=b[p],f=0;f<x;f++)m=m<<1|d&1,w==u-1?(w=0,v.push(c(m)),m=0):w++,d=d>>1;C--,C==0&&(C=Math.pow(2,x),x++),b[g]=k++,p=String(h)}if(p!==""){if(Object.prototype.hasOwnProperty.call(y,p)){if(p.charCodeAt(0)<256){for(f=0;f<x;f++)m=m<<1,w==u-1?(w=0,v.push(c(m)),m=0):w++;for(d=p.charCodeAt(0),f=0;f<8;f++)m=m<<1|d&1,w==u-1?(w=0,v.push(c(m)),m=0):w++,d=d>>1}else{for(d=1,f=0;f<x;f++)m=m<<1|d,w==u-1?(w=0,v.push(c(m)),m=0):w++,d=0;for(d=p.charCodeAt(0),f=0;f<16;f++)m=m<<1|d&1,w==u-1?(w=0,v.push(c(m)),m=0):w++,d=d>>1}C--,C==0&&(C=Math.pow(2,x),x++),delete y[p]}else for(d=b[p],f=0;f<x;f++)m=m<<1|d&1,w==u-1?(w=0,v.push(c(m)),m=0):w++,d=d>>1;C--,C==0&&(C=Math.pow(2,x),x++)}for(d=2,f=0;f<x;f++)m=m<<1|d&1,w==u-1?(w=0,v.push(c(m)),m=0):w++,d=d>>1;for(;;)if(m=m<<1,w==u-1){v.push(c(m));break}else w++;return v.join("")},decompress:function(l){return l==null?"":l==""?null:a._decompress(l.length,32768,function(u){return l.charCodeAt(u)})},_decompress:function(l,u,c){var f=[],d=4,b=4,y=3,h="",g=[],p,C,k,x,v,m,w,_={val:c(0),position:u,index:1};for(p=0;p<3;p+=1)f[p]=p;for(k=0,v=Math.pow(2,2),m=1;m!=v;)x=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=c(_.index++)),k|=(x>0?1:0)*m,m<<=1;switch(k){case 0:for(k=0,v=Math.pow(2,8),m=1;m!=v;)x=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=c(_.index++)),k|=(x>0?1:0)*m,m<<=1;w=t(k);break;case 1:for(k=0,v=Math.pow(2,16),m=1;m!=v;)x=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=c(_.index++)),k|=(x>0?1:0)*m,m<<=1;w=t(k);break;case 2:return""}for(f[3]=w,C=w,g.push(w);;){if(_.index>l)return"";for(k=0,v=Math.pow(2,y),m=1;m!=v;)x=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=c(_.index++)),k|=(x>0?1:0)*m,m<<=1;switch(w=k){case 0:for(k=0,v=Math.pow(2,8),m=1;m!=v;)x=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=c(_.index++)),k|=(x>0?1:0)*m,m<<=1;f[b++]=t(k),w=b-1,d--;break;case 1:for(k=0,v=Math.pow(2,16),m=1;m!=v;)x=_.val&_.position,_.position>>=1,_.position==0&&(_.position=u,_.val=c(_.index++)),k|=(x>0?1:0)*m,m<<=1;f[b++]=t(k),w=b-1,d--;break;case 2:return g.join("")}if(d==0&&(d=Math.pow(2,y),y++),f[w])h=f[w];else if(w===b)h=C+C.charAt(0);else return null;g.push(h),f[b++]=C+h.charAt(0),d--,C=h,d==0&&(d=Math.pow(2,y),y++)}}};return a}();o!=null?o.exports=e:typeof angular<"u"&&angular!=null&&angular.module("LZString",[]).factory("LZString",function(){return e})})(ki);var Si=ki.exports;const Ei="g",Gl=o=>{const e=Nn[o];if(!e)throw new Error(`no product found for route ${o}`);return e},Wl=(o,e)=>{const t=oi(),n=Gt(),r=ri(),i=()=>{const a=pn==="Mac"?"⌘+Z":"Ctrl+Z";r.add({summary:`Loaded graph from link successfully. Press ${a} to undo.`,severity:"success",life:5e3})},s=()=>r.add({summary:"Failed to load graph from link 😕",severity:"error",life:5e3});if(t.replace({path:n.path,query:{}}),typeof e!="string"){console.error("graph share failed - serialized transit data not a string"),s();return}try{const a=Si.decompressFromEncodedURIComponent(e),l=bl(a);setTimeout(()=>vi(o,l),0),i()}catch{console.error("graph share failed - could not parse graph transit data"),s()}},Kl=(o,e)=>{const t=Gt();e||(e=Gl(t.path));const{connectToRoom:n}=pa,r=t.query.rid,{productId:i,name:s}=e;document.title=`${s} - Magic Graphs`,fa.value=o;const a=t.query[Ei];return a&&Wl(o,a),Fo(()=>{if(r){if(typeof r!="string")return console.error("room id must be a string");n({graph:o,roomId:r,productId:i})}}),ni(()=>{var l;(l=e.state)==null||l.reset()}),e},Ce=H({__name:"GButton",props:{secondary:{type:Boolean,default:!1},tertiary:{type:Boolean,default:!1},contrast:{type:Boolean,default:!1}},setup(o){const e=Ne(),t=o,n=D(()=>t.secondary?e.value.secondary:t.tertiary?e.value.tertiary:t.contrast?e.value.contrast:e.value.primary);return(r,i)=>(S(),$(mi,{color:n.value},{default:I(()=>[U(r.$slots,"default")]),_:3},8,["color"]))}}),So=H({__name:"PlaybackButton",props:{icon:{}},setup(o){return(e,t)=>(S(),$(Ce,{style:{"border-radius":"40px"}},{default:I(()=>[P(ve,{class:"py-1 px-6 text-5xl",icon:e.icon},null,8,["icon"])]),_:1}))}}),Yl={transitionTimeMs:250,transitionEasing:"ease-in-out"},jl=H({__name:"Progressbar",props:ha({range:{},progress:{},previewProgress:{},transitionTimeMs:{},transitionEasing:{},color:{},onProgressSet:{type:Function},onHover:{type:Function}},Yl),setup(o){const e=Ne(),t=o,n=D(()=>{const[l,u]=t.range;return u-l}),r=l=>{const[u]=t.range;return Math.min(Math.max(l-u,0),n.value)/n.value*100},i=l=>{const u=l.currentTarget;if(!(u instanceof HTMLElement))throw new Error("Invalid target");const c=l.offsetX,f=u.offsetWidth,d=c/f,b=t.range[0]+d*n.value;return Math.round(b)},s=l=>{var c;const u=i(l);(c=t.onProgressSet)==null||c.call(t,u)},a=l=>{var c;const u=i(l);(c=t.onHover)==null||c.call(t,u)};return(l,u)=>(S(),R("div",{onMousemove:a,onClick:s,class:"relative overflow-hidden h-4 w-full z-1 cursor-pointer"},[N("div",{class:Z("absolute top-0 left-0 h-full z-0"),style:me({backgroundColor:t.color??z(e).tertiary,width:`${r(l.progress)}%`,transition:`width ${t.transitionTimeMs}ms ${t.transitionEasing}`})},null,4),N("div",{class:Z("absolute top-0 left-0 h-full z-10"),style:me({backgroundColor:z(e).primary+"90",width:`${r(l.previewProgress??t.range[0])}%`})},null,4)],32))}}),ql={class:"w-full flex justify-center"},Vl={class:"w-12"},Xl={class:"w-12"},Zl=H({__name:"GSpreadSelect",props:ba({items:{},initialItemIndex:{default:0}},{modelValue:{},modelModifiers:{},open:{default:!1},openModifiers:{}}),emits:["update:modelValue","update:open"],setup(o){const e=O(),t=o,n=fr(o,"modelValue");if(n.value=t.items[t.initialItemIndex].value,n.value===void 0)throw new Error("invalid initialItemIndex");const r=D(()=>{var u;return(u=t.items.find(c=>c.value===n.value))==null?void 0:u.label}),i=fr(o,"open"),s=()=>i.value=!i.value;Pn(e,()=>i.value=!1);const a=u=>{n.value=u.value,i.value=!1},l=u=>u.value===n.value;return(u,c)=>(S(),R("div",ql,[i.value?(S(),R("div",{key:0,ref_key:"target",ref:e,class:"flex gap-2 justify-center"},[(S(!0),R(De,null,Qe(u.items,f=>(S(),$(Ce,{key:f.label,onClick:d=>a(f),class:Z(["rounded-full",l(f)?"opacity-100 ring-white ring-2 ring-inset":"opacity-75"])},{default:I(()=>[N("span",Vl,re(f.label),1)]),_:2},1032,["onClick","class"]))),128))],512)):r.value?(S(),$(Ce,{key:1,onClick:s,class:"rounded-full"},{default:I(()=>[N("span",Xl,re(r.value),1)]),_:1})):se("",!0)]))}}),Ot={Fullscreen:{binding:"f"},Help:{binding:"h"},"Pause/Play Simulation":{binding:"space"},"Simulation Step Forward":{binding:"arrowright"},"Simulation Step Backward":{binding:"arrowleft"}},Ql={class:"flex flex-col gap-5 items-center justify-center"},Jl={class:"flex gap-2 justify-between"},eu={class:"w-12"},tu={class:"flex gap-4 fill-white dark:fill-black"},ou=H({__name:"SimulationPlaybackControls",props:{controls:{}},setup(o){const e=Ne(),t=o,{isOver:n,paused:r,step:i,hasBegun:s,lastStep:a,playbackSpeed:l}=ma(t.controls),{nextStep:u,prevStep:c,setStep:f,start:d,stop:b}=t.controls,y=()=>{c(),r.value=!0},h=()=>{u(),r.value=!0},g=M=>{f(M),r.value=!0},p=()=>{r.value=!r.value},C=()=>{b(),d()},k=O(-1),x=M=>{k.value=M},v=()=>{k.value=-1},m=()=>{r.value=!0};je.value.subscribe("onStructureChange",m),ro(()=>{je.value.unsubscribe("onStructureChange",m)});const w=[{label:"0.25x",value:jt/.25},{label:"0.5x",value:jt/.5},{label:"1x",value:jt},{label:"2x",value:jt/2},{label:"4x",value:jt/4}],_=O(!1),T=w.findIndex(M=>M.value===l.value)??2,E=Ti();return E.add(Ot["Pause/Play Simulation"].binding,()=>{n.value?C():p()}),E.add(Ot["Simulation Step Backward"].binding,y),E.add(Ot["Simulation Step Forward"].binding,h),window.addEventListener("keyup",E.handle),ro(()=>window.removeEventListener("keyup",E.handle)),(M,L)=>(S(),R("div",Ql,[N("div",Jl,[P(Zl,{modelValue:z(l),"onUpdate:modelValue":L[0]||(L[0]=F=>ga(l)?l.value=F:null),open:_.value,"onUpdate:open":L[1]||(L[1]=F=>_.value=F),items:w,"initial-item-index":z(T)},null,8,["modelValue","open","initial-item-index"]),_.value?se("",!0):(S(),$(Ce,{key:0,class:"rounded-full"},{default:I(()=>[N("span",eu,re(z(i)),1)]),_:1}))]),z(a)!==1/0?(S(),$(jl,{key:0,onMouseleave:v,range:[0,z(a)],progress:z(i),"on-progress-set":g,"preview-progress":k.value,"on-hover":x,class:"w-full border-2 rounded-lg",style:me({borderColor:z(e).tertiary})},null,8,["range","progress","preview-progress","style"])):se("",!0),N("div",tu,[P(So,{onClick:y,disabled:!z(s),icon:"chevron-left"},null,8,["disabled"]),z(n)?(S(),$(So,{key:0,onClick:C,icon:"restart"})):(S(),$(So,{key:1,onClick:p,icon:z(r)?"play":"pause"},null,8,["icon"])),P(So,{onClick:h,disabled:z(n),icon:"chevron-right"},null,8,["disabled"])])]))}}),Ai=[A.RED_600,A.BLUE_600,A.GREEN_600,A.YELLOW_600],Di=[3,6,9,12],Th="element-highlight",kh=1e3,nu=1e3,ru={class:"text-3xl font-bold"},yr=300,iu=H({__name:"TutorialHint",props:{tutorial:{}},setup(o){const e=O(0),t=D(()=>{var i;return((i=o.tutorial.sequence.value[o.tutorial.step.value])==null?void 0:i.hint)??""}),n=O("");let r;return wt(t,()=>{e.value=0,clearTimeout(r),r=setTimeout(()=>{n.value=t.value,e.value=1},yr+nu)},{immediate:!0}),(i,s)=>(S(),R("div",{class:Z(["transition-opacity",`duration-[${yr}ms]`,"select-none","text-center"]),style:me({opacity:e.value})},[U(i.$slots,"default",{hint:n.value},()=>[N("h1",ru,re(n.value),1)])],6))}}),Oi=H({__name:"ToolbarHint",props:{color:{default:A.WHITE+"75"},tutorial:{}},setup(o){return(e,t)=>(S(),$(iu,{tutorial:e.tutorial},{default:I(({hint:n})=>[N("h5",{style:me({color:e.color}),class:"text-sm"},re(n),5)]),_:1},8,["tutorial"]))}}),su={class:"flex flex-col gap-2"},au=H({__name:"ToolbarBase",props:{color:{default:A.GRAY_800},hint:{default:void 0}},setup(o){return(e,t)=>(S(),R("div",su,[N("div",{style:me({backgroundColor:e.color}),class:"flex items-center gap-2 py-1 px-1 rounded-lg"},[U(e.$slots,"default")],4),U(e.$slots,"hint",{},()=>[e.hint?(S(),$(Oi,{key:0,tutorial:e.hint},null,8,["tutorial"])):se("",!0)])]))}}),lu=H({__name:"GToolbarHint",props:{tutorial:{}},setup(o){const e=Ne();return(t,n)=>(S(),$(Oi,{tutorial:t.tutorial,color:z(e).text+"75"},null,8,["tutorial","color"]))}}),uu={class:"absolute w-full translate-y-14 pointer-events-none"},$n=H({__name:"GToolbarBase",props:{hint:{}},setup(o){const e=Ne();return(t,n)=>(S(),$(au,{hint:t.hint,color:z(e).primary},{hint:I(()=>[N("div",uu,[t.hint?(S(),$(lu,{key:0,tutorial:t.hint},null,8,["tutorial"])):se("",!0)])]),default:I(()=>[U(t.$slots,"default")]),_:3},8,["hint","color"]))}}),cu=o=>D(()=>{const e=$o(o.value);if(!e.isValid())throw new Error("invalid color");return e}),du=["disabled"],fu=H({__name:"ToolbarButton",props:{color:{default:A.GRAY_800},active:{type:Boolean,default:!1},activeColor:{default:A.GRAY_900},disabled:{type:Boolean,default:!1},icon:{default:""}},setup(o){const e=o,t=va(e,"color"),n=cu(t),r=D(()=>n.value.darken(5).toHexString()),i=D(()=>e.activeColor?e.activeColor:n.value.darken(10).toHexString()),s=D(()=>{if(!e.disabled)return e.active?i.value:c.value?r.value:e.color}),a=D(()=>{const f=n.value.isDark()?A.WHITE:A.BLACK;return e.disabled?f+"80":f}),l=D(()=>({color:a.value,backgroundColor:s.value,cursor:e.disabled?"not-allowed":"pointer"})),u=["p-1","rounded-md","grid","place-items-center","w-10","h-10"],c=O(!1);return(f,d)=>(S(),R("button",{onMouseenter:d[0]||(d[0]=b=>c.value=!0),onMouseleave:d[1]||(d[1]=b=>c.value=!1),disabled:f.disabled,class:Z(u),style:me(l.value)},[U(f.$slots,"default",{},()=>[P(ve,{icon:f.icon},null,8,["icon"])])],44,du))}}),nt=H({__name:"GToolbarButton",setup(o){const e=Ne(),t=D(()=>e.value.primary),n=D(()=>je.value.themeName.value==="dark"?e.value.tertiary:e.value.secondary);return(r,i)=>(S(),$(fu,W(r.$props,{color:t.value,"active-color":n.value}),{default:I(()=>[U(r.$slots,"default")]),_:3},16,["color","active-color"]))}}),pu=H({__name:"ToolbarDivider",props:{color:{default:A.GRAY_100+"20"}},setup(o){return(e,t)=>(S(),R("div",{style:me({backgroundColor:e.color}),class:"w-[1px] h-6 mx-1"},null,4))}}),xr=H({__name:"GToolbarDivider",setup(o){const e=Ne();return(t,n)=>(S(),$(pu,W(t.$props,{color:z(e).text+"30"}),null,16,["color"]))}}),eo=H({__name:"ToolbarButtonGroup",setup(o){const e=al(),t=["flex","items-center","relative","gap-1"],n=D(()=>ul(t,e.value));return(r,i)=>(S(),R("div",{class:Z(n.value)},[U(r.$slots,"default")],2))}}),hu={class:Z(["rounded-full","p-[3px]"])},bu=H({__name:"AnnotationToolbar",setup(o){const{clear:e,brushWeight:t,isErasing:n,color:r,isLaserPointing:i}=je.value.annotation,s=d=>{r.value=d,n.value=!1,i.value=!1},a=d=>{t.value=d,n.value=!1,i.value=!1},l=d=>n.value||i.value?!1:r.value===d,u=d=>n.value?!1:t.value===d,c=()=>{n.value=!n.value,i.value=!1},f=()=>{i.value=!i.value,n.value=!1};return(d,b)=>(S(),$($n,null,{default:I(()=>[P(eo,null,{default:I(()=>[(S(!0),R(De,null,Qe(z(Ai),y=>(S(),$(nt,{key:y,onClick:h=>s(y),active:l(y)},{default:I(()=>[N("div",hu,[N("div",{style:me({backgroundColor:y}),class:Z(["w-6","h-6","rounded-full"])},null,4)])]),_:2},1032,["onClick","active"]))),128))]),_:1}),P(xr),P(eo,null,{default:I(()=>[(S(!0),R(De,null,Qe(z(Di),(y,h)=>(S(),$(nt,{key:y,onClick:g=>a(y),active:u(y)},{default:I(()=>[N("div",{class:Z(["bg-gray-400","rounded-md","w-[15px]"]),style:me({height:`${h*5+1}px`})},null,4)]),_:2},1032,["onClick","active"]))),128))]),_:1}),P(xr),P(eo,null,{default:I(()=>[P(nt,{onClick:f,active:z(i),icon:"laser-pointer"},null,8,["active"]),P(nt,{onClick:c,active:z(n),icon:"eraser"},null,8,["active"]),P(nt,{onClick:z(e),icon:"delete-outline"},null,8,["onClick"])]),_:1})]),_:1}))}});var mu=xo.extend({name:"focustrap-directive"}),gu=_a.extend({style:mu});function lo(o){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lo(o)}function wr(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),t.push.apply(t,n)}return t}function Cr(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?wr(Object(t),!0).forEach(function(n){vu(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):wr(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function vu(o,e,t){return(e=_u(e))in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function _u(o){var e=yu(o,"string");return lo(e)=="symbol"?e:e+""}function yu(o,e){if(lo(o)!="object"||!o)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var n=t.call(o,e);if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}var Pi=gu.extend("focustrap",{mounted:function(e,t){var n=t.value||{},r=n.disabled;r||(this.createHiddenFocusableElements(e,t),this.bind(e,t),this.autoElementFocus(e,t)),e.setAttribute("data-pd-focustrap",!0),this.$el=e},updated:function(e,t){var n=t.value||{},r=n.disabled;r&&this.unbind(e)},unmounted:function(e){this.unbind(e)},methods:{getComputedSelector:function(e){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(e??"")},bind:function(e,t){var n=this,r=t.value||{},i=r.onFocusIn,s=r.onFocusOut;e.$_pfocustrap_mutationobserver=new MutationObserver(function(a){a.forEach(function(l){if(l.type==="childList"&&!e.contains(document.activeElement)){var u=function(f){var d=pr(f)?pr(f,n.getComputedSelector(e.$_pfocustrap_focusableselector))?f:qt(e,n.getComputedSelector(e.$_pfocustrap_focusableselector)):qt(f);return ii(d)?d:f.nextSibling&&u(f.nextSibling)};mt(u(l.nextSibling))}})}),e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_mutationobserver.observe(e,{childList:!0}),e.$_pfocustrap_focusinlistener=function(a){return i&&i(a)},e.$_pfocustrap_focusoutlistener=function(a){return s&&s(a)},e.addEventListener("focusin",e.$_pfocustrap_focusinlistener),e.addEventListener("focusout",e.$_pfocustrap_focusoutlistener)},unbind:function(e){e.$_pfocustrap_mutationobserver&&e.$_pfocustrap_mutationobserver.disconnect(),e.$_pfocustrap_focusinlistener&&e.removeEventListener("focusin",e.$_pfocustrap_focusinlistener)&&(e.$_pfocustrap_focusinlistener=null),e.$_pfocustrap_focusoutlistener&&e.removeEventListener("focusout",e.$_pfocustrap_focusoutlistener)&&(e.$_pfocustrap_focusoutlistener=null)},autoFocus:function(e){this.autoElementFocus(this.$el,{value:Cr(Cr({},e),{},{autoFocus:!0})})},autoElementFocus:function(e,t){var n=t.value||{},r=n.autoFocusSelector,i=r===void 0?"":r,s=n.firstFocusableSelector,a=s===void 0?"":s,l=n.autoFocus,u=l===void 0?!1:l,c=qt(e,"[autofocus]".concat(this.getComputedSelector(i)));u&&!c&&(c=qt(e,this.getComputedSelector(a))),mt(c)},onFirstHiddenElementFocus:function(e){var t,n=e.currentTarget,r=e.relatedTarget,i=r===n.$_pfocustrap_lasthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(r))?qt(n.parentElement,this.getComputedSelector(n.$_pfocustrap_focusableselector)):n.$_pfocustrap_lasthiddenfocusableelement;mt(i)},onLastHiddenElementFocus:function(e){var t,n=e.currentTarget,r=e.relatedTarget,i=r===n.$_pfocustrap_firsthiddenfocusableelement||!((t=this.$el)!==null&&t!==void 0&&t.contains(r))?ya(n.parentElement,this.getComputedSelector(n.$_pfocustrap_focusableselector)):n.$_pfocustrap_firsthiddenfocusableelement;mt(i)},createHiddenFocusableElements:function(e,t){var n=this,r=t.value||{},i=r.tabIndex,s=i===void 0?0:i,a=r.firstFocusableSelector,l=a===void 0?"":a,u=r.lastFocusableSelector,c=u===void 0?"":u,f=function(h){return xa("span",{class:"p-hidden-accessible p-hidden-focusable",tabIndex:s,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:h==null?void 0:h.bind(n)})},d=f(this.onFirstHiddenElementFocus),b=f(this.onLastHiddenElementFocus);d.$_pfocustrap_lasthiddenfocusableelement=b,d.$_pfocustrap_focusableselector=l,d.setAttribute("data-pc-section","firstfocusableelement"),b.$_pfocustrap_firsthiddenfocusableelement=d,b.$_pfocustrap_focusableselector=c,b.setAttribute("data-pc-section","lastfocusableelement"),e.prepend(d),e.append(b)}}}),Eo=wa(),xu=Uo`
    .p-popover {
        margin-block-start: dt('popover.gutter');
        background: dt('popover.background');
        color: dt('popover.color');
        border: 1px solid dt('popover.border.color');
        border-radius: dt('popover.border.radius');
        box-shadow: dt('popover.shadow');
    }

    .p-popover-content {
        padding: dt('popover.content.padding');
    }

    .p-popover-flipped {
        margin-block-start: calc(dt('popover.gutter') * -1);
        margin-block-end: dt('popover.gutter');
    }

    .p-popover-enter-from {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-popover-leave-to {
        opacity: 0;
    }

    .p-popover-enter-active {
        transition:
            transform 0.12s cubic-bezier(0, 0, 0.2, 1),
            opacity 0.12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-popover-leave-active {
        transition: opacity 0.1s linear;
    }

    .p-popover:after,
    .p-popover:before {
        bottom: 100%;
        left: calc(dt('popover.arrow.offset') + dt('popover.arrow.left'));
        content: ' ';
        height: 0;
        width: 0;
        position: absolute;
        pointer-events: none;
    }

    .p-popover:after {
        border-width: calc(dt('popover.gutter') - 2px);
        margin-left: calc(-1 * (dt('popover.gutter') - 2px));
        border-style: solid;
        border-color: transparent;
        border-bottom-color: dt('popover.background');
    }

    .p-popover:before {
        border-width: dt('popover.gutter');
        margin-left: calc(-1 * dt('popover.gutter'));
        border-style: solid;
        border-color: transparent;
        border-bottom-color: dt('popover.border.color');
    }

    .p-popover-flipped:after,
    .p-popover-flipped:before {
        bottom: auto;
        top: 100%;
    }

    .p-popover.p-popover-flipped:after {
        border-bottom-color: transparent;
        border-top-color: dt('popover.background');
    }

    .p-popover.p-popover-flipped:before {
        border-bottom-color: transparent;
        border-top-color: dt('popover.border.color');
    }
`,wu={root:"p-popover p-component",content:"p-popover-content"},Cu=xo.extend({name:"popover",style:xu,classes:wu}),Tu={name:"BasePopover",extends:Ho,props:{dismissable:{type:Boolean,default:!0},appendTo:{type:[String,Object],default:"body"},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},breakpoints:{type:Object,default:null},closeOnEscape:{type:Boolean,default:!0}},style:Cu,provide:function(){return{$pcPopover:this,$parentInstance:this}}},Mi={name:"Popover",extends:Tu,inheritAttrs:!1,emits:["show","hide"],data:function(){return{visible:!1}},watch:{dismissable:{immediate:!0,handler:function(e){e?this.bindOutsideClickListener():this.unbindOutsideClickListener()}}},selfClick:!1,target:null,eventTarget:null,outsideClickListener:null,scrollHandler:null,resizeListener:null,container:null,styleElement:null,overlayEventListener:null,documentKeydownListener:null,beforeUnmount:function(){this.dismissable&&this.unbindOutsideClickListener(),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.destroyStyle(),this.unbindResizeListener(),this.target=null,this.container&&this.autoZIndex&&Dt.clear(this.container),this.overlayEventListener&&(Eo.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null),this.container=null},mounted:function(){this.breakpoints&&this.createStyle()},methods:{toggle:function(e,t){this.visible?this.hide():this.show(e,t)},show:function(e,t){this.visible=!0,this.eventTarget=e.currentTarget,this.target=t||e.currentTarget},hide:function(){this.visible=!1},onContentClick:function(){this.selfClick=!0},onEnter:function(e){var t=this;ui(e,{position:"absolute",top:"0"}),this.alignOverlay(),this.dismissable&&this.bindOutsideClickListener(),this.bindScrollListener(),this.bindResizeListener(),this.autoZIndex&&Dt.set("overlay",e,this.baseZIndex+this.$primevue.config.zIndex.overlay),this.overlayEventListener=function(n){t.container.contains(n.target)&&(t.selfClick=!0)},this.focus(),Eo.on("overlay-click",this.overlayEventListener),this.$emit("show"),this.closeOnEscape&&this.bindDocumentKeyDownListener()},onLeave:function(){this.unbindOutsideClickListener(),this.unbindScrollListener(),this.unbindResizeListener(),this.unbindDocumentKeyDownListener(),Eo.off("overlay-click",this.overlayEventListener),this.overlayEventListener=null,this.$emit("hide")},onAfterLeave:function(e){this.autoZIndex&&Dt.clear(e)},alignOverlay:function(){Sa(this.container,this.target,!1);var e=hr(this.container),t=hr(this.target),n=0;e.left<t.left&&(n=t.left-e.left),this.container.style.setProperty(In("popover.arrow.left").name,"".concat(n,"px")),e.top<t.top&&(this.container.setAttribute("data-p-popover-flipped","true"),!this.isUnstyled&&li(this.container,"p-popover-flipped"))},onContentKeydown:function(e){e.code==="Escape"&&this.closeOnEscape&&(this.hide(),mt(this.target))},onButtonKeydown:function(e){switch(e.code){case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":e.preventDefault()}},focus:function(){var e=this.container.querySelector("[autofocus]");e&&e.focus()},onKeyDown:function(e){e.code==="Escape"&&this.closeOnEscape&&(this.visible=!1)},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},bindOutsideClickListener:function(){var e=this;!this.outsideClickListener&&ka()&&(this.outsideClickListener=function(t){e.visible&&!e.selfClick&&!e.isTargetClicked(t)&&(e.visible=!1),e.selfClick=!1},document.addEventListener("click",this.outsideClickListener))},unbindOutsideClickListener:function(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null,this.selfClick=!1)},bindScrollListener:function(){var e=this;this.scrollHandler||(this.scrollHandler=new Ta(this.target,function(){e.visible&&(e.visible=!1)})),this.scrollHandler.bindScrollListener()},unbindScrollListener:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()},bindResizeListener:function(){var e=this;this.resizeListener||(this.resizeListener=function(){e.visible&&!Ca()&&(e.visible=!1)},window.addEventListener("resize",this.resizeListener))},unbindResizeListener:function(){this.resizeListener&&(window.removeEventListener("resize",this.resizeListener),this.resizeListener=null)},isTargetClicked:function(e){return this.eventTarget&&(this.eventTarget===e.target||this.eventTarget.contains(e.target))},containerRef:function(e){this.container=e},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",ai(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var n in this.breakpoints)t+=`
                        @media screen and (max-width: `.concat(n,`) {
                            .p-popover[`).concat(this.$attrSelector,`] {
                                width: `).concat(this.breakpoints[n],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},onOverlayClick:function(e){Eo.emit("overlay-click",{originalEvent:e,target:this.target})}},directives:{focustrap:Pi,ripple:Mn},components:{Portal:si}},ku=["aria-modal"];function Su(o,e,t,n,r,i){var s=io("Portal"),a=Bn("focustrap");return S(),$(s,{appendTo:o.appendTo},{default:I(function(){return[P(ci,W({name:"p-popover",onEnter:i.onEnter,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave},o.ptm("transition")),{default:I(function(){return[r.visible?Go((S(),R("div",W({key:0,ref:i.containerRef,role:"dialog","aria-modal":r.visible,onClick:e[3]||(e[3]=function(){return i.onOverlayClick&&i.onOverlayClick.apply(i,arguments)}),class:o.cx("root")},o.ptmi("root")),[o.$slots.container?U(o.$slots,"container",{key:0,closeCallback:i.hide,keydownCallback:function(u){return i.onButtonKeydown(u)}}):(S(),R("div",W({key:1,class:o.cx("content"),onClick:e[0]||(e[0]=function(){return i.onContentClick&&i.onContentClick.apply(i,arguments)}),onMousedown:e[1]||(e[1]=function(){return i.onContentClick&&i.onContentClick.apply(i,arguments)}),onKeydown:e[2]||(e[2]=function(){return i.onContentKeydown&&i.onContentKeydown.apply(i,arguments)})},o.ptm("content")),[U(o.$slots,"default")],16))],16,ku)),[[a]]):se("",!0)]}),_:3},16,["onEnter","onLeave","onAfterLeave"])]}),_:3},8,["appendTo"])}Mi.render=Su;const Un=H({__name:"Popover",props:{offset:{default:12}},setup(o){const e=O(),t=r=>{e.value.toggle(r)},n=O(!1);return(r,i)=>(S(),R(De,null,[U(r.$slots,"activator",{toggle:t,isOpen:n.value}),P(z(Mi),{ref_key:"op",ref:e,onShow:i[0]||(i[0]=s=>n.value=!0),onHide:i[1]||(i[1]=s=>n.value=!1),unstyled:""},{default:I(()=>[N("div",{style:me({transform:`translateY(${r.offset}px)`})},[U(r.$slots,"default")],4)]),_:3},512)],64))}}),Eu=H({__name:"Well",props:{color:{default:A.GRAY_800},textColor:{default:A.WHITE}},setup(o){return(e,t)=>(S(),R("div",{style:me({backgroundColor:e.color,color:e.textColor})},[U(e.$slots,"default")],4))}}),Lt=H({__name:"GWell",props:{secondary:{type:Boolean,default:!1},tertiary:{type:Boolean,default:!1}},setup(o){const e=Ne(),t=o,n=D(()=>t.secondary?e.value.secondary:t.tertiary?e.value.tertiary:e.value.primary);return(r,i)=>(S(),$(Eu,W(r.$attrs,{color:n.value,"text-color":z(e).text}),{default:I(()=>[U(r.$slots,"default")]),_:3},16,["color","text-color"]))}}),Au={class:"min-w-20 min-h-20 max-w-20 max-h-20 rounded-md"},Du=["src"],Ou={class:"flex flex-col gap-1"},Pu={class:"text-lg font-bold"},Mu={class:"text-sm opacity-80"},Iu=H({__name:"VerticalCardButton",props:{imageSrc:{},color:{default:A.GRAY_800},hoverColor:{},title:{},description:{}},setup(o){const e=o,t=D(()=>{if(e.hoverColor)return e.hoverColor;const i=$o(e.color);return(i.isDark()?i.lighten(10):i.darken(10)).toHexString()}),n=D(()=>r.value?t.value:e.color),r=O(!1);return(i,s)=>(S(),R("button",{onMouseenter:s[0]||(s[0]=a=>r.value=!0),onMouseleave:s[1]||(s[1]=a=>r.value=!1),style:me({backgroundColor:n.value}),class:"p-2 cursor-pointer text-left flex gap-4"},[N("div",Au,[i.imageSrc?(S(),R("img",{key:0,src:i.imageSrc,class:"rounded-md object-cover w-full h-full"},null,8,Du)):se("",!0)]),N("div",Ou,[N("h1",Pu,re(i.title),1),N("p",Mu,re(i.description),1)])],36))}}),Ii=H({__name:"GVerticalCardButton",setup(o){const e=Ne();return(t,n)=>(S(),$(Iu,W(t.$attrs,{color:z(e).primary,"hover-color":z(e).secondary}),null,16,["color","hover-color"]))}}),Bu={key:0,class:"flex items-center gap-3"},Lu=H({__name:"ProductItem",props:{product:{}},setup(o){const{navigate:e,navigateWithGraph:t}=_l(),n=yl(),r=o,i=O(!1),s=O("");setTimeout(()=>{s.value=r.product.menu.thumbnail},di(0,100));const a=D(()=>{const l=r.product.menu.allowGoWithGraph??!0;return!xl(r.product)&&l});return(l,u)=>(S(),R("div",{onMouseenter:u[2]||(u[2]=c=>i.value=!0),onMouseleave:u[3]||(u[3]=c=>i.value=!1),class:"relative"},[N("div",{class:"absolute w-full h-full z-10 grid place-items-center transition duration-200",style:me({opacity:i.value?1:0})},[z(n).productId!==l.product.productId?(S(),R("div",Bu,[P(Ce,{onClick:u[0]||(u[0]=c=>z(e)(l.product)),tertiary:"",class:"grid place-items-center w-[120px] text-sm"},{default:I(()=>[P(ve,{icon:"arrow-right"}),u[4]||(u[4]=Ke(" go "))]),_:1,__:[4]}),a.value?(S(),$(Ce,{key:0,onClick:u[1]||(u[1]=c=>z(t)(l.product)),tertiary:"",class:"grid place-items-center w-[120px] text-sm"},{default:I(()=>[P(ve,{icon:"debug-step-over"}),u[5]||(u[5]=Ke(" go with graph "))]),_:1,__:[5]})):se("",!0)])):(S(),$(Lt,{key:1,tertiary:"",class:"flex items-center gap-2 px-2 py-1 rounded-md text-xl font-bold overflow-hidden"},{default:I(()=>[P(ve,{icon:"star",class:"text-xl"}),u[6]||(u[6]=Ke(" you are here ")),P(ve,{icon:"star",class:"text-xl"})]),_:1,__:[6]}))],4),P(Ii,{"image-src":s.value,title:l.product.menu.name,description:l.product.menu.description,class:"rounded-md",style:me({opacity:i.value?.5:1})},null,8,["image-src","title","description","style"])],32))}}),Nu={class:"flex flex-col gap-2"},Ru=H({__name:"ProductDropdownMenu",setup(o){const e=wo.filter(n=>n==null?void 0:n.menu),t=vr.reduce((n,r)=>(n[r]=[],n),{});return e.forEach(n=>{t[n.menu.category].push(n)}),(n,r)=>(S(),$(Lt,{class:"flex flex-col p-2 w-[400px] h-[500px] overflow-auto rounded-lg"},{default:I(()=>[(S(!0),R(De,null,Qe(z(vr),i=>(S(),R("div",{key:i},[z(t)[i].length>0?(S(),$(Lt,{key:0,tertiary:"",class:"text-xl font-bold capitalize my-2 text-center p-1 rounded-md"},{default:I(()=>[Ke(re(i),1)]),_:2},1024)):se("",!0),N("div",Nu,[(S(!0),R(De,null,Qe(z(t)[i],s=>(S(),$(Lu,{key:s.productId,product:s},null,8,["product"]))),128))])]))),128))]),_:1}))}}),zu=H({__name:"ProductDropdown",setup(o){const e=Ne();return(t,n)=>(S(),$(Un,null,{activator:I(({toggle:r,isOpen:i})=>[P(Ce,{onClick:r,tertiary:i,class:"px-4 py-2 text-xl rounded-lg"},{default:I(()=>[N("span",{class:Z(`text-${z(e).brand}`)},"Magic Graphs",2)]),_:2},1032,["onClick","tertiary"])]),default:I(()=>[P(Ru)]),_:1}))}}),Fu=["onMouseenter","onMouseleave"],$u=H({__name:"PopoverTooltip",props:{offset:{default:4}},setup(o){return(e,t)=>(S(),$(Un,{offset:e.offset},{activator:I(({toggle:n})=>[N("div",{onMouseenter:n,onMouseleave:n},[U(e.$slots,"default")],40,Fu)]),default:I(()=>[U(e.$slots,"content")]),_:3},8,["offset"]))}}),Uu={key:0,class:"absolute bg-black w-full h-full z-10 rounded-md bg-opacity-50 grid place-items-center"},Hu=["innerHTML"],Gu=H({__name:"SelectSimGuard",props:{simulation:{}},setup(o){const e=o,t=D(()=>{var n;return(n=e.simulation.canRun)==null?void 0:n.check()});return(n,r)=>t.value?(S(),R("div",Uu,[P($u,null,{content:I(()=>[P(Lt,{tertiary:"",class:"max-w-72 rounded-lg p-2"},{default:I(()=>[N("span",{innerHTML:t.value.description,class:"font-bold"},null,8,Hu)]),_:1})]),default:I(()=>[P(mi,{onMouseenter:r[0]||(r[0]=i=>{var s;return(s=t.value.themer)==null?void 0:s.theme()}),onMouseleave:r[1]||(r[1]=i=>{var s;return(s=t.value.themer)==null?void 0:s.untheme()}),color:z(A).GRAY_900,"text-color":z(A).RED_500,class:"text-lg rounded-lg px-2 py-1"},{default:I(()=>[Ke(re(t.value.title),1)]),_:1},8,["color","text-color"])]),_:1})])):se("",!0)}}),Wu=H({__name:"SimCard",props:{simulation:{}},setup(o){const e=o,t=O("");return setTimeout(()=>{t.value=e.simulation.thumbnail},di(0,100)),(n,r)=>(S(),$(Ii,{"image-src":t.value,title:n.simulation.name,description:n.simulation.description,class:"rounded-md"},null,8,["image-src","title","description"]))}}),Ku=H({__name:"SelectSim",props:{simulations:{},disabled:{type:Boolean}},emits:["simulation-selected"],setup(o,{emit:e}){const t=o,n=e,r=D(()=>{const i=t.simulations,s=i.filter(l=>{var u;return(u=l.canRun)==null?void 0:u.check()});return[...i.filter(l=>{var u;return!((u=l.canRun)!=null&&u.check())}),...s]});return(i,s)=>(S(),$(Un,null,{activator:I(({toggle:a,isOpen:l})=>[P(Ce,{onClick:a,tertiary:l,disabled:i.disabled,class:"h-14 w-14 rounded-full"},{default:I(()=>[P(ve,{class:"text-3xl",icon:"play"})]),_:2},1032,["onClick","tertiary","disabled"])]),default:I(()=>[P(Lt,{class:"flex flex-col p-2 w-[400px] max-h-[500px] overflow-auto gap-1 rounded-lg"},{default:I(()=>[(S(!0),R(De,null,Qe(r.value,a=>(S(),R("div",{key:a.name,class:"relative"},[P(Gu,{simulation:a},null,8,["simulation"]),P(Wu,{onClick:l=>n("simulation-selected",a),simulation:a},null,8,["onClick","simulation"])]))),128))]),_:1})]),_:1}))}}),Yu=H({__name:"StopSimButton",setup(o){return(e,t)=>(S(),$(Ce,{color:z(A).RED_500,class:"h-14 w-14 rounded-full"},{default:I(()=>[P(ve,{class:"text-3xl",icon:"stop"})]),_:1},8,["color"]))}}),ju=H({__name:"FullscreenButton",setup(o){const{toggle:e,isFullscreen:t}=Ea();return Aa(Ot.Fullscreen.binding,e),(n,r)=>(S(),$(Ce,{onClick:z(e),class:"h-12 w-12"},{default:I(()=>[P(ve,{class:"text-3xl",icon:z(t)?"fullscreen-exit":"fullscreen"},null,8,["icon"])]),_:1},8,["onClick"]))}}),qu=H({__name:"ThemeToolbar",setup(o){const e={auto:"cog-outline",light:"weather-sunny",dark:"weather-night",pink:"flower-tulip-outline"};return(t,n)=>(S(),$($n,null,{default:I(()=>[P(eo,null,{default:I(()=>[(S(),R(De,null,Qe(e,(r,i)=>P(nt,{key:i,onClick:s=>z(je).preferredTheme.value=i,icon:r,active:i===z(je).preferredTheme.value},null,8,["onClick","icon","active"])),64))]),_:1})]),_:1}))}}),Vu={class:"text-sm font-semibold"},Xu=H({__name:"ZoomToolbar",props:{camera:{}},setup(o){const e=o,t=D(()=>e.camera.state.zoom.value),n=D(()=>{const i=Math.log(mr),s=Math.log(gr);return(Math.log(t.value)-i)/(s-i)}),r=D(()=>Math.round(n.value*100));return(i,s)=>(S(),$($n,null,{default:I(()=>[P(eo,null,{default:I(()=>[P(nt,{onClick:s[0]||(s[0]=a=>i.camera.actions.zoomOut()),disabled:t.value<=z(mr),icon:"minus"},null,8,["disabled"]),P(Lt,{class:"w-12 text-center"},{default:I(()=>[N("p",Vu,re(r.value)+"%",1)]),_:1}),P(nt,{onClick:s[1]||(s[1]=a=>i.camera.actions.zoomIn()),disabled:t.value>=z(gr),icon:"plus"},null,8,["disabled"])]),_:1})]),_:1}))}});var Bi={name:"WindowMaximizeIcon",extends:Ln};function Zu(o,e,t,n,r,i){return S(),R("svg",W({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),e[0]||(e[0]=[N("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14ZM9.77805 7.42192C9.89013 7.534 10.0415 7.59788 10.2 7.59995C10.3585 7.59788 10.5099 7.534 10.622 7.42192C10.7341 7.30985 10.798 7.15844 10.8 6.99995V3.94242C10.8066 3.90505 10.8096 3.86689 10.8089 3.82843C10.8079 3.77159 10.7988 3.7157 10.7824 3.6623C10.756 3.55552 10.701 3.45698 10.622 3.37798C10.5099 3.2659 10.3585 3.20202 10.2 3.19995H7.00002C6.84089 3.19995 6.68828 3.26317 6.57576 3.37569C6.46324 3.48821 6.40002 3.64082 6.40002 3.79995C6.40002 3.95908 6.46324 4.11169 6.57576 4.22422C6.68828 4.33674 6.84089 4.39995 7.00002 4.39995H8.80006L6.19997 7.00005C6.10158 7.11005 6.04718 7.25246 6.04718 7.40005C6.04718 7.54763 6.10158 7.69004 6.19997 7.80005C6.30202 7.91645 6.44561 7.98824 6.59997 8.00005C6.75432 7.98824 6.89791 7.91645 6.99997 7.80005L9.60002 5.26841V6.99995C9.6021 7.15844 9.66598 7.30985 9.77805 7.42192ZM1.4 14H3.8C4.17066 13.9979 4.52553 13.8498 4.78763 13.5877C5.04973 13.3256 5.1979 12.9707 5.2 12.6V10.2C5.1979 9.82939 5.04973 9.47452 4.78763 9.21242C4.52553 8.95032 4.17066 8.80215 3.8 8.80005H1.4C1.02934 8.80215 0.674468 8.95032 0.412371 9.21242C0.150274 9.47452 0.00210008 9.82939 0 10.2V12.6C0.00210008 12.9707 0.150274 13.3256 0.412371 13.5877C0.674468 13.8498 1.02934 13.9979 1.4 14ZM1.25858 10.0586C1.29609 10.0211 1.34696 10 1.4 10H3.8C3.85304 10 3.90391 10.0211 3.94142 10.0586C3.97893 10.0961 4 10.147 4 10.2V12.6C4 12.6531 3.97893 12.704 3.94142 12.7415C3.90391 12.779 3.85304 12.8 3.8 12.8H1.4C1.34696 12.8 1.29609 12.779 1.25858 12.7415C1.22107 12.704 1.2 12.6531 1.2 12.6V10.2C1.2 10.147 1.22107 10.0961 1.25858 10.0586Z",fill:"currentColor"},null,-1)]),16)}Bi.render=Zu;var Li={name:"WindowMinimizeIcon",extends:Ln};function Qu(o,e,t,n,r,i){return S(),R("svg",W({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),e[0]||(e[0]=[N("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.8 0H2.2C1.61652 0 1.05694 0.231785 0.644365 0.644365C0.231785 1.05694 0 1.61652 0 2.2V7C0 7.15913 0.063214 7.31174 0.175736 7.42426C0.288258 7.53679 0.44087 7.6 0.6 7.6C0.75913 7.6 0.911742 7.53679 1.02426 7.42426C1.13679 7.31174 1.2 7.15913 1.2 7V2.2C1.2 1.93478 1.30536 1.68043 1.49289 1.49289C1.68043 1.30536 1.93478 1.2 2.2 1.2H11.8C12.0652 1.2 12.3196 1.30536 12.5071 1.49289C12.6946 1.68043 12.8 1.93478 12.8 2.2V11.8C12.8 12.0652 12.6946 12.3196 12.5071 12.5071C12.3196 12.6946 12.0652 12.8 11.8 12.8H7C6.84087 12.8 6.68826 12.8632 6.57574 12.9757C6.46321 13.0883 6.4 13.2409 6.4 13.4C6.4 13.5591 6.46321 13.7117 6.57574 13.8243C6.68826 13.9368 6.84087 14 7 14H11.8C12.3835 14 12.9431 13.7682 13.3556 13.3556C13.7682 12.9431 14 12.3835 14 11.8V2.2C14 1.61652 13.7682 1.05694 13.3556 0.644365C12.9431 0.231785 12.3835 0 11.8 0ZM6.368 7.952C6.44137 7.98326 6.52025 7.99958 6.6 8H9.8C9.95913 8 10.1117 7.93678 10.2243 7.82426C10.3368 7.71174 10.4 7.55913 10.4 7.4C10.4 7.24087 10.3368 7.08826 10.2243 6.97574C10.1117 6.86321 9.95913 6.8 9.8 6.8H8.048L10.624 4.224C10.73 4.11026 10.7877 3.95982 10.7849 3.80438C10.7822 3.64894 10.7192 3.50063 10.6093 3.3907C10.4994 3.28077 10.3511 3.2178 10.1956 3.21506C10.0402 3.21232 9.88974 3.27002 9.776 3.376L7.2 5.952V4.2C7.2 4.04087 7.13679 3.88826 7.02426 3.77574C6.91174 3.66321 6.75913 3.6 6.6 3.6C6.44087 3.6 6.28826 3.66321 6.17574 3.77574C6.06321 3.88826 6 4.04087 6 4.2V7.4C6.00042 7.47975 6.01674 7.55862 6.048 7.632C6.07656 7.70442 6.11971 7.7702 6.17475 7.82524C6.2298 7.88029 6.29558 7.92344 6.368 7.952ZM1.4 8.80005H3.8C4.17066 8.80215 4.52553 8.95032 4.78763 9.21242C5.04973 9.47452 5.1979 9.82939 5.2 10.2V12.6C5.1979 12.9707 5.04973 13.3256 4.78763 13.5877C4.52553 13.8498 4.17066 13.9979 3.8 14H1.4C1.02934 13.9979 0.674468 13.8498 0.412371 13.5877C0.150274 13.3256 0.00210008 12.9707 0 12.6V10.2C0.00210008 9.82939 0.150274 9.47452 0.412371 9.21242C0.674468 8.95032 1.02934 8.80215 1.4 8.80005ZM3.94142 12.7415C3.97893 12.704 4 12.6531 4 12.6V10.2C4 10.147 3.97893 10.0961 3.94142 10.0586C3.90391 10.0211 3.85304 10 3.8 10H1.4C1.34696 10 1.29609 10.0211 1.25858 10.0586C1.22107 10.0961 1.2 10.147 1.2 10.2V12.6C1.2 12.6531 1.22107 12.704 1.25858 12.7415C1.29609 12.779 1.34696 12.8 1.4 12.8H3.8C3.85304 12.8 3.90391 12.779 3.94142 12.7415Z",fill:"currentColor"},null,-1)]),16)}Li.render=Qu;var Ni={name:"SpinnerIcon",extends:Ln};function Ju(o,e,t,n,r,i){return S(),R("svg",W({width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.pti()),e[0]||(e[0]=[N("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"},null,-1)]),16)}Ni.render=Ju;var ec=Uo`
    .p-badge {
        display: inline-flex;
        border-radius: dt('badge.border.radius');
        align-items: center;
        justify-content: center;
        padding: dt('badge.padding');
        background: dt('badge.primary.background');
        color: dt('badge.primary.color');
        font-size: dt('badge.font.size');
        font-weight: dt('badge.font.weight');
        min-width: dt('badge.min.width');
        height: dt('badge.height');
    }

    .p-badge-dot {
        width: dt('badge.dot.size');
        min-width: dt('badge.dot.size');
        height: dt('badge.dot.size');
        border-radius: 50%;
        padding: 0;
    }

    .p-badge-circle {
        padding: 0;
        border-radius: 50%;
    }

    .p-badge-secondary {
        background: dt('badge.secondary.background');
        color: dt('badge.secondary.color');
    }

    .p-badge-success {
        background: dt('badge.success.background');
        color: dt('badge.success.color');
    }

    .p-badge-info {
        background: dt('badge.info.background');
        color: dt('badge.info.color');
    }

    .p-badge-warn {
        background: dt('badge.warn.background');
        color: dt('badge.warn.color');
    }

    .p-badge-danger {
        background: dt('badge.danger.background');
        color: dt('badge.danger.color');
    }

    .p-badge-contrast {
        background: dt('badge.contrast.background');
        color: dt('badge.contrast.color');
    }

    .p-badge-sm {
        font-size: dt('badge.sm.font.size');
        min-width: dt('badge.sm.min.width');
        height: dt('badge.sm.height');
    }

    .p-badge-lg {
        font-size: dt('badge.lg.font.size');
        min-width: dt('badge.lg.min.width');
        height: dt('badge.lg.height');
    }

    .p-badge-xl {
        font-size: dt('badge.xl.font.size');
        min-width: dt('badge.xl.min.width');
        height: dt('badge.xl.height');
    }
`,tc={root:function(e){var t=e.props,n=e.instance;return["p-badge p-component",{"p-badge-circle":ii(t.value)&&String(t.value).length===1,"p-badge-dot":fi(t.value)&&!n.$slots.default,"p-badge-sm":t.size==="small","p-badge-lg":t.size==="large","p-badge-xl":t.size==="xlarge","p-badge-info":t.severity==="info","p-badge-success":t.severity==="success","p-badge-warn":t.severity==="warn","p-badge-danger":t.severity==="danger","p-badge-secondary":t.severity==="secondary","p-badge-contrast":t.severity==="contrast"}]}},oc=xo.extend({name:"badge",style:ec,classes:tc}),nc={name:"BaseBadge",extends:Ho,props:{value:{type:[String,Number],default:null},severity:{type:String,default:null},size:{type:String,default:null}},style:oc,provide:function(){return{$pcBadge:this,$parentInstance:this}}};function uo(o){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uo(o)}function Tr(o,e,t){return(e=rc(e))in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function rc(o){var e=ic(o,"string");return uo(e)=="symbol"?e:e+""}function ic(o,e){if(uo(o)!="object"||!o)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var n=t.call(o,e);if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}var Ri={name:"Badge",extends:nc,inheritAttrs:!1,computed:{dataP:function(){return Jt(Tr(Tr({circle:this.value!=null&&String(this.value).length===1,empty:this.value==null&&!this.$slots.default},this.severity,this.severity),this.size,this.size))}}},sc=["data-p"];function ac(o,e,t,n,r,i){return S(),R("span",W({class:o.cx("root"),"data-p":i.dataP},o.ptmi("root")),[U(o.$slots,"default",{},function(){return[Ke(re(o.value),1)]})],16,sc)}Ri.render=ac;var lc=Uo`
    .p-button {
        display: inline-flex;
        cursor: pointer;
        user-select: none;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
        color: dt('button.primary.color');
        background: dt('button.primary.background');
        border: 1px solid dt('button.primary.border.color');
        padding: dt('button.padding.y') dt('button.padding.x');
        font-size: 1rem;
        font-family: inherit;
        font-feature-settings: inherit;
        transition:
            background dt('button.transition.duration'),
            color dt('button.transition.duration'),
            border-color dt('button.transition.duration'),
            outline-color dt('button.transition.duration'),
            box-shadow dt('button.transition.duration');
        border-radius: dt('button.border.radius');
        outline-color: transparent;
        gap: dt('button.gap');
    }

    .p-button:disabled {
        cursor: default;
    }

    .p-button-icon-right {
        order: 1;
    }

    .p-button-icon-right:dir(rtl) {
        order: -1;
    }

    .p-button:not(.p-button-vertical) .p-button-icon:not(.p-button-icon-right):dir(rtl) {
        order: 1;
    }

    .p-button-icon-bottom {
        order: 2;
    }

    .p-button-icon-only {
        width: dt('button.icon.only.width');
        padding-inline-start: 0;
        padding-inline-end: 0;
        gap: 0;
    }

    .p-button-icon-only.p-button-rounded {
        border-radius: 50%;
        height: dt('button.icon.only.width');
    }

    .p-button-icon-only .p-button-label {
        visibility: hidden;
        width: 0;
    }

    .p-button-sm {
        font-size: dt('button.sm.font.size');
        padding: dt('button.sm.padding.y') dt('button.sm.padding.x');
    }

    .p-button-sm .p-button-icon {
        font-size: dt('button.sm.font.size');
    }

    .p-button-sm.p-button-icon-only {
        width: dt('button.sm.icon.only.width');
    }

    .p-button-sm.p-button-icon-only.p-button-rounded {
        height: dt('button.sm.icon.only.width');
    }

    .p-button-lg {
        font-size: dt('button.lg.font.size');
        padding: dt('button.lg.padding.y') dt('button.lg.padding.x');
    }

    .p-button-lg .p-button-icon {
        font-size: dt('button.lg.font.size');
    }

    .p-button-lg.p-button-icon-only {
        width: dt('button.lg.icon.only.width');
    }

    .p-button-lg.p-button-icon-only.p-button-rounded {
        height: dt('button.lg.icon.only.width');
    }

    .p-button-vertical {
        flex-direction: column;
    }

    .p-button-label {
        font-weight: dt('button.label.font.weight');
    }

    .p-button-fluid {
        width: 100%;
    }

    .p-button-fluid.p-button-icon-only {
        width: dt('button.icon.only.width');
    }

    .p-button:not(:disabled):hover {
        background: dt('button.primary.hover.background');
        border: 1px solid dt('button.primary.hover.border.color');
        color: dt('button.primary.hover.color');
    }

    .p-button:not(:disabled):active {
        background: dt('button.primary.active.background');
        border: 1px solid dt('button.primary.active.border.color');
        color: dt('button.primary.active.color');
    }

    .p-button:focus-visible {
        box-shadow: dt('button.primary.focus.ring.shadow');
        outline: dt('button.focus.ring.width') dt('button.focus.ring.style') dt('button.primary.focus.ring.color');
        outline-offset: dt('button.focus.ring.offset');
    }

    .p-button .p-badge {
        min-width: dt('button.badge.size');
        height: dt('button.badge.size');
        line-height: dt('button.badge.size');
    }

    .p-button-raised {
        box-shadow: dt('button.raised.shadow');
    }

    .p-button-rounded {
        border-radius: dt('button.rounded.border.radius');
    }

    .p-button-secondary {
        background: dt('button.secondary.background');
        border: 1px solid dt('button.secondary.border.color');
        color: dt('button.secondary.color');
    }

    .p-button-secondary:not(:disabled):hover {
        background: dt('button.secondary.hover.background');
        border: 1px solid dt('button.secondary.hover.border.color');
        color: dt('button.secondary.hover.color');
    }

    .p-button-secondary:not(:disabled):active {
        background: dt('button.secondary.active.background');
        border: 1px solid dt('button.secondary.active.border.color');
        color: dt('button.secondary.active.color');
    }

    .p-button-secondary:focus-visible {
        outline-color: dt('button.secondary.focus.ring.color');
        box-shadow: dt('button.secondary.focus.ring.shadow');
    }

    .p-button-success {
        background: dt('button.success.background');
        border: 1px solid dt('button.success.border.color');
        color: dt('button.success.color');
    }

    .p-button-success:not(:disabled):hover {
        background: dt('button.success.hover.background');
        border: 1px solid dt('button.success.hover.border.color');
        color: dt('button.success.hover.color');
    }

    .p-button-success:not(:disabled):active {
        background: dt('button.success.active.background');
        border: 1px solid dt('button.success.active.border.color');
        color: dt('button.success.active.color');
    }

    .p-button-success:focus-visible {
        outline-color: dt('button.success.focus.ring.color');
        box-shadow: dt('button.success.focus.ring.shadow');
    }

    .p-button-info {
        background: dt('button.info.background');
        border: 1px solid dt('button.info.border.color');
        color: dt('button.info.color');
    }

    .p-button-info:not(:disabled):hover {
        background: dt('button.info.hover.background');
        border: 1px solid dt('button.info.hover.border.color');
        color: dt('button.info.hover.color');
    }

    .p-button-info:not(:disabled):active {
        background: dt('button.info.active.background');
        border: 1px solid dt('button.info.active.border.color');
        color: dt('button.info.active.color');
    }

    .p-button-info:focus-visible {
        outline-color: dt('button.info.focus.ring.color');
        box-shadow: dt('button.info.focus.ring.shadow');
    }

    .p-button-warn {
        background: dt('button.warn.background');
        border: 1px solid dt('button.warn.border.color');
        color: dt('button.warn.color');
    }

    .p-button-warn:not(:disabled):hover {
        background: dt('button.warn.hover.background');
        border: 1px solid dt('button.warn.hover.border.color');
        color: dt('button.warn.hover.color');
    }

    .p-button-warn:not(:disabled):active {
        background: dt('button.warn.active.background');
        border: 1px solid dt('button.warn.active.border.color');
        color: dt('button.warn.active.color');
    }

    .p-button-warn:focus-visible {
        outline-color: dt('button.warn.focus.ring.color');
        box-shadow: dt('button.warn.focus.ring.shadow');
    }

    .p-button-help {
        background: dt('button.help.background');
        border: 1px solid dt('button.help.border.color');
        color: dt('button.help.color');
    }

    .p-button-help:not(:disabled):hover {
        background: dt('button.help.hover.background');
        border: 1px solid dt('button.help.hover.border.color');
        color: dt('button.help.hover.color');
    }

    .p-button-help:not(:disabled):active {
        background: dt('button.help.active.background');
        border: 1px solid dt('button.help.active.border.color');
        color: dt('button.help.active.color');
    }

    .p-button-help:focus-visible {
        outline-color: dt('button.help.focus.ring.color');
        box-shadow: dt('button.help.focus.ring.shadow');
    }

    .p-button-danger {
        background: dt('button.danger.background');
        border: 1px solid dt('button.danger.border.color');
        color: dt('button.danger.color');
    }

    .p-button-danger:not(:disabled):hover {
        background: dt('button.danger.hover.background');
        border: 1px solid dt('button.danger.hover.border.color');
        color: dt('button.danger.hover.color');
    }

    .p-button-danger:not(:disabled):active {
        background: dt('button.danger.active.background');
        border: 1px solid dt('button.danger.active.border.color');
        color: dt('button.danger.active.color');
    }

    .p-button-danger:focus-visible {
        outline-color: dt('button.danger.focus.ring.color');
        box-shadow: dt('button.danger.focus.ring.shadow');
    }

    .p-button-contrast {
        background: dt('button.contrast.background');
        border: 1px solid dt('button.contrast.border.color');
        color: dt('button.contrast.color');
    }

    .p-button-contrast:not(:disabled):hover {
        background: dt('button.contrast.hover.background');
        border: 1px solid dt('button.contrast.hover.border.color');
        color: dt('button.contrast.hover.color');
    }

    .p-button-contrast:not(:disabled):active {
        background: dt('button.contrast.active.background');
        border: 1px solid dt('button.contrast.active.border.color');
        color: dt('button.contrast.active.color');
    }

    .p-button-contrast:focus-visible {
        outline-color: dt('button.contrast.focus.ring.color');
        box-shadow: dt('button.contrast.focus.ring.shadow');
    }

    .p-button-outlined {
        background: transparent;
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):hover {
        background: dt('button.outlined.primary.hover.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined:not(:disabled):active {
        background: dt('button.outlined.primary.active.background');
        border-color: dt('button.outlined.primary.border.color');
        color: dt('button.outlined.primary.color');
    }

    .p-button-outlined.p-button-secondary {
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):hover {
        background: dt('button.outlined.secondary.hover.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-secondary:not(:disabled):active {
        background: dt('button.outlined.secondary.active.background');
        border-color: dt('button.outlined.secondary.border.color');
        color: dt('button.outlined.secondary.color');
    }

    .p-button-outlined.p-button-success {
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):hover {
        background: dt('button.outlined.success.hover.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-success:not(:disabled):active {
        background: dt('button.outlined.success.active.background');
        border-color: dt('button.outlined.success.border.color');
        color: dt('button.outlined.success.color');
    }

    .p-button-outlined.p-button-info {
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):hover {
        background: dt('button.outlined.info.hover.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-info:not(:disabled):active {
        background: dt('button.outlined.info.active.background');
        border-color: dt('button.outlined.info.border.color');
        color: dt('button.outlined.info.color');
    }

    .p-button-outlined.p-button-warn {
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):hover {
        background: dt('button.outlined.warn.hover.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-warn:not(:disabled):active {
        background: dt('button.outlined.warn.active.background');
        border-color: dt('button.outlined.warn.border.color');
        color: dt('button.outlined.warn.color');
    }

    .p-button-outlined.p-button-help {
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):hover {
        background: dt('button.outlined.help.hover.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-help:not(:disabled):active {
        background: dt('button.outlined.help.active.background');
        border-color: dt('button.outlined.help.border.color');
        color: dt('button.outlined.help.color');
    }

    .p-button-outlined.p-button-danger {
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):hover {
        background: dt('button.outlined.danger.hover.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-danger:not(:disabled):active {
        background: dt('button.outlined.danger.active.background');
        border-color: dt('button.outlined.danger.border.color');
        color: dt('button.outlined.danger.color');
    }

    .p-button-outlined.p-button-contrast {
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):hover {
        background: dt('button.outlined.contrast.hover.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-contrast:not(:disabled):active {
        background: dt('button.outlined.contrast.active.background');
        border-color: dt('button.outlined.contrast.border.color');
        color: dt('button.outlined.contrast.color');
    }

    .p-button-outlined.p-button-plain {
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):hover {
        background: dt('button.outlined.plain.hover.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-outlined.p-button-plain:not(:disabled):active {
        background: dt('button.outlined.plain.active.background');
        border-color: dt('button.outlined.plain.border.color');
        color: dt('button.outlined.plain.color');
    }

    .p-button-text {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):hover {
        background: dt('button.text.primary.hover.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text:not(:disabled):active {
        background: dt('button.text.primary.active.background');
        border-color: transparent;
        color: dt('button.text.primary.color');
    }

    .p-button-text.p-button-secondary {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):hover {
        background: dt('button.text.secondary.hover.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-secondary:not(:disabled):active {
        background: dt('button.text.secondary.active.background');
        border-color: transparent;
        color: dt('button.text.secondary.color');
    }

    .p-button-text.p-button-success {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):hover {
        background: dt('button.text.success.hover.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-success:not(:disabled):active {
        background: dt('button.text.success.active.background');
        border-color: transparent;
        color: dt('button.text.success.color');
    }

    .p-button-text.p-button-info {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):hover {
        background: dt('button.text.info.hover.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-info:not(:disabled):active {
        background: dt('button.text.info.active.background');
        border-color: transparent;
        color: dt('button.text.info.color');
    }

    .p-button-text.p-button-warn {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):hover {
        background: dt('button.text.warn.hover.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-warn:not(:disabled):active {
        background: dt('button.text.warn.active.background');
        border-color: transparent;
        color: dt('button.text.warn.color');
    }

    .p-button-text.p-button-help {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):hover {
        background: dt('button.text.help.hover.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-help:not(:disabled):active {
        background: dt('button.text.help.active.background');
        border-color: transparent;
        color: dt('button.text.help.color');
    }

    .p-button-text.p-button-danger {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):hover {
        background: dt('button.text.danger.hover.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-danger:not(:disabled):active {
        background: dt('button.text.danger.active.background');
        border-color: transparent;
        color: dt('button.text.danger.color');
    }

    .p-button-text.p-button-contrast {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):hover {
        background: dt('button.text.contrast.hover.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-contrast:not(:disabled):active {
        background: dt('button.text.contrast.active.background');
        border-color: transparent;
        color: dt('button.text.contrast.color');
    }

    .p-button-text.p-button-plain {
        background: transparent;
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):hover {
        background: dt('button.text.plain.hover.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-text.p-button-plain:not(:disabled):active {
        background: dt('button.text.plain.active.background');
        border-color: transparent;
        color: dt('button.text.plain.color');
    }

    .p-button-link {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.color');
    }

    .p-button-link:not(:disabled):hover {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.hover.color');
    }

    .p-button-link:not(:disabled):hover .p-button-label {
        text-decoration: underline;
    }

    .p-button-link:not(:disabled):active {
        background: transparent;
        border-color: transparent;
        color: dt('button.link.active.color');
    }
`;function co(o){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},co(o)}function Ue(o,e,t){return(e=uc(e))in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function uc(o){var e=cc(o,"string");return co(e)=="symbol"?e:e+""}function cc(o,e){if(co(o)!="object"||!o)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var n=t.call(o,e);if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}var dc={root:function(e){var t=e.instance,n=e.props;return["p-button p-component",Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue(Ue({"p-button-icon-only":t.hasIcon&&!n.label&&!n.badge,"p-button-vertical":(n.iconPos==="top"||n.iconPos==="bottom")&&n.label,"p-button-loading":n.loading,"p-button-link":n.link||n.variant==="link"},"p-button-".concat(n.severity),n.severity),"p-button-raised",n.raised),"p-button-rounded",n.rounded),"p-button-text",n.text||n.variant==="text"),"p-button-outlined",n.outlined||n.variant==="outlined"),"p-button-sm",n.size==="small"),"p-button-lg",n.size==="large"),"p-button-plain",n.plain),"p-button-fluid",t.hasFluid)]},loadingIcon:"p-button-loading-icon",icon:function(e){var t=e.props;return["p-button-icon",Ue({},"p-button-icon-".concat(t.iconPos),t.label)]},label:"p-button-label"},fc=xo.extend({name:"button",style:lc,classes:dc}),pc={name:"BaseButton",extends:Ho,props:{label:{type:String,default:null},icon:{type:String,default:null},iconPos:{type:String,default:"left"},iconClass:{type:[String,Object],default:null},badge:{type:String,default:null},badgeClass:{type:[String,Object],default:null},badgeSeverity:{type:String,default:"secondary"},loading:{type:Boolean,default:!1},loadingIcon:{type:String,default:void 0},as:{type:[String,Object],default:"BUTTON"},asChild:{type:Boolean,default:!1},link:{type:Boolean,default:!1},severity:{type:String,default:null},raised:{type:Boolean,default:!1},rounded:{type:Boolean,default:!1},text:{type:Boolean,default:!1},outlined:{type:Boolean,default:!1},size:{type:String,default:null},variant:{type:String,default:null},plain:{type:Boolean,default:!1},fluid:{type:Boolean,default:null}},style:fc,provide:function(){return{$pcButton:this,$parentInstance:this}}};function fo(o){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fo(o)}function ge(o,e,t){return(e=hc(e))in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function hc(o){var e=bc(o,"string");return fo(e)=="symbol"?e:e+""}function bc(o,e){if(fo(o)!="object"||!o)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var n=t.call(o,e);if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}var zi={name:"Button",extends:pc,inheritAttrs:!1,inject:{$pcFluid:{default:null}},methods:{getPTOptions:function(e){var t=e==="root"?this.ptmi:this.ptm;return t(e,{context:{disabled:this.disabled}})}},computed:{disabled:function(){return this.$attrs.disabled||this.$attrs.disabled===""||this.loading},defaultAriaLabel:function(){return this.label?this.label+(this.badge?" "+this.badge:""):this.$attrs.ariaLabel},hasIcon:function(){return this.icon||this.$slots.icon},attrs:function(){return W(this.asAttrs,this.a11yAttrs,this.getPTOptions("root"))},asAttrs:function(){return this.as==="BUTTON"?{type:"button",disabled:this.disabled}:void 0},a11yAttrs:function(){return{"aria-label":this.defaultAriaLabel,"data-pc-name":"button","data-p-disabled":this.disabled,"data-p-severity":this.severity}},hasFluid:function(){return fi(this.fluid)?!!this.$pcFluid:this.fluid},dataP:function(){return Jt(ge(ge(ge(ge(ge(ge(ge(ge(ge(ge({},this.size,this.size),"icon-only",this.hasIcon&&!this.label&&!this.badge),"loading",this.loading),"fluid",this.hasFluid),"rounded",this.rounded),"raised",this.raised),"outlined",this.outlined||this.variant==="outlined"),"text",this.text||this.variant==="text"),"link",this.link||this.variant==="link"),"vertical",(this.iconPos==="top"||this.iconPos==="bottom")&&this.label))},dataIconP:function(){return Jt(ge(ge({},this.iconPos,this.iconPos),this.size,this.size))},dataLabelP:function(){return Jt(ge(ge({},this.size,this.size),"icon-only",this.hasIcon&&!this.label&&!this.badge))}},components:{SpinnerIcon:Ni,Badge:Ri},directives:{ripple:Mn}},mc=["data-p"],gc=["data-p"];function vc(o,e,t,n,r,i){var s=io("SpinnerIcon"),a=io("Badge"),l=Bn("ripple");return o.asChild?U(o.$slots,"default",{key:1,class:Z(o.cx("root")),a11yAttrs:i.a11yAttrs}):Go((S(),$(dn(o.as),W({key:0,class:o.cx("root"),"data-p":i.dataP},i.attrs),{default:I(function(){return[U(o.$slots,"default",{},function(){return[o.loading?U(o.$slots,"loadingicon",W({key:0,class:[o.cx("loadingIcon"),o.cx("icon")]},o.ptm("loadingIcon")),function(){return[o.loadingIcon?(S(),R("span",W({key:0,class:[o.cx("loadingIcon"),o.cx("icon"),o.loadingIcon]},o.ptm("loadingIcon")),null,16)):(S(),$(s,W({key:1,class:[o.cx("loadingIcon"),o.cx("icon")],spin:""},o.ptm("loadingIcon")),null,16,["class"]))]}):U(o.$slots,"icon",W({key:1,class:[o.cx("icon")]},o.ptm("icon")),function(){return[o.icon?(S(),R("span",W({key:0,class:[o.cx("icon"),o.icon,o.iconClass],"data-p":i.dataIconP},o.ptm("icon")),null,16,mc)):se("",!0)]}),N("span",W({class:o.cx("label")},o.ptm("label"),{"data-p":i.dataLabelP}),re(o.label||" "),17,gc),o.badge?(S(),$(a,{key:2,value:o.badge,class:Z(o.badgeClass),severity:o.badgeSeverity,unstyled:o.unstyled,pt:o.ptm("pcBadge")},null,8,["value","class","severity","unstyled","pt"])):se("",!0)]})]}),_:3},16,["class","data-p"])),[[l]])}zi.render=vc;function kr(){Oa({variableName:In("scrollbar.width").name})}function Sr(){Da({variableName:In("scrollbar.width").name})}var _c=Uo`
    .p-dialog {
        max-height: 90%;
        transform: scale(1);
        border-radius: dt('dialog.border.radius');
        box-shadow: dt('dialog.shadow');
        background: dt('dialog.background');
        border: 1px solid dt('dialog.border.color');
        color: dt('dialog.color');
    }

    .p-dialog-content {
        overflow-y: auto;
        padding: dt('dialog.content.padding');
    }

    .p-dialog-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        flex-shrink: 0;
        padding: dt('dialog.header.padding');
    }

    .p-dialog-title {
        font-weight: dt('dialog.title.font.weight');
        font-size: dt('dialog.title.font.size');
    }

    .p-dialog-footer {
        flex-shrink: 0;
        padding: dt('dialog.footer.padding');
        display: flex;
        justify-content: flex-end;
        gap: dt('dialog.footer.gap');
    }

    .p-dialog-header-actions {
        display: flex;
        align-items: center;
        gap: dt('dialog.header.gap');
    }

    .p-dialog-enter-active {
        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);
    }

    .p-dialog-leave-active {
        transition: all 150ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    .p-dialog-enter-from,
    .p-dialog-leave-to {
        opacity: 0;
        transform: scale(0.7);
    }

    .p-dialog-top .p-dialog,
    .p-dialog-bottom .p-dialog,
    .p-dialog-left .p-dialog,
    .p-dialog-right .p-dialog,
    .p-dialog-topleft .p-dialog,
    .p-dialog-topright .p-dialog,
    .p-dialog-bottomleft .p-dialog,
    .p-dialog-bottomright .p-dialog {
        margin: 0.75rem;
        transform: translate3d(0px, 0px, 0px);
    }

    .p-dialog-top .p-dialog-enter-active,
    .p-dialog-top .p-dialog-leave-active,
    .p-dialog-bottom .p-dialog-enter-active,
    .p-dialog-bottom .p-dialog-leave-active,
    .p-dialog-left .p-dialog-enter-active,
    .p-dialog-left .p-dialog-leave-active,
    .p-dialog-right .p-dialog-enter-active,
    .p-dialog-right .p-dialog-leave-active,
    .p-dialog-topleft .p-dialog-enter-active,
    .p-dialog-topleft .p-dialog-leave-active,
    .p-dialog-topright .p-dialog-enter-active,
    .p-dialog-topright .p-dialog-leave-active,
    .p-dialog-bottomleft .p-dialog-enter-active,
    .p-dialog-bottomleft .p-dialog-leave-active,
    .p-dialog-bottomright .p-dialog-enter-active,
    .p-dialog-bottomright .p-dialog-leave-active {
        transition: all 0.3s ease-out;
    }

    .p-dialog-top .p-dialog-enter-from,
    .p-dialog-top .p-dialog-leave-to {
        transform: translate3d(0px, -100%, 0px);
    }

    .p-dialog-bottom .p-dialog-enter-from,
    .p-dialog-bottom .p-dialog-leave-to {
        transform: translate3d(0px, 100%, 0px);
    }

    .p-dialog-left .p-dialog-enter-from,
    .p-dialog-left .p-dialog-leave-to,
    .p-dialog-topleft .p-dialog-enter-from,
    .p-dialog-topleft .p-dialog-leave-to,
    .p-dialog-bottomleft .p-dialog-enter-from,
    .p-dialog-bottomleft .p-dialog-leave-to {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-right .p-dialog-enter-from,
    .p-dialog-right .p-dialog-leave-to,
    .p-dialog-topright .p-dialog-enter-from,
    .p-dialog-topright .p-dialog-leave-to,
    .p-dialog-bottomright .p-dialog-enter-from,
    .p-dialog-bottomright .p-dialog-leave-to {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-left:dir(rtl) .p-dialog-enter-from,
    .p-dialog-left:dir(rtl) .p-dialog-leave-to,
    .p-dialog-topleft:dir(rtl) .p-dialog-enter-from,
    .p-dialog-topleft:dir(rtl) .p-dialog-leave-to,
    .p-dialog-bottomleft:dir(rtl) .p-dialog-enter-from,
    .p-dialog-bottomleft:dir(rtl) .p-dialog-leave-to {
        transform: translate3d(100%, 0px, 0px);
    }

    .p-dialog-right:dir(rtl) .p-dialog-enter-from,
    .p-dialog-right:dir(rtl) .p-dialog-leave-to,
    .p-dialog-topright:dir(rtl) .p-dialog-enter-from,
    .p-dialog-topright:dir(rtl) .p-dialog-leave-to,
    .p-dialog-bottomright:dir(rtl) .p-dialog-enter-from,
    .p-dialog-bottomright:dir(rtl) .p-dialog-leave-to {
        transform: translate3d(-100%, 0px, 0px);
    }

    .p-dialog-maximized {
        width: 100vw !important;
        height: 100vh !important;
        top: 0px !important;
        left: 0px !important;
        max-height: 100%;
        height: 100%;
        border-radius: 0;
    }

    .p-dialog-maximized .p-dialog-content {
        flex-grow: 1;
    }
`,yc={mask:function(e){var t=e.position,n=e.modal;return{position:"fixed",height:"100%",width:"100%",left:0,top:0,display:"flex",justifyContent:t==="left"||t==="topleft"||t==="bottomleft"?"flex-start":t==="right"||t==="topright"||t==="bottomright"?"flex-end":"center",alignItems:t==="top"||t==="topleft"||t==="topright"?"flex-start":t==="bottom"||t==="bottomleft"||t==="bottomright"?"flex-end":"center",pointerEvents:n?"auto":"none"}},root:{display:"flex",flexDirection:"column",pointerEvents:"auto"}},xc={mask:function(e){var t=e.props,n=["left","right","top","topleft","topright","bottom","bottomleft","bottomright"],r=n.find(function(i){return i===t.position});return["p-dialog-mask",{"p-overlay-mask p-overlay-mask-enter":t.modal},r?"p-dialog-".concat(r):""]},root:function(e){var t=e.props,n=e.instance;return["p-dialog p-component",{"p-dialog-maximized":t.maximizable&&n.maximized}]},header:"p-dialog-header",title:"p-dialog-title",headerActions:"p-dialog-header-actions",pcMaximizeButton:"p-dialog-maximize-button",pcCloseButton:"p-dialog-close-button",content:"p-dialog-content",footer:"p-dialog-footer"},wc=xo.extend({name:"dialog",style:_c,classes:xc,inlineStyles:yc}),Cc={name:"BaseDialog",extends:Ho,props:{header:{type:null,default:null},footer:{type:null,default:null},visible:{type:Boolean,default:!1},modal:{type:Boolean,default:null},contentStyle:{type:null,default:null},contentClass:{type:String,default:null},contentProps:{type:null,default:null},maximizable:{type:Boolean,default:!1},dismissableMask:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},closeOnEscape:{type:Boolean,default:!0},showHeader:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!1},baseZIndex:{type:Number,default:0},autoZIndex:{type:Boolean,default:!0},position:{type:String,default:"center"},breakpoints:{type:Object,default:null},draggable:{type:Boolean,default:!0},keepInViewport:{type:Boolean,default:!0},minX:{type:Number,default:0},minY:{type:Number,default:0},appendTo:{type:[String,Object],default:"body"},closeIcon:{type:String,default:void 0},maximizeIcon:{type:String,default:void 0},minimizeIcon:{type:String,default:void 0},closeButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},maximizeButtonProps:{type:Object,default:function(){return{severity:"secondary",text:!0,rounded:!0}}},_instance:null},style:wc,provide:function(){return{$pcDialog:this,$parentInstance:this}}},Fi={name:"Dialog",extends:Cc,inheritAttrs:!1,emits:["update:visible","show","hide","after-hide","maximize","unmaximize","dragstart","dragend"],provide:function(){var e=this;return{dialogRef:D(function(){return e._instance})}},data:function(){return{containerVisible:this.visible,maximized:!1,focusableMax:null,focusableClose:null,target:null}},documentKeydownListener:null,container:null,mask:null,content:null,headerContainer:null,footerContainer:null,maximizableButton:null,closeButton:null,styleElement:null,dragging:null,documentDragListener:null,documentDragEndListener:null,lastPageX:null,lastPageY:null,maskMouseDownTarget:null,updated:function(){this.visible&&(this.containerVisible=this.visible)},beforeUnmount:function(){this.unbindDocumentState(),this.unbindGlobalListeners(),this.destroyStyle(),this.mask&&this.autoZIndex&&Dt.clear(this.mask),this.container=null,this.mask=null},mounted:function(){this.breakpoints&&this.createStyle()},methods:{close:function(){this.$emit("update:visible",!1)},onEnter:function(){this.$emit("show"),this.target=document.activeElement,this.enableDocumentSettings(),this.bindGlobalListeners(),this.autoZIndex&&Dt.set("modal",this.mask,this.baseZIndex+this.$primevue.config.zIndex.modal)},onAfterEnter:function(){this.focus()},onBeforeLeave:function(){this.modal&&!this.isUnstyled&&li(this.mask,"p-overlay-mask-leave"),this.dragging&&this.documentDragEndListener&&this.documentDragEndListener()},onLeave:function(){this.$emit("hide"),mt(this.target),this.target=null,this.focusableClose=null,this.focusableMax=null},onAfterLeave:function(){this.autoZIndex&&Dt.clear(this.mask),this.containerVisible=!1,this.unbindDocumentState(),this.unbindGlobalListeners(),this.$emit("after-hide")},onMaskMouseDown:function(e){this.maskMouseDownTarget=e.target},onMaskMouseUp:function(){this.dismissableMask&&this.modal&&this.mask===this.maskMouseDownTarget&&this.close()},focus:function(){var e=function(r){return r&&r.querySelector("[autofocus]")},t=this.$slots.footer&&e(this.footerContainer);t||(t=this.$slots.header&&e(this.headerContainer),t||(t=this.$slots.default&&e(this.content),t||(this.maximizable?(this.focusableMax=!0,t=this.maximizableButton):(this.focusableClose=!0,t=this.closeButton)))),t&&mt(t,{focusVisible:!0})},maximize:function(e){this.maximized?(this.maximized=!1,this.$emit("unmaximize",e)):(this.maximized=!0,this.$emit("maximize",e)),this.modal||(this.maximized?kr():Sr())},enableDocumentSettings:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&kr()},unbindDocumentState:function(){(this.modal||!this.modal&&this.blockScroll||this.maximizable&&this.maximized)&&Sr()},onKeyDown:function(e){e.code==="Escape"&&this.closeOnEscape&&this.close()},bindDocumentKeyDownListener:function(){this.documentKeydownListener||(this.documentKeydownListener=this.onKeyDown.bind(this),window.document.addEventListener("keydown",this.documentKeydownListener))},unbindDocumentKeyDownListener:function(){this.documentKeydownListener&&(window.document.removeEventListener("keydown",this.documentKeydownListener),this.documentKeydownListener=null)},containerRef:function(e){this.container=e},maskRef:function(e){this.mask=e},contentRef:function(e){this.content=e},headerContainerRef:function(e){this.headerContainer=e},footerContainerRef:function(e){this.footerContainer=e},maximizableRef:function(e){this.maximizableButton=e?e.$el:void 0},closeButtonRef:function(e){this.closeButton=e?e.$el:void 0},createStyle:function(){if(!this.styleElement&&!this.isUnstyled){var e;this.styleElement=document.createElement("style"),this.styleElement.type="text/css",ai(this.styleElement,"nonce",(e=this.$primevue)===null||e===void 0||(e=e.config)===null||e===void 0||(e=e.csp)===null||e===void 0?void 0:e.nonce),document.head.appendChild(this.styleElement);var t="";for(var n in this.breakpoints)t+=`
                        @media screen and (max-width: `.concat(n,`) {
                            .p-dialog[`).concat(this.$attrSelector,`] {
                                width: `).concat(this.breakpoints[n],` !important;
                            }
                        }
                    `);this.styleElement.innerHTML=t}},destroyStyle:function(){this.styleElement&&(document.head.removeChild(this.styleElement),this.styleElement=null)},initDrag:function(e){e.target.closest("div").getAttribute("data-pc-section")!=="headeractions"&&this.draggable&&(this.dragging=!0,this.lastPageX=e.pageX,this.lastPageY=e.pageY,this.container.style.margin="0",document.body.setAttribute("data-p-unselectable-text","true"),!this.isUnstyled&&ui(document.body,{"user-select":"none"}),this.$emit("dragstart",e))},bindGlobalListeners:function(){this.draggable&&(this.bindDocumentDragListener(),this.bindDocumentDragEndListener()),this.closeOnEscape&&this.closable&&this.bindDocumentKeyDownListener()},unbindGlobalListeners:function(){this.unbindDocumentDragListener(),this.unbindDocumentDragEndListener(),this.unbindDocumentKeyDownListener()},bindDocumentDragListener:function(){var e=this;this.documentDragListener=function(t){if(e.dragging){var n=Ma(e.container),r=Ia(e.container),i=t.pageX-e.lastPageX,s=t.pageY-e.lastPageY,a=e.container.getBoundingClientRect(),l=a.left+i,u=a.top+s,c=Ba(),f=getComputedStyle(e.container),d=parseFloat(f.marginLeft),b=parseFloat(f.marginTop);e.container.style.position="fixed",e.keepInViewport?(l>=e.minX&&l+n<c.width&&(e.lastPageX=t.pageX,e.container.style.left=l-d+"px"),u>=e.minY&&u+r<c.height&&(e.lastPageY=t.pageY,e.container.style.top=u-b+"px")):(e.lastPageX=t.pageX,e.container.style.left=l-d+"px",e.lastPageY=t.pageY,e.container.style.top=u-b+"px")}},window.document.addEventListener("mousemove",this.documentDragListener)},unbindDocumentDragListener:function(){this.documentDragListener&&(window.document.removeEventListener("mousemove",this.documentDragListener),this.documentDragListener=null)},bindDocumentDragEndListener:function(){var e=this;this.documentDragEndListener=function(t){e.dragging&&(e.dragging=!1,document.body.removeAttribute("data-p-unselectable-text"),!e.isUnstyled&&(document.body.style["user-select"]=""),e.$emit("dragend",t))},window.document.addEventListener("mouseup",this.documentDragEndListener)},unbindDocumentDragEndListener:function(){this.documentDragEndListener&&(window.document.removeEventListener("mouseup",this.documentDragEndListener),this.documentDragEndListener=null)}},computed:{maximizeIconComponent:function(){return this.maximized?this.minimizeIcon?"span":"WindowMinimizeIcon":this.maximizeIcon?"span":"WindowMaximizeIcon"},ariaLabelledById:function(){return this.header!=null||this.$attrs["aria-labelledby"]!==null?this.$id+"_header":null},closeAriaLabel:function(){return this.$primevue.config.locale.aria?this.$primevue.config.locale.aria.close:void 0},dataP:function(){return Jt({maximized:this.maximized,modal:this.modal})}},directives:{ripple:Mn,focustrap:Pi},components:{Button:zi,Portal:si,WindowMinimizeIcon:Li,WindowMaximizeIcon:Bi,TimesIcon:Pa}};function po(o){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(o)}function Er(o,e){var t=Object.keys(o);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(o);e&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(o,r).enumerable})),t.push.apply(t,n)}return t}function Ar(o){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Er(Object(t),!0).forEach(function(n){Tc(o,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(t)):Er(Object(t)).forEach(function(n){Object.defineProperty(o,n,Object.getOwnPropertyDescriptor(t,n))})}return o}function Tc(o,e,t){return(e=kc(e))in o?Object.defineProperty(o,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[e]=t,o}function kc(o){var e=Sc(o,"string");return po(e)=="symbol"?e:e+""}function Sc(o,e){if(po(o)!="object"||!o)return o;var t=o[Symbol.toPrimitive];if(t!==void 0){var n=t.call(o,e);if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(o)}var Ec=["data-p"],Ac=["aria-labelledby","aria-modal","data-p"],Dc=["id"],Oc=["data-p"];function Pc(o,e,t,n,r,i){var s=io("Button"),a=io("Portal"),l=Bn("focustrap");return S(),$(a,{appendTo:o.appendTo},{default:I(function(){return[r.containerVisible?(S(),R("div",W({key:0,ref:i.maskRef,class:o.cx("mask"),style:o.sx("mask",!0,{position:o.position,modal:o.modal}),onMousedown:e[1]||(e[1]=function(){return i.onMaskMouseDown&&i.onMaskMouseDown.apply(i,arguments)}),onMouseup:e[2]||(e[2]=function(){return i.onMaskMouseUp&&i.onMaskMouseUp.apply(i,arguments)}),"data-p":i.dataP},o.ptm("mask")),[P(ci,W({name:"p-dialog",onEnter:i.onEnter,onAfterEnter:i.onAfterEnter,onBeforeLeave:i.onBeforeLeave,onLeave:i.onLeave,onAfterLeave:i.onAfterLeave,appear:""},o.ptm("transition")),{default:I(function(){return[o.visible?Go((S(),R("div",W({key:0,ref:i.containerRef,class:o.cx("root"),style:o.sx("root"),role:"dialog","aria-labelledby":i.ariaLabelledById,"aria-modal":o.modal,"data-p":i.dataP},o.ptmi("root")),[o.$slots.container?U(o.$slots,"container",{key:0,closeCallback:i.close,maximizeCallback:function(c){return i.maximize(c)}}):(S(),R(De,{key:1},[o.showHeader?(S(),R("div",W({key:0,ref:i.headerContainerRef,class:o.cx("header"),onMousedown:e[0]||(e[0]=function(){return i.initDrag&&i.initDrag.apply(i,arguments)})},o.ptm("header")),[U(o.$slots,"header",{class:Z(o.cx("title"))},function(){return[o.header?(S(),R("span",W({key:0,id:i.ariaLabelledById,class:o.cx("title")},o.ptm("title")),re(o.header),17,Dc)):se("",!0)]}),N("div",W({class:o.cx("headerActions")},o.ptm("headerActions")),[o.maximizable?U(o.$slots,"maximizebutton",{key:0,maximized:r.maximized,maximizeCallback:function(c){return i.maximize(c)}},function(){return[P(s,W({ref:i.maximizableRef,autofocus:r.focusableMax,class:o.cx("pcMaximizeButton"),onClick:i.maximize,tabindex:o.maximizable?"0":"-1",unstyled:o.unstyled},o.maximizeButtonProps,{pt:o.ptm("pcMaximizeButton"),"data-pc-group-section":"headericon"}),{icon:I(function(u){return[U(o.$slots,"maximizeicon",{maximized:r.maximized},function(){return[(S(),$(dn(i.maximizeIconComponent),W({class:[u.class,r.maximized?o.minimizeIcon:o.maximizeIcon]},o.ptm("pcMaximizeButton").icon),null,16,["class"]))]})]}),_:3},16,["autofocus","class","onClick","tabindex","unstyled","pt"])]}):se("",!0),o.closable?U(o.$slots,"closebutton",{key:1,closeCallback:i.close},function(){return[P(s,W({ref:i.closeButtonRef,autofocus:r.focusableClose,class:o.cx("pcCloseButton"),onClick:i.close,"aria-label":i.closeAriaLabel,unstyled:o.unstyled},o.closeButtonProps,{pt:o.ptm("pcCloseButton"),"data-pc-group-section":"headericon"}),{icon:I(function(u){return[U(o.$slots,"closeicon",{},function(){return[(S(),$(dn(o.closeIcon?"span":"TimesIcon"),W({class:[o.closeIcon,u.class]},o.ptm("pcCloseButton").icon),null,16,["class"]))]})]}),_:3},16,["autofocus","class","onClick","aria-label","unstyled","pt"])]}):se("",!0)],16)],16)):se("",!0),N("div",W({ref:i.contentRef,class:[o.cx("content"),o.contentClass],style:o.contentStyle,"data-p":i.dataP},Ar(Ar({},o.contentProps),o.ptm("content"))),[U(o.$slots,"default")],16,Oc),o.footer||o.$slots.footer?(S(),R("div",W({key:1,ref:i.footerContainerRef,class:o.cx("footer")},o.ptm("footer")),[U(o.$slots,"footer",{},function(){return[Ke(re(o.footer),1)]})],16)):se("",!0)],64))],16,Ac)),[[l,{disabled:!o.modal}]]):se("",!0)]}),_:3},16,["onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])],16,Ec)):se("",!0)]}),_:3},8,["appendTo"])}Fi.render=Pc;const Mc=H({__name:"GDialog",props:{secondary:{type:Boolean,default:!1},tertiary:{type:Boolean,default:!1},contrast:{type:Boolean,default:!1},header:{},footer:{},visible:{type:Boolean},modal:{type:Boolean},contentStyle:{},contentClass:{},contentProps:{},closable:{type:Boolean},dismissableMask:{type:Boolean},closeOnEscape:{type:Boolean},showHeader:{type:Boolean},blockScroll:{type:Boolean},baseZIndex:{},autoZIndex:{type:Boolean},position:{},maximizable:{type:Boolean},breakpoints:{},draggable:{type:Boolean},keepInViewport:{type:Boolean},minX:{},minY:{},appendTo:{},style:{},closeIcon:{},maximizeIcon:{},minimizeIcon:{},closeButtonProps:{},maximizeButtonProps:{},dt:{},pt:{},ptOptions:{},unstyled:{type:Boolean}},setup(o){const e=Ne(),t=o,n=La(),r=D(()=>({...n,...t})),i=D(()=>t.secondary?e.value.secondary:t.tertiary?e.value.tertiary:e.value.primary);return(s,a)=>(S(),$(z(Fi),W(r.value,{style:{backgroundColor:i.value,color:z(e).text,borderColor:z(e).text},"pt:root:class":"!border-0"}),{default:I(()=>[U(s.$slots,"header"),U(s.$slots,"default"),U(s.$slots,"footer")]),_:3},16,["style"]))}}),Ic={class:"font-bold text-lg text-md mb-1"},Hn=H({__name:"HelpSection",props:{title:{}},setup(o){return(e,t)=>(S(),R("div",null,[N("h2",Ic,re(e.title),1),N("div",null,[U(e.$slots,"default")])]))}}),Bc={class:"flex gap-2 text-sm"},Dr="https://github.com/Yonava/magic-graphs",Lc=H({__name:"HelpLinks",setup(o){const e=n=>window.open(n,"_blank"),t=`${Dr}/issues/new?template=Blank%20issue`;return(n,r)=>(S(),$(Hn,{title:"Links To Have Handy"},{default:I(()=>[N("div",Bc,[P(Ce,{onClick:r[0]||(r[0]=i=>e(t)),class:"flex gap-2",tertiary:""},{default:I(()=>[P(ve,{icon:"bug"}),r[2]||(r[2]=Ke(" I Found An Issue "))]),_:1,__:[2]}),P(Ce,{onClick:r[1]||(r[1]=i=>e(Dr)),class:"flex gap-2",tertiary:""},{default:I(()=>[P(ve,{icon:"github"}),r[3]||(r[3]=Ke(" Star Us On GitHub "))]),_:1,__:[3]})])]),_:1}))}}),Nc={class:Z(["border-[1px]","rounded-md","px-2","mx-[1px]","text-xs","capitalize"])},Rc={key:1},zc={key:2},Fc=H({__name:"HelpShortcutKey",props:{keyboardKey:{}},setup(o){const e=o,t={meta:"⌘"},n=Object.keys(t),r={arrowright:"arrow-right",arrowleft:"arrow-left"},i=Object.keys(r),s=D(()=>i.includes(e.keyboardKey)),a=D(()=>n.includes(e.keyboardKey));return(l,u)=>(S(),R("div",Nc,[s.value?(S(),$(ve,{key:0,icon:r[l.keyboardKey],class:"text-xs"},null,8,["icon"])):a.value?(S(),R("p",Rc,re(t[l.keyboardKey]),1)):(S(),R("p",zc,re(l.keyboardKey),1))]))}}),$c={class:"flex flex-col gap-1"},Uc={class:"flex"},Hc=H({__name:"HelpShortcuts",setup(o){const e=r=>r.split("+").map(i=>i.trim()).filter(i=>i!==""),{activeShortcuts:t}=je.value.shortcut,n=D(()=>Object.assign(t,Ot));return(r,i)=>(S(),$(Hn,{title:"Useful Shortcuts"},{default:I(()=>[N("div",$c,[(S(!0),R(De,null,Qe(n.value,(s,a)=>(S(),R("div",{key:a,class:"flex justify-between items-center"},[Ke(re(a)+" ",1),N("div",Uc,[(S(!0),R(De,null,Qe(e(s.binding),l=>(S(),R("div",{key:l},[P(Fc,{"keyboard-key":l},null,8,["keyboard-key"])]))),128))])]))),128))])]),_:1}))}}),Gc=H({__name:"HelpVideos",setup(o){return(e,t)=>(S(),$(Hn,{title:"Hungry For More? Watch Our Tutorials"},{default:I(()=>t[0]||(t[0]=[N("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/MvLXdpvDh90?si=y62b2TUkGWIZkDG8",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",referrerpolicy:"strict-origin-when-cross-origin",allowfullscreen:""},null,-1)])),_:1,__:[0]}))}}),Wc={class:"flex flex-col gap-4 h-[500px] overflow-auto"},Kc=H({__name:"HelpContent",setup(o){return(e,t)=>(S(),R("div",null,[t[0]||(t[0]=N("h1",{class:"text-2xl font-bold mb-3 mt-4"},"Here's Some Help 👇",-1)),N("div",Wc,[P(Hc),P(Lc),P(Gc)])]))}}),Yc=H({__name:"HelpMenu",setup(o){const e=O(!1),t=O();Pn(t,()=>{e.value=!1});const n=()=>{e.value=!e.value},r=Ci();return r.add(Ot.Help.binding,n),r.add("escape",()=>e.value=!1),window.addEventListener("keydown",r.handle),ro(()=>{window.removeEventListener("keydown",r.handle)}),(i,s)=>(S(),R(De,null,[P(Ce,{onClick:n,class:"h-12 w-12"},{default:I(()=>[P(ve,{icon:"help"})]),_:1}),P(Mc,{visible:e.value,"onUpdate:visible":s[0]||(s[0]=a=>e.value=a)},{default:I(()=>[N("div",{ref_key:"dialogContent",ref:t},[P(Kc)],512)]),_:1},8,["visible"])],64))}});function jc(){const o=O(0),e=O(0),t=O(0),n=O(0);let r,i,s=performance.now(),a=performance.now(),l=0,u=0;const c=33.3,f=()=>{const b=performance.now(),y=b-a;e.value=y,a=b,y>c&&u++,l++,r=requestAnimationFrame(f)},d=()=>{const b=performance.now(),y=b-s;o.value=Math.round(l*1e3/y),t.value=u,n.value=l>0?u/l:0,l=0,u=0,s=b};return Fo(()=>{a=performance.now(),s=performance.now(),r=requestAnimationFrame(f),i=setInterval(d,500)}),ro(()=>{cancelAnimationFrame(r),clearInterval(i)}),{fps:o,frameTime:e,slowFrameCount:t,slowFrameRatio:n}}const qc={class:"text-white text-end"},Vc=H({__name:"BenchmarkingMetrics",setup(o){const{fps:e,slowFrameCount:t,slowFrameRatio:n}=jc();return(r,i)=>(S(),R("div",qc,[N("div",null,"FPS: "+re(z(e)),1),N("div",null,"Slow Frame Count: "+re(z(t)),1),N("div",null,"Slow Frame Ratio: "+re(z(n).toFixed(2)),1)]))}}),Xc=H({__name:"ShareButton",setup(o){const e=Gt(),t=O(!1),n=O(!1),r=ri(),i=()=>{t.value=!1,n.value=!1},s=async()=>{if(!t.value)try{const l=gi(je.value),u=hl(l),c=Si.compressToEncodedURIComponent(u),f=Ei,b=`${`${location.host}${e.path}`}?${f}=${c}`;await navigator.clipboard.writeText(b),t.value=!0,r.add({summary:"Graph Share Link Copied to Clipboard!",life:3e3,severity:"success"})}catch(l){n.value=!0,r.add({summary:"Failed to copy share link to clipboard!",life:3e3,severity:"error"}),console.error(l)}finally{setTimeout(i,3e3)}},a=D(()=>t.value?"check":n.value?"alert":"share");return(l,u)=>(S(),$(Ce,{onClick:s,disabled:t.value||n.value,class:"h-12 w-12"},{default:I(()=>[P(ve,{class:"text-3xl",icon:a.value},null,8,["icon"])]),_:1},8,["disabled"]))}}),Zc={class:Z(["absolute","top-6","left-6"])},Qc={class:Z(["absolute","flex","flex-col","justify-center","items-center","gap-2","left-1/2","-translate-x-1/2","translate-y-6"])},Jc={class:Z(["absolute","top-6","right-6"])},ed={class:Z(["absolute","grid","place-items-center","left-6","max-w-96","-translate-y-1/2","top-1/2"])},td={class:"relative max-h-3/4 w-full grid place-items-center overflow-auto"},od={class:Z(["absolute","grid","place-items-center","right-6","max-w-96","-translate-y-1/2","top-1/2"])},nd={class:"relative max-h-3/4 w-full grid place-items-center overflow-auto"},rd={class:Z(["absolute","flex","gap-2","bottom-6","left-6"])},id={class:Z(["absolute","bottom-6","-translate-x-1/2","left-1/2"])},sd={class:Z(["absolute","flex","flex-col","gap-2","bottom-6","right-6"])},ad={class:Z(["flex","gap-2"])},Sh=H({__name:"GraphProduct",props:{graph:{},canvas:{},css:{}},emits:["simulation-started","simulation-stopped"],setup(o,{emit:e}){const t=o,n=O(!1),r=e,i=vl(t.graph),s=O(i[0]),a=O(!1),l=D(()=>s.value.runner),u=D(()=>l.value.simControls.isActive),c=async()=>{a.value=!0,r("simulation-started",s.value),await l.value.start()},f=async()=>{await l.value.stop(),a.value=!1,r("simulation-stopped"),n.value&&t.graph.annotation.activate(),n.value=!1},d=p=>{n.value=t.graph.annotation.isActive.value,t.graph.annotation.deactivate(),s.value=p,c()};Kl(t.graph);const b=O(!1),y=D(()=>b.value?"pointer-events-none":""),h=()=>b.value=!0,g=()=>b.value=!1;return Fo(()=>{t.graph.subscribe("onMouseDown",h),t.graph.subscribe("onMouseUp",g)}),ro(()=>{t.graph.unsubscribe("onMouseDown",h),t.graph.unsubscribe("onMouseUp",g)}),(p,C)=>(S(),R(De,null,[N("div",{class:Z([y.value])},[N("div",Zc,[P(zu)]),N("div",Qc,[a.value?U(p.$slots,"top-center-sim",{key:0}):U(p.$slots,"top-center",{key:1})]),N("div",Jc,[a.value?U(p.$slots,"top-right-sim",{key:0},()=>[P(Yu,{onClick:f})]):U(p.$slots,"top-right",{key:1},()=>[P(Ku,{onSimulationSelected:d,simulations:z(i)},null,8,["simulations"])])]),N("div",ed,[N("div",td,[a.value?U(p.$slots,"center-left-sim",{key:0}):U(p.$slots,"center-left",{key:1})])]),N("div",od,[N("div",nd,[a.value?U(p.$slots,"center-right-sim",{key:0}):U(p.$slots,"center-right",{key:1})])]),N("div",rd,[P(Yc),P(Xc),P(Xu,{camera:p.canvas.camera},null,8,["camera"])]),N("div",id,[a.value&&u.value?U(p.$slots,"bottom-center-sim",{key:0},()=>[P(ou,{controls:l.value.simControls},null,8,["controls"])]):U(p.$slots,"bottom-center",{key:1},()=>[Go(N("div",null,[P(bu)],512),[[Fa,p.graph.annotation.isActive.value]])])]),N("div",sd,[z(Na)?(S(),$(Vc,{key:0})):se("",!0),N("div",ad,[P(qu),P(ju)])])],2),P(cl,Ra(za({...t.canvas.ref,...t.css.value})),null,16)],64))}});function Xe(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function $i(o,e){o.prototype=Object.create(e.prototype),o.prototype.constructor=o,o.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Ae={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Nt={duration:.5,overwrite:!1,delay:0},Gn,ce,X,Ye=1e8,fe=1/Ye,hn=Math.PI*2,ld=hn/4,ud=0,Ui=Math.sqrt,cd=Math.cos,dd=Math.sin,le=function(e){return typeof e=="string"},te=function(e){return typeof e=="function"},Je=function(e){return typeof e=="number"},Wn=function(e){return typeof e>"u"},qe=function(e){return typeof e=="object"},_e=function(e){return e!==!1},Kn=function(){return typeof window<"u"},Ao=function(e){return te(e)||le(e)},Hi=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},pe=Array.isArray,bn=/(?:-?\.?\d|\.)+/gi,Gi=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Et=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,en=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Wi=/[+-]=-?[.\d]+/,Ki=/[^,'"\[\]\s]+/gi,fd=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Q,He,mn,Yn,Oe={},Mo={},Yi,ji=function(e){return(Mo=Rt(e,Oe))&&Te},jn=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},ho=function(e,t){return!t&&console.warn(e)},qi=function(e,t){return e&&(Oe[e]=t)&&Mo&&(Mo[e]=t)||Oe},bo=function(){return 0},pd={suppressEvents:!0,isStart:!0,kill:!1},Do={suppressEvents:!0,kill:!1},hd={suppressEvents:!0},qn={},at=[],gn={},Vi,ke={},tn={},Or=30,Oo=[],Vn="",Xn=function(e){var t=e[0],n,r;if(qe(t)||te(t)||(e=[e]),!(n=(t._gsap||{}).harness)){for(r=Oo.length;r--&&!Oo[r].targetTest(t););n=Oo[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new _s(e[r],n)))||e.splice(r,1);return e},vt=function(e){return e._gsap||Xn(Be(e))[0]._gsap},Xi=function(e,t,n){return(n=e[t])&&te(n)?e[t]():Wn(n)&&e.getAttribute&&e.getAttribute(t)||n},ye=function(e,t){return(e=e.split(",")).forEach(t)||e},ne=function(e){return Math.round(e*1e5)/1e5||0},ae=function(e){return Math.round(e*1e7)/1e7||0},Pt=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),n==="+"?e+r:n==="-"?e-r:n==="*"?e*r:e/r},bd=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},Io=function(){var e=at.length,t=at.slice(0),n,r;for(gn={},at.length=0,n=0;n<e;n++)r=t[n],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},Zn=function(e){return!!(e._initted||e._startAt||e.add)},Zi=function(e,t,n,r){at.length&&!ce&&Io(),e.render(t,n,!!(ce&&t<0&&Zn(e))),at.length&&!ce&&Io()},Qi=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(Ki).length<2?t:le(e)?e.trim():e},Ji=function(e){return e},Pe=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},md=function(e){return function(t,n){for(var r in n)r in t||r==="duration"&&e||r==="ease"||(t[r]=n[r])}},Rt=function(e,t){for(var n in t)e[n]=t[n];return e},Pr=function o(e,t){for(var n in t)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=qe(t[n])?o(e[n]||(e[n]={}),t[n]):t[n]);return e},Bo=function(e,t){var n={},r;for(r in e)r in t||(n[r]=e[r]);return n},to=function(e){var t=e.parent||Q,n=e.keyframes?md(pe(e.keyframes)):Pe;if(_e(e.inherit))for(;t;)n(e,t.vars.defaults),t=t.parent||t._dp;return e},gd=function(e,t){for(var n=e.length,r=n===t.length;r&&n--&&e[n]===t[n];);return n<0},es=function(e,t,n,r,i){var s=e[r],a;if(i)for(a=t[i];s&&s[i]>a;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},Yo=function(e,t,n,r){n===void 0&&(n="_first"),r===void 0&&(r="_last");var i=t._prev,s=t._next;i?i._next=s:e[n]===t&&(e[n]=s),s?s._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},ut=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_t=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},vd=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},vn=function(e,t,n,r){return e._startAt&&(ce?e._startAt.revert(Do):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},_d=function o(e){return!e||e._ts&&o(e.parent)},Mr=function(e){return e._repeat?zt(e._tTime,e=e.duration()+e._rDelay)*e:0},zt=function(e,t){var n=Math.floor(e=ae(e/t));return e&&n===e?n-1:n},Lo=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},jo=function(e){return e._end=ae(e._start+(e._tDur/Math.abs(e._ts||e._rts||fe)||0))},qo=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=ae(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),jo(e),n._dirty||_t(n,e)),e},ts=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Lo(e.rawTime(),t),(!t._dur||Co(0,t.totalDuration(),n)-t._tTime>fe)&&t.render(n,!0)),_t(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-1e-8}},Ge=function(e,t,n,r){return t.parent&&ut(t),t._start=ae((Je(n)?n:n||e!==Q?Ie(e,n,t):e._time)+t._delay),t._end=ae(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),es(e,t,"_first","_last",e._sort?"_start":0),_n(t)||(e._recent=t),r||ts(e,t),e._ts<0&&qo(e,e._tTime),e},os=function(e,t){return(Oe.ScrollTrigger||jn("scrollTrigger",t))&&Oe.ScrollTrigger.create(t,e)},ns=function(e,t,n,r,i){if(Jn(e,t,i),!e._initted)return 1;if(!n&&e._pt&&!ce&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&Vi!==Se.frame)return at.push(e),e._lazy=[i,r],1},yd=function o(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||o(t))},_n=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},xd=function(e,t,n,r){var i=e.ratio,s=t<0||!t&&(!e._start&&yd(e)&&!(!e._initted&&_n(e))||(e._ts<0||e._dp._ts<0)&&!_n(e))?0:1,a=e._rDelay,l=0,u,c,f;if(a&&e._repeat&&(l=Co(0,e._tDur,t),c=zt(l,a),e._yoyo&&c&1&&(s=1-s),c!==zt(e._tTime,a)&&(i=1-s,e.vars.repeatRefresh&&e._initted&&e.invalidate())),s!==i||ce||r||e._zTime===fe||!t&&e._zTime){if(!e._initted&&ns(e,t,r,n,l))return;for(f=e._zTime,e._zTime=t||(n?fe:0),n||(n=t&&!f),e.ratio=s,e._from&&(s=1-s),e._time=0,e._tTime=l,u=e._pt;u;)u.r(s,u.d),u=u._next;t<0&&vn(e,t,n,!0),e._onUpdate&&!n&&Ee(e,"onUpdate"),l&&e._repeat&&!n&&e.parent&&Ee(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===s&&(s&&ut(e,1),!n&&!ce&&(Ee(e,s?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},wd=function(e,t,n){var r;if(n>t)for(r=e._first;r&&r._start<=n;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=n;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},Ft=function(e,t,n,r){var i=e._repeat,s=ae(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=s/e._dur),e._dur=s,e._tDur=i?i<0?1e10:ae(s*(i+1)+e._rDelay*i):s,a>0&&!r&&qo(e,e._tTime=e._tDur*a),e.parent&&jo(e),n||_t(e.parent,e),e},Ir=function(e){return e instanceof be?_t(e):Ft(e,e._dur)},Cd={_start:0,endTime:bo,totalDuration:bo},Ie=function o(e,t,n){var r=e.labels,i=e._recent||Cd,s=e.duration()>=Ye?i.endTime(!1):e._dur,a,l,u;return le(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),u=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?i._start:i.endTime(i._repeat>=0))+(parseFloat(t.substr(1))||0)*(u?(a<0?i:n).totalDuration()/100:1)):a<0?(t in r||(r[t]=s),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),u&&n&&(l=l/100*(pe(n)?n[0]:n).totalDuration()),a>1?o(e,t.substr(0,a-1),n)+l:s+l)):t==null?s:+t},oo=function(e,t,n){var r=Je(t[1]),i=(r?2:1)+(e<2?0:1),s=t[i],a,l;if(r&&(s.duration=t[1]),s.parent=n,e){for(a=s,l=n;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=_e(l.vars.inherit)&&l.parent;s.immediateRender=_e(a.immediateRender),e<2?s.runBackwards=1:s.startAt=t[i-1]}return new ie(t[0],s,t[i+1])},dt=function(e,t){return e||e===0?t(e):t},Co=function(e,t,n){return n<e?e:n>t?t:n},de=function(e,t){return!le(e)||!(t=fd.exec(e))?"":t[1]},Td=function(e,t,n){return dt(n,function(r){return Co(e,t,r)})},yn=[].slice,rs=function(e,t){return e&&qe(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&qe(e[0]))&&!e.nodeType&&e!==He},kd=function(e,t,n){return n===void 0&&(n=[]),e.forEach(function(r){var i;return le(r)&&!t||rs(r,1)?(i=n).push.apply(i,Be(r)):n.push(r)})||n},Be=function(e,t,n){return X&&!t&&X.selector?X.selector(e):le(e)&&!n&&(mn||!$t())?yn.call((t||Yn).querySelectorAll(e),0):pe(e)?kd(e,n):rs(e)?yn.call(e,0):e?[e]:[]},xn=function(e){return e=Be(e)[0]||ho("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return Be(t,n.querySelectorAll?n:n===e?ho("Invalid scope")||Yn.createElement("div"):e)}},is=function(e){return e.sort(function(){return .5-Math.random()})},ss=function(e){if(te(e))return e;var t=qe(e)?e:{each:e},n=yt(t.ease),r=t.from||0,i=parseFloat(t.base)||0,s={},a=r>0&&r<1,l=isNaN(r)||a,u=t.axis,c=r,f=r;return le(r)?c=f={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(c=r[0],f=r[1]),function(d,b,y){var h=(y||t).length,g=s[h],p,C,k,x,v,m,w,_,T;if(!g){if(T=t.grid==="auto"?0:(t.grid||[1,Ye])[1],!T){for(w=-1e8;w<(w=y[T++].getBoundingClientRect().left)&&T<h;);T<h&&T--}for(g=s[h]=[],p=l?Math.min(T,h)*c-.5:r%T,C=T===Ye?0:l?h*f/T-.5:r/T|0,w=0,_=Ye,m=0;m<h;m++)k=m%T-p,x=C-(m/T|0),g[m]=v=u?Math.abs(u==="y"?x:k):Ui(k*k+x*x),v>w&&(w=v),v<_&&(_=v);r==="random"&&is(g),g.max=w-_,g.min=_,g.v=h=(parseFloat(t.amount)||parseFloat(t.each)*(T>h?h-1:u?u==="y"?h/T:T:Math.max(T,h/T))||0)*(r==="edges"?-1:1),g.b=h<0?i-h:i,g.u=de(t.amount||t.each)||0,n=n&&h<0?ms(n):n}return h=(g[d]-g.min)/g.max||0,ae(g.b+(n?n(h):h)*g.v)+g.u}},wn=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=ae(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(Je(n)?0:de(n))}},as=function(e,t){var n=pe(e),r,i;return!n&&qe(e)&&(r=n=e.radius||Ye,e.values?(e=Be(e.values),(i=!Je(e[0]))&&(r*=r)):e=wn(e.increment)),dt(t,n?te(e)?function(s){return i=e(s),Math.abs(i-s)<=r?i:s}:function(s){for(var a=parseFloat(i?s.x:s),l=parseFloat(i?s.y:0),u=Ye,c=0,f=e.length,d,b;f--;)i?(d=e[f].x-a,b=e[f].y-l,d=d*d+b*b):d=Math.abs(e[f]-a),d<u&&(u=d,c=f);return c=!r||u<=r?e[c]:s,i||c===s||Je(s)?c:c+de(s)}:wn(e))},ls=function(e,t,n,r){return dt(pe(e)?!t:n===!0?!!(n=0):!r,function(){return pe(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+n*.99))/n)*n*r)/r})},Sd=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(r){return t.reduce(function(i,s){return s(i)},r)}},Ed=function(e,t){return function(n){return e(parseFloat(n))+(t||de(n))}},Ad=function(e,t,n){return cs(e,t,0,1,n)},us=function(e,t,n){return dt(n,function(r){return e[~~t(r)]})},Dd=function o(e,t,n){var r=t-e;return pe(e)?us(e,o(0,e.length),t):dt(n,function(i){return(r+(i-e)%r)%r+e})},Od=function o(e,t,n){var r=t-e,i=r*2;return pe(e)?us(e,o(0,e.length-1),t):dt(n,function(s){return s=(i+(s-e)%i)%i||0,e+(s>r?i-s:s)})},mo=function(e){for(var t=0,n="",r,i,s,a;~(r=e.indexOf("random(",t));)s=e.indexOf(")",r),a=e.charAt(r+7)==="[",i=e.substr(r+7,s-r-7).match(a?Ki:bn),n+=e.substr(t,r-t)+ls(a?i:+i[0],a?0:+i[1],+i[2]||1e-5),t=s+1;return n+e.substr(t,e.length-t)},cs=function(e,t,n,r,i){var s=t-e,a=r-n;return dt(i,function(l){return n+((l-e)/s*a||0)})},Pd=function o(e,t,n,r){var i=isNaN(e+t)?0:function(b){return(1-b)*e+b*t};if(!i){var s=le(e),a={},l,u,c,f,d;if(n===!0&&(r=1)&&(n=null),s)e={p:e},t={p:t};else if(pe(e)&&!pe(t)){for(c=[],f=e.length,d=f-2,u=1;u<f;u++)c.push(o(e[u-1],e[u]));f--,i=function(y){y*=f;var h=Math.min(d,~~y);return c[h](y-h)},n=t}else r||(e=Rt(pe(e)?[]:{},e));if(!c){for(l in t)Qn.call(a,e,l,"get",t[l]);i=function(y){return or(y,a)||(s?e.p:e)}}}return dt(n,i)},Br=function(e,t,n){var r=e.labels,i=Ye,s,a,l;for(s in r)a=r[s]-t,a<0==!!n&&a&&i>(a=Math.abs(a))&&(l=s,i=a);return l},Ee=function(e,t,n){var r=e.vars,i=r[t],s=X,a=e._ctx,l,u,c;if(i)return l=r[t+"Params"],u=r.callbackScope||e,n&&at.length&&Io(),a&&(X=a),c=l?i.apply(u,l):i.call(u),X=s,c},Xt=function(e){return ut(e),e.scrollTrigger&&e.scrollTrigger.kill(!!ce),e.progress()<1&&Ee(e,"onInterrupt"),e},At,ds=[],fs=function(e){if(e)if(e=!e.name&&e.default||e,Kn()||e.headless){var t=e.name,n=te(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:bo,render:or,add:Qn,kill:jd,modifier:Yd,rawVars:0},s={targetTest:0,get:0,getSetter:tr,aliases:{},register:0};if($t(),e!==r){if(ke[t])return;Pe(r,Pe(Bo(e,i),s)),Rt(r.prototype,Rt(i,Bo(e,s))),ke[r.prop=t]=r,e.targetTest&&(Oo.push(r),qn[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}qi(t,r),e.register&&e.register(Te,r,xe)}else ds.push(e)},q=255,Zt={aqua:[0,q,q],lime:[0,q,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,q],navy:[0,0,128],white:[q,q,q],olive:[128,128,0],yellow:[q,q,0],orange:[q,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[q,0,0],pink:[q,192,203],cyan:[0,q,q],transparent:[q,q,q,0]},on=function(e,t,n){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*q+.5|0},ps=function(e,t,n){var r=e?Je(e)?[e>>16,e>>8&q,e&q]:0:Zt.black,i,s,a,l,u,c,f,d,b,y;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Zt[e])r=Zt[e];else if(e.charAt(0)==="#"){if(e.length<6&&(i=e.charAt(1),s=e.charAt(2),a=e.charAt(3),e="#"+i+i+s+s+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&q,r&q,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&q,e&q]}else if(e.substr(0,3)==="hsl"){if(r=y=e.match(bn),!t)l=+r[0]%360/360,u=+r[1]/100,c=+r[2]/100,s=c<=.5?c*(u+1):c+u-c*u,i=c*2-s,r.length>3&&(r[3]*=1),r[0]=on(l+1/3,i,s),r[1]=on(l,i,s),r[2]=on(l-1/3,i,s);else if(~e.indexOf("="))return r=e.match(Gi),n&&r.length<4&&(r[3]=1),r}else r=e.match(bn)||Zt.transparent;r=r.map(Number)}return t&&!y&&(i=r[0]/q,s=r[1]/q,a=r[2]/q,f=Math.max(i,s,a),d=Math.min(i,s,a),c=(f+d)/2,f===d?l=u=0:(b=f-d,u=c>.5?b/(2-f-d):b/(f+d),l=f===i?(s-a)/b+(s<a?6:0):f===s?(a-i)/b+2:(i-s)/b+4,l*=60),r[0]=~~(l+.5),r[1]=~~(u*100+.5),r[2]=~~(c*100+.5)),n&&r.length<4&&(r[3]=1),r},hs=function(e){var t=[],n=[],r=-1;return e.split(lt).forEach(function(i){var s=i.match(Et)||[];t.push.apply(t,s),n.push(r+=s.length+1)}),t.c=n,t},Lr=function(e,t,n){var r="",i=(e+r).match(lt),s=t?"hsla(":"rgba(",a=0,l,u,c,f;if(!i)return e;if(i=i.map(function(d){return(d=ps(d,t,1))&&s+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),n&&(c=hs(e),l=n.c,l.join(r)!==c.c.join(r)))for(u=e.replace(lt,"1").split(Et),f=u.length-1;a<f;a++)r+=u[a]+(~l.indexOf(a)?i.shift()||s+"0,0,0,0)":(c.length?c:i.length?i:n).shift());if(!u)for(u=e.split(lt),f=u.length-1;a<f;a++)r+=u[a]+i[a];return r+u[f]},lt=function(){var o="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Zt)o+="|"+e+"\\b";return new RegExp(o+")","gi")}(),Md=/hsl[a]?\(/,bs=function(e){var t=e.join(" "),n;if(lt.lastIndex=0,lt.test(t))return n=Md.test(t),e[1]=Lr(e[1],n),e[0]=Lr(e[0],n,hs(e[1])),!0},go,Se=function(){var o=Date.now,e=500,t=33,n=o(),r=n,i=1e3/240,s=i,a=[],l,u,c,f,d,b,y=function h(g){var p=o()-r,C=g===!0,k,x,v,m;if((p>e||p<0)&&(n+=p-t),r+=p,v=r-n,k=v-s,(k>0||C)&&(m=++f.frame,d=v-f.time*1e3,f.time=v=v/1e3,s+=k+(k>=i?4:i-k),x=1),C||(l=u(h)),x)for(b=0;b<a.length;b++)a[b](v,d,m,g)};return f={time:0,frame:0,tick:function(){y(!0)},deltaRatio:function(g){return d/(1e3/(g||60))},wake:function(){Yi&&(!mn&&Kn()&&(He=mn=window,Yn=He.document||{},Oe.gsap=Te,(He.gsapVersions||(He.gsapVersions=[])).push(Te.version),ji(Mo||He.GreenSockGlobals||!He.gsap&&He||{}),ds.forEach(fs)),c=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),u=c||function(g){return setTimeout(g,s-f.time*1e3+1|0)},go=1,y(2))},sleep:function(){(c?cancelAnimationFrame:clearTimeout)(l),go=0,u=bo},lagSmoothing:function(g,p){e=g||1/0,t=Math.min(p||33,e)},fps:function(g){i=1e3/(g||240),s=f.time*1e3+i},add:function(g,p,C){var k=p?function(x,v,m,w){g(x,v,m,w),f.remove(k)}:g;return f.remove(g),a[C?"unshift":"push"](k),$t(),k},remove:function(g,p){~(p=a.indexOf(g))&&a.splice(p,1)&&b>=p&&b--},_listeners:a},f}(),$t=function(){return!go&&Se.wake()},G={},Id=/^[\d.\-M][\d.\-,\s]/,Bd=/["']/g,Ld=function(e){for(var t={},n=e.substr(1,e.length-3).split(":"),r=n[0],i=1,s=n.length,a,l,u;i<s;i++)l=n[i],a=i!==s-1?l.lastIndexOf(","):l.length,u=l.substr(0,a),t[r]=isNaN(u)?u.replace(Bd,"").trim():+u,r=l.substr(a+1).trim();return t},Nd=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},Rd=function(e){var t=(e+"").split("("),n=G[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Ld(t[1])]:Nd(e).split(",").map(Qi)):G._CE&&Id.test(e)?G._CE("",e):n},ms=function(e){return function(t){return 1-e(1-t)}},gs=function o(e,t){for(var n=e._first,r;n;)n instanceof be?o(n,t):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==t&&(n.timeline?o(n.timeline,t):(r=n._ease,n._ease=n._yEase,n._yEase=r,n._yoyo=t)),n=n._next},yt=function(e,t){return e&&(te(e)?e:G[e]||Rd(e))||t},kt=function(e,t,n,r){n===void 0&&(n=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var i={easeIn:t,easeOut:n,easeInOut:r},s;return ye(e,function(a){G[a]=Oe[a]=i,G[s=a.toLowerCase()]=n;for(var l in i)G[s+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=G[a+"."+l]=i[l]}),i},vs=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},nn=function o(e,t,n){var r=t>=1?t:1,i=(n||(e?.3:.45))/(t<1?t:1),s=i/hn*(Math.asin(1/r)||0),a=function(c){return c===1?1:r*Math.pow(2,-10*c)*dd((c-s)*i)+1},l=e==="out"?a:e==="in"?function(u){return 1-a(1-u)}:vs(a);return i=hn/i,l.config=function(u,c){return o(e,u,c)},l},rn=function o(e,t){t===void 0&&(t=1.70158);var n=function(s){return s?--s*s*((t+1)*s+t)+1:0},r=e==="out"?n:e==="in"?function(i){return 1-n(1-i)}:vs(n);return r.config=function(i){return o(e,i)},r};ye("Linear,Quad,Cubic,Quart,Quint,Strong",function(o,e){var t=e<5?e+1:e;kt(o+",Power"+(t-1),e?function(n){return Math.pow(n,t)}:function(n){return n},function(n){return 1-Math.pow(1-n,t)},function(n){return n<.5?Math.pow(n*2,t)/2:1-Math.pow((1-n)*2,t)/2})});G.Linear.easeNone=G.none=G.Linear.easeIn;kt("Elastic",nn("in"),nn("out"),nn());(function(o,e){var t=1/e,n=2*t,r=2.5*t,i=function(a){return a<t?o*a*a:a<n?o*Math.pow(a-1.5/e,2)+.75:a<r?o*(a-=2.25/e)*a+.9375:o*Math.pow(a-2.625/e,2)+.984375};kt("Bounce",function(s){return 1-i(1-s)},i)})(7.5625,2.75);kt("Expo",function(o){return Math.pow(2,10*(o-1))*o+o*o*o*o*o*o*(1-o)});kt("Circ",function(o){return-(Ui(1-o*o)-1)});kt("Sine",function(o){return o===1?1:-cd(o*ld)+1});kt("Back",rn("in"),rn("out"),rn());G.SteppedEase=G.steps=Oe.SteppedEase={config:function(e,t){e===void 0&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0,s=1-fe;return function(a){return((r*Co(0,s,a)|0)+i)*n}}};Nt.ease=G["quad.out"];ye("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(o){return Vn+=o+","+o+"Params,"});var _s=function(e,t){this.id=ud++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:Xi,this.set=t?t.getSetter:tr},vo=function(){function o(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Ft(this,+t.duration,1,1),this.data=t.data,X&&(this._ctx=X,X.data.push(this)),go||Se.wake()}var e=o.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,Ft(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,r){if($t(),!arguments.length)return this._tTime;var i=this._dp;if(i&&i.smoothChildTiming&&this._ts){for(qo(this,n),!i._dp||i.parent||ts(i,this);i&&i.parent;)i.parent._time!==i._start+(i._ts>=0?i._tTime/i._ts:(i.totalDuration()-i._tTime)/-i._ts)&&i.totalTime(i._tTime,!0),i=i.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&Ge(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===fe||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),Zi(this,n,r)),this},e.time=function(n,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Mr(this))%(this._dur+this._rDelay)||(n?this._dur:0),r):this._time},e.totalProgress=function(n,r){return arguments.length?this.totalTime(this.totalDuration()*n,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Mr(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,r){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*i,r):this._repeat?zt(this._tTime,i)+1:1},e.timeScale=function(n,r){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===n)return this;var i=this.parent&&this._ts?Lo(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-1e-8?0:this._rts,this.totalTime(Co(-Math.abs(this._delay),this.totalDuration(),i),r!==!1),jo(this),vd(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):($t(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==fe&&(this._tTime-=fe)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&Ge(r,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(_e(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var r=this.parent||this._dp;return r?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Lo(r.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=hd);var r=ce;return ce=n,Zn(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),ce=r,this},e.globalTime=function(n){for(var r=this,i=arguments.length?n:r.rawTime();r;)i=r._start+i/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(n):i},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Ir(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var r=this._time;return this._rDelay=n,Ir(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,r){return this.totalTime(Ie(this,n),_e(r))},e.restart=function(n,r){return this.play().totalTime(n?-this._delay:0,_e(r)),this._dur||(this._zTime=-1e-8),this},e.play=function(n,r){return n!=null&&this.seek(n,r),this.reversed(!1).paused(!1)},e.reverse=function(n,r){return n!=null&&this.seek(n||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(n,r){return n!=null&&this.seek(n,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var n=this.parent||this._dp,r=this._start,i;return!!(!n||this._ts&&this._initted&&n.isActive()&&(i=n.rawTime(!0))>=r&&i<this.endTime(!0)-fe)},e.eventCallback=function(n,r,i){var s=this.vars;return arguments.length>1?(r?(s[n]=r,i&&(s[n+"Params"]=i),n==="onUpdate"&&(this._onUpdate=r)):delete s[n],this):s[n]},e.then=function(n){var r=this;return new Promise(function(i){var s=te(n)?n:Ji,a=function(){var u=r.then;r.then=null,te(s)&&(s=s(r))&&(s.then||s===r)&&(r.then=u),i(s),r.then=u};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){Xt(this)},o}();Pe(vo.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var be=function(o){$i(e,o);function e(n,r){var i;return n===void 0&&(n={}),i=o.call(this,n)||this,i.labels={},i.smoothChildTiming=!!n.smoothChildTiming,i.autoRemoveChildren=!!n.autoRemoveChildren,i._sort=_e(n.sortChildren),Q&&Ge(n.parent||Q,Xe(i),r),n.reversed&&i.reverse(),n.paused&&i.paused(!0),n.scrollTrigger&&os(Xe(i),n.scrollTrigger),i}var t=e.prototype;return t.to=function(r,i,s){return oo(0,arguments,this),this},t.from=function(r,i,s){return oo(1,arguments,this),this},t.fromTo=function(r,i,s,a){return oo(2,arguments,this),this},t.set=function(r,i,s){return i.duration=0,i.parent=this,to(i).repeatDelay||(i.repeat=0),i.immediateRender=!!i.immediateRender,new ie(r,i,Ie(this,s),1),this},t.call=function(r,i,s){return Ge(this,ie.delayedCall(0,r,i),s)},t.staggerTo=function(r,i,s,a,l,u,c){return s.duration=i,s.stagger=s.stagger||a,s.onComplete=u,s.onCompleteParams=c,s.parent=this,new ie(r,s,Ie(this,l)),this},t.staggerFrom=function(r,i,s,a,l,u,c){return s.runBackwards=1,to(s).immediateRender=_e(s.immediateRender),this.staggerTo(r,i,s,a,l,u,c)},t.staggerFromTo=function(r,i,s,a,l,u,c,f){return a.startAt=s,to(a).immediateRender=_e(a.immediateRender),this.staggerTo(r,i,a,l,u,c,f)},t.render=function(r,i,s){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,u=this._dur,c=r<=0?0:ae(r),f=this._zTime<0!=r<0&&(this._initted||!u),d,b,y,h,g,p,C,k,x,v,m,w;if(this!==Q&&c>l&&r>=0&&(c=l),c!==this._tTime||s||f){if(a!==this._time&&u&&(c+=this._time-a,r+=this._time-a),d=c,x=this._start,k=this._ts,p=!k,f&&(u||(a=this._zTime),(r||!i)&&(this._zTime=r)),this._repeat){if(m=this._yoyo,g=u+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(g*100+r,i,s);if(d=ae(c%g),c===l?(h=this._repeat,d=u):(v=ae(c/g),h=~~v,h&&h===v&&(d=u,h--),d>u&&(d=u)),v=zt(this._tTime,g),!a&&this._tTime&&v!==h&&this._tTime-v*g-this._dur<=0&&(v=h),m&&h&1&&(d=u-d,w=1),h!==v&&!this._lock){var _=m&&v&1,T=_===(m&&h&1);if(h<v&&(_=!_),a=_?0:c%u?u:c,this._lock=1,this.render(a||(w?0:ae(h*g)),i,!u)._lock=0,this._tTime=c,!i&&this.parent&&Ee(this,"onRepeat"),this.vars.repeatRefresh&&!w&&(this.invalidate()._lock=1),a&&a!==this._time||p!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(u=this._dur,l=this._tDur,T&&(this._lock=2,a=_?u:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!w&&this.invalidate()),this._lock=0,!this._ts&&!p)return this;gs(this,w)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(C=wd(this,ae(a),ae(d)),C&&(c-=d-(d=C._start))),this._tTime=c,this._time=d,this._act=!k,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&c&&!i&&!v&&(Ee(this,"onStart"),this._tTime!==c))return this;if(d>=a&&r>=0)for(b=this._first;b;){if(y=b._next,(b._act||d>=b._start)&&b._ts&&C!==b){if(b.parent!==this)return this.render(r,i,s);if(b.render(b._ts>0?(d-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(d-b._start)*b._ts,i,s),d!==this._time||!this._ts&&!p){C=0,y&&(c+=this._zTime=-1e-8);break}}b=y}else{b=this._last;for(var E=r<0?r:d;b;){if(y=b._prev,(b._act||E<=b._end)&&b._ts&&C!==b){if(b.parent!==this)return this.render(r,i,s);if(b.render(b._ts>0?(E-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(E-b._start)*b._ts,i,s||ce&&Zn(b)),d!==this._time||!this._ts&&!p){C=0,y&&(c+=this._zTime=E?-1e-8:fe);break}}b=y}}if(C&&!i&&(this.pause(),C.render(d>=a?0:-1e-8)._zTime=d>=a?1:-1,this._ts))return this._start=x,jo(this),this.render(r,i,s);this._onUpdate&&!i&&Ee(this,"onUpdate",!0),(c===l&&this._tTime>=this.totalDuration()||!c&&a)&&(x===this._start||Math.abs(k)!==Math.abs(this._ts))&&(this._lock||((r||!u)&&(c===l&&this._ts>0||!c&&this._ts<0)&&ut(this,1),!i&&!(r<0&&!a)&&(c||a||!l)&&(Ee(this,c===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(c<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,i){var s=this;if(Je(i)||(i=Ie(this,i,r)),!(r instanceof vo)){if(pe(r))return r.forEach(function(a){return s.add(a,i)}),this;if(le(r))return this.addLabel(r,i);if(te(r))r=ie.delayedCall(0,r);else return this}return this!==r?Ge(this,r,i):this},t.getChildren=function(r,i,s,a){r===void 0&&(r=!0),i===void 0&&(i=!0),s===void 0&&(s=!0),a===void 0&&(a=-1e8);for(var l=[],u=this._first;u;)u._start>=a&&(u instanceof ie?i&&l.push(u):(s&&l.push(u),r&&l.push.apply(l,u.getChildren(!0,i,s)))),u=u._next;return l},t.getById=function(r){for(var i=this.getChildren(1,1,1),s=i.length;s--;)if(i[s].vars.id===r)return i[s]},t.remove=function(r){return le(r)?this.removeLabel(r):te(r)?this.killTweensOf(r):(r.parent===this&&Yo(this,r),r===this._recent&&(this._recent=this._last),_t(this))},t.totalTime=function(r,i){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ae(Se.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),o.prototype.totalTime.call(this,r,i),this._forcing=0,this):this._tTime},t.addLabel=function(r,i){return this.labels[r]=Ie(this,i),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,i,s){var a=ie.delayedCall(0,i||bo,s);return a.data="isPause",this._hasPause=1,Ge(this,a,Ie(this,r))},t.removePause=function(r){var i=this._first;for(r=Ie(this,r);i;)i._start===r&&i.data==="isPause"&&ut(i),i=i._next},t.killTweensOf=function(r,i,s){for(var a=this.getTweensOf(r,s),l=a.length;l--;)rt!==a[l]&&a[l].kill(r,i);return this},t.getTweensOf=function(r,i){for(var s=[],a=Be(r),l=this._first,u=Je(i),c;l;)l instanceof ie?bd(l._targets,a)&&(u?(!rt||l._initted&&l._ts)&&l.globalTime(0)<=i&&l.globalTime(l.totalDuration())>i:!i||l.isActive())&&s.push(l):(c=l.getTweensOf(a,i)).length&&s.push.apply(s,c),l=l._next;return s},t.tweenTo=function(r,i){i=i||{};var s=this,a=Ie(s,r),l=i,u=l.startAt,c=l.onStart,f=l.onStartParams,d=l.immediateRender,b,y=ie.to(s,Pe({ease:i.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:i.duration||Math.abs((a-(u&&"time"in u?u.time:s._time))/s.timeScale())||fe,onStart:function(){if(s.pause(),!b){var g=i.duration||Math.abs((a-(u&&"time"in u?u.time:s._time))/s.timeScale());y._dur!==g&&Ft(y,g,0,1).render(y._time,!0,!0),b=1}c&&c.apply(y,f||[])}},i));return d?y.render(0):y},t.tweenFromTo=function(r,i,s){return this.tweenTo(i,Pe({startAt:{time:Ie(this,r)}},s))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),Br(this,Ie(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),Br(this,Ie(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+fe)},t.shiftChildren=function(r,i,s){s===void 0&&(s=0);for(var a=this._first,l=this.labels,u;a;)a._start>=s&&(a._start+=r,a._end+=r),a=a._next;if(i)for(u in l)l[u]>=s&&(l[u]+=r);return _t(this)},t.invalidate=function(r){var i=this._first;for(this._lock=0;i;)i.invalidate(r),i=i._next;return o.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var i=this._first,s;i;)s=i._next,this.remove(i),i=s;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),_t(this)},t.totalDuration=function(r){var i=0,s=this,a=s._last,l=Ye,u,c,f;if(arguments.length)return s.timeScale((s._repeat<0?s.duration():s.totalDuration())/(s.reversed()?-r:r));if(s._dirty){for(f=s.parent;a;)u=a._prev,a._dirty&&a.totalDuration(),c=a._start,c>l&&s._sort&&a._ts&&!s._lock?(s._lock=1,Ge(s,a,c-a._delay,1)._lock=0):l=c,c<0&&a._ts&&(i-=c,(!f&&!s._dp||f&&f.smoothChildTiming)&&(s._start+=c/s._ts,s._time-=c,s._tTime-=c),s.shiftChildren(-c,!1,-1/0),l=0),a._end>i&&a._ts&&(i=a._end),a=u;Ft(s,s===Q&&s._time>i?s._time:i,1,1),s._dirty=0}return s._tDur},e.updateRoot=function(r){if(Q._ts&&(Zi(Q,Lo(r,Q)),Vi=Se.frame),Se.frame>=Or){Or+=Ae.autoSleep||120;var i=Q._first;if((!i||!i._ts)&&Ae.autoSleep&&Se._listeners.length<2){for(;i&&!i._ts;)i=i._next;i||Se.sleep()}}},e}(vo);Pe(be.prototype,{_lock:0,_hasPause:0,_forcing:0});var zd=function(e,t,n,r,i,s,a){var l=new xe(this._pt,e,t,0,1,ks,null,i),u=0,c=0,f,d,b,y,h,g,p,C;for(l.b=n,l.e=r,n+="",r+="",(p=~r.indexOf("random("))&&(r=mo(r)),s&&(C=[n,r],s(C,e,t),n=C[0],r=C[1]),d=n.match(en)||[];f=en.exec(r);)y=f[0],h=r.substring(u,f.index),b?b=(b+1)%5:h.substr(-5)==="rgba("&&(b=1),y!==d[c++]&&(g=parseFloat(d[c-1])||0,l._pt={_next:l._pt,p:h||c===1?h:",",s:g,c:y.charAt(1)==="="?Pt(g,y)-g:parseFloat(y)-g,m:b&&b<4?Math.round:0},u=en.lastIndex);return l.c=u<r.length?r.substring(u,r.length):"",l.fp=a,(Wi.test(r)||p)&&(l.e=0),this._pt=l,l},Qn=function(e,t,n,r,i,s,a,l,u,c){te(r)&&(r=r(i||0,e,s));var f=e[t],d=n!=="get"?n:te(f)?u?e[t.indexOf("set")||!te(e["get"+t.substr(3)])?t:"get"+t.substr(3)](u):e[t]():f,b=te(f)?u?Gd:Cs:er,y;if(le(r)&&(~r.indexOf("random(")&&(r=mo(r)),r.charAt(1)==="="&&(y=Pt(d,r)+(de(d)||0),(y||y===0)&&(r=y))),!c||d!==r||Cn)return!isNaN(d*r)&&r!==""?(y=new xe(this._pt,e,t,+d||0,r-(d||0),typeof f=="boolean"?Kd:Ts,0,b),u&&(y.fp=u),a&&y.modifier(a,this,e),this._pt=y):(!f&&!(t in e)&&jn(t,r),zd.call(this,e,t,d,r,b,l||Ae.stringFilter,u))},Fd=function(e,t,n,r,i){if(te(e)&&(e=no(e,i,t,n,r)),!qe(e)||e.style&&e.nodeType||pe(e)||Hi(e))return le(e)?no(e,i,t,n,r):e;var s={},a;for(a in e)s[a]=no(e[a],i,t,n,r);return s},ys=function(e,t,n,r,i,s){var a,l,u,c;if(ke[e]&&(a=new ke[e]).init(i,a.rawVars?t[e]:Fd(t[e],r,i,s,n),n,r,s)!==!1&&(n._pt=l=new xe(n._pt,i,e,0,1,a.render,a,0,a.priority),n!==At))for(u=n._ptLookup[n._targets.indexOf(i)],c=a._props.length;c--;)u[a._props[c]]=l;return a},rt,Cn,Jn=function o(e,t,n){var r=e.vars,i=r.ease,s=r.startAt,a=r.immediateRender,l=r.lazy,u=r.onUpdate,c=r.runBackwards,f=r.yoyoEase,d=r.keyframes,b=r.autoRevert,y=e._dur,h=e._startAt,g=e._targets,p=e.parent,C=p&&p.data==="nested"?p.vars.targets:g,k=e._overwrite==="auto"&&!Gn,x=e.timeline,v,m,w,_,T,E,M,L,F,ee,Y,K,j;if(x&&(!d||!i)&&(i="none"),e._ease=yt(i,Nt.ease),e._yEase=f?ms(yt(f===!0?i:f,Nt.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!x&&!!r.runBackwards,!x||d&&!r.stagger){if(L=g[0]?vt(g[0]).harness:0,K=L&&r[L.prop],v=Bo(r,qn),h&&(h._zTime<0&&h.progress(1),t<0&&c&&a&&!b?h.render(-1,!0):h.revert(c&&y?Do:pd),h._lazy=0),s){if(ut(e._startAt=ie.set(g,Pe({data:"isStart",overwrite:!1,parent:p,immediateRender:!0,lazy:!h&&_e(l),startAt:null,delay:0,onUpdate:u&&function(){return Ee(e,"onUpdate")},stagger:0},s))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ce||!a&&!b)&&e._startAt.revert(Do),a&&y&&t<=0&&n<=0){t&&(e._zTime=t);return}}else if(c&&y&&!h){if(t&&(a=!1),w=Pe({overwrite:!1,data:"isFromStart",lazy:a&&!h&&_e(l),immediateRender:a,stagger:0,parent:p},v),K&&(w[L.prop]=K),ut(e._startAt=ie.set(g,w)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(ce?e._startAt.revert(Do):e._startAt.render(-1,!0)),e._zTime=t,!a)o(e._startAt,fe,fe);else if(!t)return}for(e._pt=e._ptCache=0,l=y&&_e(l)||l&&!y,m=0;m<g.length;m++){if(T=g[m],M=T._gsap||Xn(g)[m]._gsap,e._ptLookup[m]=ee={},gn[M.id]&&at.length&&Io(),Y=C===g?m:C.indexOf(T),L&&(F=new L).init(T,K||v,e,Y,C)!==!1&&(e._pt=_=new xe(e._pt,T,F.name,0,1,F.render,F,0,F.priority),F._props.forEach(function(ue){ee[ue]=_}),F.priority&&(E=1)),!L||K)for(w in v)ke[w]&&(F=ys(w,v,e,Y,T,C))?F.priority&&(E=1):ee[w]=_=Qn.call(e,T,w,"get",v[w],Y,C,0,r.stringFilter);e._op&&e._op[m]&&e.kill(T,e._op[m]),k&&e._pt&&(rt=e,Q.killTweensOf(T,ee,e.globalTime(t)),j=!e.parent,rt=0),e._pt&&l&&(gn[M.id]=1)}E&&Ss(e),e._onInit&&e._onInit(e)}e._onUpdate=u,e._initted=(!e._op||e._pt)&&!j,d&&t<=0&&x.render(Ye,!0,!0)},$d=function(e,t,n,r,i,s,a,l){var u=(e._pt&&e._ptCache||(e._ptCache={}))[t],c,f,d,b;if(!u)for(u=e._ptCache[t]=[],d=e._ptLookup,b=e._targets.length;b--;){if(c=d[b][t],c&&c.d&&c.d._pt)for(c=c.d._pt;c&&c.p!==t&&c.fp!==t;)c=c._next;if(!c)return Cn=1,e.vars[t]="+=0",Jn(e,a),Cn=0,l?ho(t+" not eligible for reset"):1;u.push(c)}for(b=u.length;b--;)f=u[b],c=f._pt||f,c.s=(r||r===0)&&!i?r:c.s+(r||0)+s*c.c,c.c=n-c.s,f.e&&(f.e=ne(n)+de(f.e)),f.b&&(f.b=c.s+de(f.b))},Ud=function(e,t){var n=e[0]?vt(e[0]).harness:0,r=n&&n.aliases,i,s,a,l;if(!r)return t;i=Rt({},t);for(s in r)if(s in i)for(l=r[s].split(","),a=l.length;a--;)i[l[a]]=i[s];return i},Hd=function(e,t,n,r){var i=t.ease||r||"power1.inOut",s,a;if(pe(t))a=n[e]||(n[e]=[]),t.forEach(function(l,u){return a.push({t:u/(t.length-1)*100,v:l,e:i})});else for(s in t)a=n[s]||(n[s]=[]),s==="ease"||a.push({t:parseFloat(e),v:t[s],e:i})},no=function(e,t,n,r,i){return te(e)?e.call(t,n,r,i):le(e)&&~e.indexOf("random(")?mo(e):e},xs=Vn+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ws={};ye(xs+",id,stagger,delay,duration,paused,scrollTrigger",function(o){return ws[o]=1});var ie=function(o){$i(e,o);function e(n,r,i,s){var a;typeof r=="number"&&(i.duration=r,r=i,i=null),a=o.call(this,s?r:to(r))||this;var l=a.vars,u=l.duration,c=l.delay,f=l.immediateRender,d=l.stagger,b=l.overwrite,y=l.keyframes,h=l.defaults,g=l.scrollTrigger,p=l.yoyoEase,C=r.parent||Q,k=(pe(n)||Hi(n)?Je(n[0]):"length"in r)?[n]:Be(n),x,v,m,w,_,T,E,M;if(a._targets=k.length?Xn(k):ho("GSAP target "+n+" not found. https://gsap.com",!Ae.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=b,y||d||Ao(u)||Ao(c)){if(r=a.vars,x=a.timeline=new be({data:"nested",defaults:h||{},targets:C&&C.data==="nested"?C.vars.targets:k}),x.kill(),x.parent=x._dp=Xe(a),x._start=0,d||Ao(u)||Ao(c)){if(w=k.length,E=d&&ss(d),qe(d))for(_ in d)~xs.indexOf(_)&&(M||(M={}),M[_]=d[_]);for(v=0;v<w;v++)m=Bo(r,ws),m.stagger=0,p&&(m.yoyoEase=p),M&&Rt(m,M),T=k[v],m.duration=+no(u,Xe(a),v,T,k),m.delay=(+no(c,Xe(a),v,T,k)||0)-a._delay,!d&&w===1&&m.delay&&(a._delay=c=m.delay,a._start+=c,m.delay=0),x.to(T,m,E?E(v,T,k):0),x._ease=G.none;x.duration()?u=c=0:a.timeline=0}else if(y){to(Pe(x.vars.defaults,{ease:"none"})),x._ease=yt(y.ease||r.ease||"none");var L=0,F,ee,Y;if(pe(y))y.forEach(function(K){return x.to(k,K,">")}),x.duration();else{m={};for(_ in y)_==="ease"||_==="easeEach"||Hd(_,y[_],m,y.easeEach);for(_ in m)for(F=m[_].sort(function(K,j){return K.t-j.t}),L=0,v=0;v<F.length;v++)ee=F[v],Y={ease:ee.e,duration:(ee.t-(v?F[v-1].t:0))/100*u},Y[_]=ee.v,x.to(k,Y,L),L+=Y.duration;x.duration()<u&&x.to({},{duration:u-x.duration()})}}u||a.duration(u=x.duration())}else a.timeline=0;return b===!0&&!Gn&&(rt=Xe(a),Q.killTweensOf(k),rt=0),Ge(C,Xe(a),i),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(f||!u&&!y&&a._start===ae(C._time)&&_e(f)&&_d(Xe(a))&&C.data!=="nested")&&(a._tTime=-1e-8,a.render(Math.max(0,-c)||0)),g&&os(Xe(a),g),a}var t=e.prototype;return t.render=function(r,i,s){var a=this._time,l=this._tDur,u=this._dur,c=r<0,f=r>l-fe&&!c?l:r<fe?0:r,d,b,y,h,g,p,C,k,x;if(!u)xd(this,r,i,s);else if(f!==this._tTime||!r||s||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==c||this._lazy){if(d=f,k=this.timeline,this._repeat){if(h=u+this._rDelay,this._repeat<-1&&c)return this.totalTime(h*100+r,i,s);if(d=ae(f%h),f===l?(y=this._repeat,d=u):(g=ae(f/h),y=~~g,y&&y===g?(d=u,y--):d>u&&(d=u)),p=this._yoyo&&y&1,p&&(x=this._yEase,d=u-d),g=zt(this._tTime,h),d===a&&!s&&this._initted&&y===g)return this._tTime=f,this;y!==g&&(k&&this._yEase&&gs(k,p),this.vars.repeatRefresh&&!p&&!this._lock&&d!==h&&this._initted&&(this._lock=s=1,this.render(ae(h*y),!0).invalidate()._lock=0))}if(!this._initted){if(ns(this,c?r:d,s,i,f))return this._tTime=0,this;if(a!==this._time&&!(s&&this.vars.repeatRefresh&&y!==g))return this;if(u!==this._dur)return this.render(r,i,s)}if(this._tTime=f,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=C=(x||this._ease)(d/u),this._from&&(this.ratio=C=1-C),!a&&f&&!i&&!g&&(Ee(this,"onStart"),this._tTime!==f))return this;for(b=this._pt;b;)b.r(C,b.d),b=b._next;k&&k.render(r<0?r:k._dur*k._ease(d/this._dur),i,s)||this._startAt&&(this._zTime=r),this._onUpdate&&!i&&(c&&vn(this,r,i,s),Ee(this,"onUpdate")),this._repeat&&y!==g&&this.vars.onRepeat&&!i&&this.parent&&Ee(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(c&&!this._onUpdate&&vn(this,r,!0,!0),(r||!u)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&ut(this,1),!i&&!(c&&!a)&&(f||a||p)&&(Ee(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),o.prototype.invalidate.call(this,r)},t.resetTo=function(r,i,s,a,l){go||Se.wake(),this._ts||this.play();var u=Math.min(this._dur,(this._dp._time-this._start)*this._ts),c;return this._initted||Jn(this,u),c=this._ease(u/this._dur),$d(this,r,i,s,a,c,u,l)?this.resetTo(r,i,s,a,1):(qo(this,0),this.parent||es(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,i){if(i===void 0&&(i="all"),!r&&(!i||i==="all"))return this._lazy=this._pt=0,this.parent?Xt(this):this.scrollTrigger&&this.scrollTrigger.kill(!!ce),this;if(this.timeline){var s=this.timeline.totalDuration();return this.timeline.killTweensOf(r,i,rt&&rt.vars.overwrite!==!0)._first||Xt(this),this.parent&&s!==this.timeline.totalDuration()&&Ft(this,this._dur*this.timeline._tDur/s,0,1),this}var a=this._targets,l=r?Be(r):a,u=this._ptLookup,c=this._pt,f,d,b,y,h,g,p;if((!i||i==="all")&&gd(a,l))return i==="all"&&(this._pt=0),Xt(this);for(f=this._op=this._op||[],i!=="all"&&(le(i)&&(h={},ye(i,function(C){return h[C]=1}),i=h),i=Ud(a,i)),p=a.length;p--;)if(~l.indexOf(a[p])){d=u[p],i==="all"?(f[p]=i,y=d,b={}):(b=f[p]=f[p]||{},y=i);for(h in y)g=d&&d[h],g&&((!("kill"in g.d)||g.d.kill(h)===!0)&&Yo(this,g,"_pt"),delete d[h]),b!=="all"&&(b[h]=1)}return this._initted&&!this._pt&&c&&Xt(this),this},e.to=function(r,i){return new e(r,i,arguments[2])},e.from=function(r,i){return oo(1,arguments)},e.delayedCall=function(r,i,s,a){return new e(i,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:i,onReverseComplete:i,onCompleteParams:s,onReverseCompleteParams:s,callbackScope:a})},e.fromTo=function(r,i,s){return oo(2,arguments)},e.set=function(r,i){return i.duration=0,i.repeatDelay||(i.repeat=0),new e(r,i)},e.killTweensOf=function(r,i,s){return Q.killTweensOf(r,i,s)},e}(vo);Pe(ie.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ye("staggerTo,staggerFrom,staggerFromTo",function(o){ie[o]=function(){var e=new be,t=yn.call(arguments,0);return t.splice(o==="staggerFromTo"?5:4,0,0),e[o].apply(e,t)}});var er=function(e,t,n){return e[t]=n},Cs=function(e,t,n){return e[t](n)},Gd=function(e,t,n,r){return e[t](r.fp,n)},Wd=function(e,t,n){return e.setAttribute(t,n)},tr=function(e,t){return te(e[t])?Cs:Wn(e[t])&&e.setAttribute?Wd:er},Ts=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Kd=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},ks=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},or=function(e,t){for(var n=t._pt;n;)n.r(e,n.d),n=n._next},Yd=function(e,t,n,r){for(var i=this._pt,s;i;)s=i._next,i.p===r&&i.modifier(e,t,n),i=s},jd=function(e){for(var t=this._pt,n,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?Yo(this,t,"_pt"):t.dep||(n=1),t=r;return!n},qd=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},Ss=function(e){for(var t=e._pt,n,r,i,s;t;){for(n=t._next,r=i;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:s)?t._prev._next=t:i=t,(t._next=r)?r._prev=t:s=t,t=n}e._pt=i},xe=function(){function o(t,n,r,i,s,a,l,u,c){this.t=n,this.s=i,this.c=s,this.p=r,this.r=a||Ts,this.d=l||this,this.set=u||er,this.pr=c||0,this._next=t,t&&(t._prev=this)}var e=o.prototype;return e.modifier=function(n,r,i){this.mSet=this.mSet||this.set,this.set=qd,this.m=n,this.mt=i,this.tween=r},o}();ye(Vn+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(o){return qn[o]=1});Oe.TweenMax=Oe.TweenLite=ie;Oe.TimelineLite=Oe.TimelineMax=be;Q=new be({sortChildren:!1,defaults:Nt,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Ae.stringFilter=bs;var xt=[],Po={},Vd=[],Nr=0,Xd=0,sn=function(e){return(Po[e]||Vd).map(function(t){return t()})},Tn=function(){var e=Date.now(),t=[];e-Nr>2&&(sn("matchMediaInit"),xt.forEach(function(n){var r=n.queries,i=n.conditions,s,a,l,u;for(a in r)s=He.matchMedia(r[a]).matches,s&&(l=1),s!==i[a]&&(i[a]=s,u=1);u&&(n.revert(),l&&t.push(n))}),sn("matchMediaRevert"),t.forEach(function(n){return n.onMatch(n,function(r){return n.add(null,r)})}),Nr=e,sn("matchMedia"))},Es=function(){function o(t,n){this.selector=n&&xn(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Xd++,t&&this.add(t)}var e=o.prototype;return e.add=function(n,r,i){te(n)&&(i=r,r=n,n=te);var s=this,a=function(){var u=X,c=s.selector,f;return u&&u!==s&&u.data.push(s),i&&(s.selector=xn(i)),X=s,f=r.apply(s,arguments),te(f)&&s._r.push(f),X=u,s.selector=c,s.isReverted=!1,f};return s.last=a,n===te?a(s,function(l){return s.add(null,l)}):n?s[n]=a:a},e.ignore=function(n){var r=X;X=null,n(this),X=r},e.getTweens=function(){var n=[];return this.data.forEach(function(r){return r instanceof o?n.push.apply(n,r.getTweens()):r instanceof ie&&!(r.parent&&r.parent.data==="nested")&&n.push(r)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,r){var i=this;if(n?function(){for(var a=i.getTweens(),l=i.data.length,u;l--;)u=i.data[l],u.data==="isFlip"&&(u.revert(),u.getChildren(!0,!0,!1).forEach(function(c){return a.splice(a.indexOf(c),1)}));for(a.map(function(c){return{g:c._dur||c._delay||c._sat&&!c._sat.vars.immediateRender?c.globalTime(0):-1/0,t:c}}).sort(function(c,f){return f.g-c.g||-1/0}).forEach(function(c){return c.t.revert(n)}),l=i.data.length;l--;)u=i.data[l],u instanceof be?u.data!=="nested"&&(u.scrollTrigger&&u.scrollTrigger.revert(),u.kill()):!(u instanceof ie)&&u.revert&&u.revert(n);i._r.forEach(function(c){return c(n,i)}),i.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var s=xt.length;s--;)xt[s].id===this.id&&xt.splice(s,1)},e.revert=function(n){this.kill(n||{})},o}(),Zd=function(){function o(t){this.contexts=[],this.scope=t,X&&X.data.push(this)}var e=o.prototype;return e.add=function(n,r,i){qe(n)||(n={matches:n});var s=new Es(0,i||this.scope),a=s.conditions={},l,u,c;X&&!s.selector&&(s.selector=X.selector),this.contexts.push(s),r=s.add("onMatch",r),s.queries=n;for(u in n)u==="all"?c=1:(l=He.matchMedia(n[u]),l&&(xt.indexOf(s)<0&&xt.push(s),(a[u]=l.matches)&&(c=1),l.addListener?l.addListener(Tn):l.addEventListener("change",Tn)));return c&&r(s,function(f){return s.add(null,f)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(r){return r.kill(n,!0)})},o}(),No={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach(function(r){return fs(r)})},timeline:function(e){return new be(e)},getTweensOf:function(e,t){return Q.getTweensOf(e,t)},getProperty:function(e,t,n,r){le(e)&&(e=Be(e)[0]);var i=vt(e||{}).get,s=n?Ji:Qi;return n==="native"&&(n=""),e&&(t?s((ke[t]&&ke[t].get||i)(e,t,n,r)):function(a,l,u){return s((ke[a]&&ke[a].get||i)(e,a,l,u))})},quickSetter:function(e,t,n){if(e=Be(e),e.length>1){var r=e.map(function(c){return Te.quickSetter(c,t,n)}),i=r.length;return function(c){for(var f=i;f--;)r[f](c)}}e=e[0]||{};var s=ke[t],a=vt(e),l=a.harness&&(a.harness.aliases||{})[t]||t,u=s?function(c){var f=new s;At._pt=0,f.init(e,n?c+n:c,At,0,[e]),f.render(1,f),At._pt&&or(1,At)}:a.set(e,l);return s?u:function(c){return u(e,l,n?c+n:c,a,1)}},quickTo:function(e,t,n){var r,i=Te.to(e,Pe((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),n||{})),s=function(l,u,c){return i.resetTo(t,l,u,c)};return s.tween=i,s},isTweening:function(e){return Q.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=yt(e.ease,Nt.ease)),Pr(Nt,e||{})},config:function(e){return Pr(Ae,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,s=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!ke[a]&&!Oe[a]&&ho(t+" effect requires "+a+" plugin.")}),tn[t]=function(a,l,u){return n(Be(a),Pe(l||{},i),u)},s&&(be.prototype[t]=function(a,l,u){return this.add(tn[t](a,qe(l)?l:(u=l)&&{},this),u)})},registerEase:function(e,t){G[e]=yt(t)},parseEase:function(e,t){return arguments.length?yt(e,t):G},getById:function(e){return Q.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var n=new be(e),r,i;for(n.smoothChildTiming=_e(e.smoothChildTiming),Q.remove(n),n._dp=0,n._time=n._tTime=Q._time,r=Q._first;r;)i=r._next,(t||!(!r._dur&&r instanceof ie&&r.vars.onComplete===r._targets[0]))&&Ge(n,r,r._start-r._delay),r=i;return Ge(Q,n,0),n},context:function(e,t){return e?new Es(e,t):X},matchMedia:function(e){return new Zd(e)},matchMediaRefresh:function(){return xt.forEach(function(e){var t=e.conditions,n,r;for(r in t)t[r]&&(t[r]=!1,n=1);n&&e.revert()})||Tn()},addEventListener:function(e,t){var n=Po[e]||(Po[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Po[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:Dd,wrapYoyo:Od,distribute:ss,random:ls,snap:as,normalize:Ad,getUnit:de,clamp:Td,splitColor:ps,toArray:Be,selector:xn,mapRange:cs,pipe:Sd,unitize:Ed,interpolate:Pd,shuffle:is},install:ji,effects:tn,ticker:Se,updateRoot:be.updateRoot,plugins:ke,globalTimeline:Q,core:{PropTween:xe,globals:qi,Tween:ie,Timeline:be,Animation:vo,getCache:vt,_removeLinkedListItem:Yo,reverting:function(){return ce},context:function(e){return e&&X&&(X.data.push(e),e._ctx=X),X},suppressOverwrites:function(e){return Gn=e}}};ye("to,from,fromTo,delayedCall,set,killTweensOf",function(o){return No[o]=ie[o]});Se.add(be.updateRoot);At=No.to({},{duration:0});var Qd=function(e,t){for(var n=e._pt;n&&n.p!==t&&n.op!==t&&n.fp!==t;)n=n._next;return n},Jd=function(e,t){var n=e._targets,r,i,s;for(r in t)for(i=n.length;i--;)s=e._ptLookup[i][r],s&&(s=s.d)&&(s._pt&&(s=Qd(s,r)),s&&s.modifier&&s.modifier(t[r],e,n[i],r))},an=function(e,t){return{name:e,headless:1,rawVars:1,init:function(r,i,s){s._onInit=function(a){var l,u;if(le(i)&&(l={},ye(i,function(c){return l[c]=1}),i=l),t){l={};for(u in i)l[u]=t(i[u]);i=l}Jd(a,i)}}}},Te=No.registerPlugin({name:"attr",init:function(e,t,n,r,i){var s,a,l;this.tween=n;for(s in t)l=e.getAttribute(s)||"",a=this.add(e,"setAttribute",(l||0)+"",t[s],r,i,0,0,s),a.op=s,a.b=l,this._props.push(s)},render:function(e,t){for(var n=t._pt;n;)ce?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,t){for(var n=t.length;n--;)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},an("roundProps",wn),an("modifiers"),an("snap",as))||No;ie.version=be.version=Te.version="3.13.0";Yi=1;Kn()&&$t();G.Power0;G.Power1;G.Power2;G.Power3;G.Power4;G.Linear;G.Quad;G.Cubic;G.Quart;G.Quint;G.Strong;G.Elastic;G.Back;G.SteppedEase;G.Bounce;G.Sine;G.Expo;G.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Rr,it,Mt,nr,gt,zr,rr,ef=function(){return typeof window<"u"},et={},bt=180/Math.PI,It=Math.PI/180,St=Math.atan2,Fr=1e8,ir=/([A-Z])/g,tf=/(left|right|width|margin|padding|x)/i,of=/[\s,\(]\S/,We={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},kn=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},nf=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},rf=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},sf=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},As=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},Ds=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},af=function(e,t,n){return e.style[t]=n},lf=function(e,t,n){return e.style.setProperty(t,n)},uf=function(e,t,n){return e._gsap[t]=n},cf=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},df=function(e,t,n,r,i){var s=e._gsap;s.scaleX=s.scaleY=n,s.renderTransform(i,s)},ff=function(e,t,n,r,i){var s=e._gsap;s[t]=n,s.renderTransform(i,s)},J="transform",we=J+"Origin",pf=function o(e,t){var n=this,r=this.target,i=r.style,s=r._gsap;if(e in et&&i){if(this.tfm=this.tfm||{},e!=="transform")e=We[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return n.tfm[a]=Ze(r,a)}):this.tfm[e]=s.x?s[e]:Ze(r,e),e===we&&(this.tfm.zOrigin=s.zOrigin);else return We.transform.split(",").forEach(function(a){return o.call(n,a,t)});if(this.props.indexOf(J)>=0)return;s.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(we,t,"")),e=J}(i||t)&&this.props.push(e,t,i[e])},Os=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},hf=function(){var e=this.props,t=this.target,n=t.style,r=t._gsap,i,s;for(i=0;i<e.length;i+=3)e[i+1]?e[i+1]===2?t[e[i]](e[i+2]):t[e[i]]=e[i+2]:e[i+2]?n[e[i]]=e[i+2]:n.removeProperty(e[i].substr(0,2)==="--"?e[i]:e[i].replace(ir,"-$1").toLowerCase());if(this.tfm){for(s in this.tfm)r[s]=this.tfm[s];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),i=rr(),(!i||!i.isStart)&&!n[J]&&(Os(n),r.zOrigin&&n[we]&&(n[we]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},Ps=function(e,t){var n={target:e,props:[],revert:hf,save:pf};return e._gsap||Te.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return n.save(r)}),n},Ms,Sn=function(e,t){var n=it.createElementNS?it.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):it.createElement(e);return n&&n.style?n:it.createElement(e)},Le=function o(e,t,n){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(ir,"-$1").toLowerCase())||r.getPropertyValue(t)||!n&&o(e,Ut(t)||t,1)||""},$r="O,Moz,ms,Ms,Webkit".split(","),Ut=function(e,t,n){var r=t||gt,i=r.style,s=5;if(e in i&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);s--&&!($r[s]+e in i););return s<0?null:(s===3?"ms":s>=0?$r[s]:"")+e},En=function(){ef()&&window.document&&(Rr=window,it=Rr.document,Mt=it.documentElement,gt=Sn("div")||{style:{}},Sn("div"),J=Ut(J),we=J+"Origin",gt.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Ms=!!Ut("perspective"),rr=Te.core.reverting,nr=1)},Ur=function(e){var t=e.ownerSVGElement,n=Sn("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),i;r.style.display="block",n.appendChild(r),Mt.appendChild(n);try{i=r.getBBox()}catch{}return n.removeChild(r),Mt.removeChild(n),i},Hr=function(e,t){for(var n=t.length;n--;)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Is=function(e){var t,n;try{t=e.getBBox()}catch{t=Ur(e),n=1}return t&&(t.width||t.height)||n||(t=Ur(e)),t&&!t.width&&!t.x&&!t.y?{x:+Hr(e,["x","cx","x1"])||0,y:+Hr(e,["y","cy","y1"])||0,width:0,height:0}:t},Bs=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&Is(e))},Ct=function(e,t){if(t){var n=e.style,r;t in et&&t!==we&&(t=J),n.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),n.removeProperty(r==="--"?t:t.replace(ir,"-$1").toLowerCase())):n.removeAttribute(t)}},st=function(e,t,n,r,i,s){var a=new xe(e._pt,t,n,0,1,s?Ds:As);return e._pt=a,a.b=r,a.e=i,e._props.push(n),a},Gr={deg:1,rad:1,turn:1},bf={grid:1,flex:1},ct=function o(e,t,n,r){var i=parseFloat(n)||0,s=(n+"").trim().substr((i+"").length)||"px",a=gt.style,l=tf.test(t),u=e.tagName.toLowerCase()==="svg",c=(u?"client":"offset")+(l?"Width":"Height"),f=100,d=r==="px",b=r==="%",y,h,g,p;if(r===s||!i||Gr[r]||Gr[s])return i;if(s!=="px"&&!d&&(i=o(e,t,n,"px")),p=e.getCTM&&Bs(e),(b||s==="%")&&(et[t]||~t.indexOf("adius")))return y=p?e.getBBox()[l?"width":"height"]:e[c],ne(b?i/y*f:i/100*y);if(a[l?"width":"height"]=f+(d?s:r),h=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!u?e:e.parentNode,p&&(h=(e.ownerSVGElement||{}).parentNode),(!h||h===it||!h.appendChild)&&(h=it.body),g=h._gsap,g&&b&&g.width&&l&&g.time===Se.time&&!g.uncache)return ne(i/g.width*f);if(b&&(t==="height"||t==="width")){var C=e.style[t];e.style[t]=f+r,y=e[c],C?e.style[t]=C:Ct(e,t)}else(b||s==="%")&&!bf[Le(h,"display")]&&(a.position=Le(e,"position")),h===e&&(a.position="static"),h.appendChild(gt),y=gt[c],h.removeChild(gt),a.position="absolute";return l&&b&&(g=vt(h),g.time=Se.time,g.width=h[c]),ne(d?y*i/f:y&&i?f/y*i:0)},Ze=function(e,t,n,r){var i;return nr||En(),t in We&&t!=="transform"&&(t=We[t],~t.indexOf(",")&&(t=t.split(",")[0])),et[t]&&t!=="transform"?(i=yo(e,r),i=t!=="transformOrigin"?i[t]:i.svg?i.origin:zo(Le(e,we))+" "+i.zOrigin+"px"):(i=e.style[t],(!i||i==="auto"||r||~(i+"").indexOf("calc("))&&(i=Ro[t]&&Ro[t](e,t,n)||Le(e,t)||Xi(e,t)||(t==="opacity"?1:0))),n&&!~(i+"").trim().indexOf(" ")?ct(e,t,i,n)+n:i},mf=function(e,t,n,r){if(!n||n==="none"){var i=Ut(t,e,1),s=i&&Le(e,i,1);s&&s!==n?(t=i,n=s):t==="borderColor"&&(n=Le(e,"borderTopColor"))}var a=new xe(this._pt,e.style,t,0,1,ks),l=0,u=0,c,f,d,b,y,h,g,p,C,k,x,v;if(a.b=n,a.e=r,n+="",r+="",r.substring(0,6)==="var(--"&&(r=Le(e,r.substring(4,r.indexOf(")")))),r==="auto"&&(h=e.style[t],e.style[t]=r,r=Le(e,t)||r,h?e.style[t]=h:Ct(e,t)),c=[n,r],bs(c),n=c[0],r=c[1],d=n.match(Et)||[],v=r.match(Et)||[],v.length){for(;f=Et.exec(r);)g=f[0],C=r.substring(l,f.index),y?y=(y+1)%5:(C.substr(-5)==="rgba("||C.substr(-5)==="hsla(")&&(y=1),g!==(h=d[u++]||"")&&(b=parseFloat(h)||0,x=h.substr((b+"").length),g.charAt(1)==="="&&(g=Pt(b,g)+x),p=parseFloat(g),k=g.substr((p+"").length),l=Et.lastIndex-k.length,k||(k=k||Ae.units[t]||x,l===r.length&&(r+=k,a.e+=k)),x!==k&&(b=ct(e,t,h,k)||0),a._pt={_next:a._pt,p:C||u===1?C:",",s:b,c:p-b,m:y&&y<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?Ds:As;return Wi.test(r)&&(a.e=0),this._pt=a,a},Wr={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},gf=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return(n==="top"||n==="bottom"||r==="left"||r==="right")&&(e=n,n=r,r=e),t[0]=Wr[n]||n,t[1]=Wr[r]||r,t.join(" ")},vf=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n=t.t,r=n.style,i=t.u,s=n._gsap,a,l,u;if(i==="all"||i===!0)r.cssText="",l=1;else for(i=i.split(","),u=i.length;--u>-1;)a=i[u],et[a]&&(l=1,a=a==="transformOrigin"?we:J),Ct(n,a);l&&(Ct(n,J),s&&(s.svg&&n.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",yo(n,1),s.uncache=1,Os(r)))}},Ro={clearProps:function(e,t,n,r,i){if(i.data!=="isFromStart"){var s=e._pt=new xe(e._pt,t,n,0,0,vf);return s.u=r,s.pr=-10,s.tween=i,e._props.push(n),1}}},_o=[1,0,0,1,0,0],Ls={},Ns=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Kr=function(e){var t=Le(e,J);return Ns(t)?_o:t.substr(7).match(Gi).map(ne)},sr=function(e,t){var n=e._gsap||vt(e),r=e.style,i=Kr(e),s,a,l,u;return n.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,i=[l.a,l.b,l.c,l.d,l.e,l.f],i.join(",")==="1,0,0,1,0,0"?_o:i):(i===_o&&!e.offsetParent&&e!==Mt&&!n.svg&&(l=r.display,r.display="block",s=e.parentNode,(!s||!e.offsetParent&&!e.getBoundingClientRect().width)&&(u=1,a=e.nextElementSibling,Mt.appendChild(e)),i=Kr(e),l?r.display=l:Ct(e,"display"),u&&(a?s.insertBefore(e,a):s?s.appendChild(e):Mt.removeChild(e))),t&&i.length>6?[i[0],i[1],i[4],i[5],i[12],i[13]]:i)},An=function(e,t,n,r,i,s){var a=e._gsap,l=i||sr(e,!0),u=a.xOrigin||0,c=a.yOrigin||0,f=a.xOffset||0,d=a.yOffset||0,b=l[0],y=l[1],h=l[2],g=l[3],p=l[4],C=l[5],k=t.split(" "),x=parseFloat(k[0])||0,v=parseFloat(k[1])||0,m,w,_,T;n?l!==_o&&(w=b*g-y*h)&&(_=x*(g/w)+v*(-h/w)+(h*C-g*p)/w,T=x*(-y/w)+v*(b/w)-(b*C-y*p)/w,x=_,v=T):(m=Is(e),x=m.x+(~k[0].indexOf("%")?x/100*m.width:x),v=m.y+(~(k[1]||k[0]).indexOf("%")?v/100*m.height:v)),r||r!==!1&&a.smooth?(p=x-u,C=v-c,a.xOffset=f+(p*b+C*h)-p,a.yOffset=d+(p*y+C*g)-C):a.xOffset=a.yOffset=0,a.xOrigin=x,a.yOrigin=v,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!n,e.style[we]="0px 0px",s&&(st(s,a,"xOrigin",u,x),st(s,a,"yOrigin",c,v),st(s,a,"xOffset",f,a.xOffset),st(s,a,"yOffset",d,a.yOffset)),e.setAttribute("data-svg-origin",x+" "+v)},yo=function(e,t){var n=e._gsap||new _s(e);if("x"in n&&!t&&!n.uncache)return n;var r=e.style,i=n.scaleX<0,s="px",a="deg",l=getComputedStyle(e),u=Le(e,we)||"0",c,f,d,b,y,h,g,p,C,k,x,v,m,w,_,T,E,M,L,F,ee,Y,K,j,ue,$e,tt,ot,oe,Ve,he,Me;return c=f=d=h=g=p=C=k=x=0,b=y=1,n.svg=!!(e.getCTM&&Bs(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[J]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[J]!=="none"?l[J]:"")),r.scale=r.rotate=r.translate="none"),w=sr(e,n.svg),n.svg&&(n.uncache?(ue=e.getBBox(),u=n.xOrigin-ue.x+"px "+(n.yOrigin-ue.y)+"px",j=""):j=!t&&e.getAttribute("data-svg-origin"),An(e,j||u,!!j||n.originIsAbsolute,n.smooth!==!1,w)),v=n.xOrigin||0,m=n.yOrigin||0,w!==_o&&(M=w[0],L=w[1],F=w[2],ee=w[3],c=Y=w[4],f=K=w[5],w.length===6?(b=Math.sqrt(M*M+L*L),y=Math.sqrt(ee*ee+F*F),h=M||L?St(L,M)*bt:0,C=F||ee?St(F,ee)*bt+h:0,C&&(y*=Math.abs(Math.cos(C*It))),n.svg&&(c-=v-(v*M+m*F),f-=m-(v*L+m*ee))):(Me=w[6],Ve=w[7],tt=w[8],ot=w[9],oe=w[10],he=w[11],c=w[12],f=w[13],d=w[14],_=St(Me,oe),g=_*bt,_&&(T=Math.cos(-_),E=Math.sin(-_),j=Y*T+tt*E,ue=K*T+ot*E,$e=Me*T+oe*E,tt=Y*-E+tt*T,ot=K*-E+ot*T,oe=Me*-E+oe*T,he=Ve*-E+he*T,Y=j,K=ue,Me=$e),_=St(-F,oe),p=_*bt,_&&(T=Math.cos(-_),E=Math.sin(-_),j=M*T-tt*E,ue=L*T-ot*E,$e=F*T-oe*E,he=ee*E+he*T,M=j,L=ue,F=$e),_=St(L,M),h=_*bt,_&&(T=Math.cos(_),E=Math.sin(_),j=M*T+L*E,ue=Y*T+K*E,L=L*T-M*E,K=K*T-Y*E,M=j,Y=ue),g&&Math.abs(g)+Math.abs(h)>359.9&&(g=h=0,p=180-p),b=ne(Math.sqrt(M*M+L*L+F*F)),y=ne(Math.sqrt(K*K+Me*Me)),_=St(Y,K),C=Math.abs(_)>2e-4?_*bt:0,x=he?1/(he<0?-he:he):0),n.svg&&(j=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!Ns(Le(e,J)),j&&e.setAttribute("transform",j))),Math.abs(C)>90&&Math.abs(C)<270&&(i?(b*=-1,C+=h<=0?180:-180,h+=h<=0?180:-180):(y*=-1,C+=C<=0?180:-180)),t=t||n.uncache,n.x=c-((n.xPercent=c&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-c)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+s,n.y=f-((n.yPercent=f&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+s,n.z=d+s,n.scaleX=ne(b),n.scaleY=ne(y),n.rotation=ne(h)+a,n.rotationX=ne(g)+a,n.rotationY=ne(p)+a,n.skewX=C+a,n.skewY=k+a,n.transformPerspective=x+s,(n.zOrigin=parseFloat(u.split(" ")[2])||!t&&n.zOrigin||0)&&(r[we]=zo(u)),n.xOffset=n.yOffset=0,n.force3D=Ae.force3D,n.renderTransform=n.svg?yf:Ms?Rs:_f,n.uncache=0,n},zo=function(e){return(e=e.split(" "))[0]+" "+e[1]},ln=function(e,t,n){var r=de(t);return ne(parseFloat(t)+parseFloat(ct(e,"x",n+"px",r)))+r},_f=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,Rs(e,t)},pt="0deg",Vt="0px",ht=") ",Rs=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,a=n.y,l=n.z,u=n.rotation,c=n.rotationY,f=n.rotationX,d=n.skewX,b=n.skewY,y=n.scaleX,h=n.scaleY,g=n.transformPerspective,p=n.force3D,C=n.target,k=n.zOrigin,x="",v=p==="auto"&&e&&e!==1||p===!0;if(k&&(f!==pt||c!==pt)){var m=parseFloat(c)*It,w=Math.sin(m),_=Math.cos(m),T;m=parseFloat(f)*It,T=Math.cos(m),s=ln(C,s,w*T*-k),a=ln(C,a,-Math.sin(m)*-k),l=ln(C,l,_*T*-k+k)}g!==Vt&&(x+="perspective("+g+ht),(r||i)&&(x+="translate("+r+"%, "+i+"%) "),(v||s!==Vt||a!==Vt||l!==Vt)&&(x+=l!==Vt||v?"translate3d("+s+", "+a+", "+l+") ":"translate("+s+", "+a+ht),u!==pt&&(x+="rotate("+u+ht),c!==pt&&(x+="rotateY("+c+ht),f!==pt&&(x+="rotateX("+f+ht),(d!==pt||b!==pt)&&(x+="skew("+d+", "+b+ht),(y!==1||h!==1)&&(x+="scale("+y+", "+h+ht),C.style[J]=x||"translate(0, 0)"},yf=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,s=n.x,a=n.y,l=n.rotation,u=n.skewX,c=n.skewY,f=n.scaleX,d=n.scaleY,b=n.target,y=n.xOrigin,h=n.yOrigin,g=n.xOffset,p=n.yOffset,C=n.forceCSS,k=parseFloat(s),x=parseFloat(a),v,m,w,_,T;l=parseFloat(l),u=parseFloat(u),c=parseFloat(c),c&&(c=parseFloat(c),u+=c,l+=c),l||u?(l*=It,u*=It,v=Math.cos(l)*f,m=Math.sin(l)*f,w=Math.sin(l-u)*-d,_=Math.cos(l-u)*d,u&&(c*=It,T=Math.tan(u-c),T=Math.sqrt(1+T*T),w*=T,_*=T,c&&(T=Math.tan(c),T=Math.sqrt(1+T*T),v*=T,m*=T)),v=ne(v),m=ne(m),w=ne(w),_=ne(_)):(v=f,_=d,m=w=0),(k&&!~(s+"").indexOf("px")||x&&!~(a+"").indexOf("px"))&&(k=ct(b,"x",s,"px"),x=ct(b,"y",a,"px")),(y||h||g||p)&&(k=ne(k+y-(y*v+h*w)+g),x=ne(x+h-(y*m+h*_)+p)),(r||i)&&(T=b.getBBox(),k=ne(k+r/100*T.width),x=ne(x+i/100*T.height)),T="matrix("+v+","+m+","+w+","+_+","+k+","+x+")",b.setAttribute("transform",T),C&&(b.style[J]=T)},xf=function(e,t,n,r,i){var s=360,a=le(i),l=parseFloat(i)*(a&&~i.indexOf("rad")?bt:1),u=l-r,c=r+u+"deg",f,d;return a&&(f=i.split("_")[1],f==="short"&&(u%=s,u!==u%(s/2)&&(u+=u<0?s:-360)),f==="cw"&&u<0?u=(u+s*Fr)%s-~~(u/s)*s:f==="ccw"&&u>0&&(u=(u-s*Fr)%s-~~(u/s)*s)),e._pt=d=new xe(e._pt,t,n,r,u,nf),d.e=c,d.u="deg",e._props.push(n),d},Yr=function(e,t){for(var n in t)e[n]=t[n];return e},wf=function(e,t,n){var r=Yr({},n._gsap),i="perspective,force3D,transformOrigin,svgOrigin",s=n.style,a,l,u,c,f,d,b,y;r.svg?(u=n.getAttribute("transform"),n.setAttribute("transform",""),s[J]=t,a=yo(n,1),Ct(n,J),n.setAttribute("transform",u)):(u=getComputedStyle(n)[J],s[J]=t,a=yo(n,1),s[J]=u);for(l in et)u=r[l],c=a[l],u!==c&&i.indexOf(l)<0&&(b=de(u),y=de(c),f=b!==y?ct(n,l,u,y):parseFloat(u),d=parseFloat(c),e._pt=new xe(e._pt,a,l,f,d-f,kn),e._pt.u=y||0,e._props.push(l));Yr(a,r)};ye("padding,margin,Width,Radius",function(o,e){var t="Top",n="Right",r="Bottom",i="Left",s=(e<3?[t,n,r,i]:[t+i,t+n,r+n,r+i]).map(function(a){return e<2?o+a:"border"+a+o});Ro[e>1?"border"+o:o]=function(a,l,u,c,f){var d,b;if(arguments.length<4)return d=s.map(function(y){return Ze(a,y,u)}),b=d.join(" "),b.split(d[0]).length===5?d[0]:b;d=(c+"").split(" "),b={},s.forEach(function(y,h){return b[y]=d[h]=d[h]||d[(h-1)/2|0]}),a.init(l,b,f)}});var zs={name:"css",register:En,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var s=this._props,a=e.style,l=n.vars.startAt,u,c,f,d,b,y,h,g,p,C,k,x,v,m,w,_;nr||En(),this.styles=this.styles||Ps(e),_=this.styles.props,this.tween=n;for(h in t)if(h!=="autoRound"&&(c=t[h],!(ke[h]&&ys(h,t,n,r,e,i)))){if(b=typeof c,y=Ro[h],b==="function"&&(c=c.call(n,r,e,i),b=typeof c),b==="string"&&~c.indexOf("random(")&&(c=mo(c)),y)y(this,e,h,c,n)&&(w=1);else if(h.substr(0,2)==="--")u=(getComputedStyle(e).getPropertyValue(h)+"").trim(),c+="",lt.lastIndex=0,lt.test(u)||(g=de(u),p=de(c)),p?g!==p&&(u=ct(e,h,u,p)+p):g&&(c+=g),this.add(a,"setProperty",u,c,r,i,0,0,h),s.push(h),_.push(h,0,a[h]);else if(b!=="undefined"){if(l&&h in l?(u=typeof l[h]=="function"?l[h].call(n,r,e,i):l[h],le(u)&&~u.indexOf("random(")&&(u=mo(u)),de(u+"")||u==="auto"||(u+=Ae.units[h]||de(Ze(e,h))||""),(u+"").charAt(1)==="="&&(u=Ze(e,h))):u=Ze(e,h),d=parseFloat(u),C=b==="string"&&c.charAt(1)==="="&&c.substr(0,2),C&&(c=c.substr(2)),f=parseFloat(c),h in We&&(h==="autoAlpha"&&(d===1&&Ze(e,"visibility")==="hidden"&&f&&(d=0),_.push("visibility",0,a.visibility),st(this,a,"visibility",d?"inherit":"hidden",f?"inherit":"hidden",!f)),h!=="scale"&&h!=="transform"&&(h=We[h],~h.indexOf(",")&&(h=h.split(",")[0]))),k=h in et,k){if(this.styles.save(h),b==="string"&&c.substring(0,6)==="var(--"&&(c=Le(e,c.substring(4,c.indexOf(")"))),f=parseFloat(c)),x||(v=e._gsap,v.renderTransform&&!t.parseTransform||yo(e,t.parseTransform),m=t.smoothOrigin!==!1&&v.smooth,x=this._pt=new xe(this._pt,a,J,0,1,v.renderTransform,v,0,-1),x.dep=1),h==="scale")this._pt=new xe(this._pt,v,"scaleY",v.scaleY,(C?Pt(v.scaleY,C+f):f)-v.scaleY||0,kn),this._pt.u=0,s.push("scaleY",h),h+="X";else if(h==="transformOrigin"){_.push(we,0,a[we]),c=gf(c),v.svg?An(e,c,0,m,0,this):(p=parseFloat(c.split(" ")[2])||0,p!==v.zOrigin&&st(this,v,"zOrigin",v.zOrigin,p),st(this,a,h,zo(u),zo(c)));continue}else if(h==="svgOrigin"){An(e,c,1,m,0,this);continue}else if(h in Ls){xf(this,v,h,d,C?Pt(d,C+c):c);continue}else if(h==="smoothOrigin"){st(this,v,"smooth",v.smooth,c);continue}else if(h==="force3D"){v[h]=c;continue}else if(h==="transform"){wf(this,c,e);continue}}else h in a||(h=Ut(h)||h);if(k||(f||f===0)&&(d||d===0)&&!of.test(c)&&h in a)g=(u+"").substr((d+"").length),f||(f=0),p=de(c)||(h in Ae.units?Ae.units[h]:g),g!==p&&(d=ct(e,h,u,p)),this._pt=new xe(this._pt,k?v:a,h,d,(C?Pt(d,C+f):f)-d,!k&&(p==="px"||h==="zIndex")&&t.autoRound!==!1?sf:kn),this._pt.u=p||0,g!==p&&p!=="%"&&(this._pt.b=u,this._pt.r=rf);else if(h in a)mf.call(this,e,h,u,C?C+c:c);else if(h in e)this.add(e,h,u||e[h],C?C+c:c,r,i);else if(h!=="parseTransform"){jn(h,c);continue}k||(h in a?_.push(h,0,a[h]):typeof e[h]=="function"?_.push(h,2,e[h]()):_.push(h,1,u||e[h])),s.push(h)}}w&&Ss(this)},render:function(e,t){if(t.tween._time||!rr())for(var n=t._pt;n;)n.r(e,n.d),n=n._next;else t.styles.revert()},get:Ze,aliases:We,getSetter:function(e,t,n){var r=We[t];return r&&r.indexOf(",")<0&&(t=r),t in et&&t!==we&&(e._gsap.x||Ze(e,"x"))?n&&zr===n?t==="scale"?cf:uf:(zr=n||{})&&(t==="scale"?df:ff):e.style&&!Wn(e.style[t])?af:~t.indexOf("-")?lf:tr(e,t)},core:{_removeProperty:Ct,_getMatrix:sr}};Te.utils.checkPrefix=Ut;Te.core.getStyleSaver=Ps;(function(o,e,t,n){var r=ye(o+","+e+","+t,function(i){et[i]=1});ye(e,function(i){Ae.units[i]="deg",Ls[i]=1}),We[r[13]]=o+","+e,ye(n,function(i){var s=i.split(":");We[s[1]]=r[s[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ye("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(o){Ae.units[o]="px"});Te.registerPlugin(zs);var Wt=Te.registerPlugin(zs)||Te;Wt.core.Tween;const Tt=500,Cf=()=>{const o=new Map,e=new Map,t=async(i,s)=>{s.set(i,0);for(let a=0;a<=Tt;a++)setTimeout(()=>{s.set(i,a)},1*a);await new Promise(a=>setTimeout(a,Tt)),s.delete(i)};return{animateIn:i=>t(i,e),animateOut:i=>t(i,o),itemsAnimatingIn:e,itemsAnimatingOut:o,isAnimating:i=>e.has(i)||o.has(i)}},{mapRange:Tf}=Wt.utils,Re=(o,e)=>Tf(Tt*o,Tt*e,0,1),Ht=(o,e,t)=>t>=o&&t<=e,kf=(o,e)=>{const t=o/1e3;return Math.floor(e*t)},To={linear:o=>o,in:o=>o*o,out:o=>o*(2-o),"in-out":o=>o<.5?2*o*o:-1+(4-2*o)*o},Sf={easeFn:"in-out"},Ef=o=>{const{start:e,end:t,numberOfSteps:n,easeFn:r}={...Sf,...o};if(n<1)throw new Error(`numberOfSteps must be greater than 0, got ${n}`);if(!Number.isInteger(n))throw new Error(`numberOfSteps must be an integer, got ${n}`);const i=[],s=typeof r=="string"?To[r]:r;for(let a=1;a<=n;a++){const l=a/n,u=s(l),c=Math.round(e.x+(t.x-e.x)*u),f=Math.round(e.y+(t.y-e.y)*u);i.push({x:c,y:f})}return i},Af={durationMs:1e3,frameRate:60},Df=o=>{const{durationMs:e,frameRate:t}={...Af,...o},n=Ef({...o,numberOfSteps:kf(e,t)});return{coords:n,timePerFrameMs:Math.floor(e/n.length)}},{interpolate:Vo}=Wt.utils,Xo=To["in-out"],Of=o=>e=>{const t=Re(0,1),n=Xo(t(o));return{radius:Vo(0,e.radius)(n)}},Pf=o=>e=>{const t=Re(0,1),n=Xo(t(o));return{radius:Vo(e.radius,0)(n)}},Mf=o=>e=>{if(e.textArea===void 0)return e;const t=Re(0,1),n=Xo(t(o)),r=Vo(0,e.textArea.textBlock.fontSize);return{...e,textArea:{...e.textArea,textBlock:{...e.textArea.textBlock,fontSize:r(n)}}}},If=o=>e=>{if(e.textArea===void 0)return e;const t=Re(0,1),n=Xo(t(o)),r=Vo(e.textArea.textBlock.fontSize,0);return{...e,textArea:{...e.textArea,textBlock:{...e.textArea.textBlock,fontSize:r(n)}}}},Bf=(o,{circle:e})=>t=>e({...t,...Mf(o)(t),...Of(o)(t)}),Lf=(o,{circle:e})=>t=>e({...t,...If(o)(t),...Pf(o)(t)}),Nf=({animationController:o,shapes:e})=>t=>{const{itemsAnimatingIn:n,itemsAnimatingOut:r}=o,i=n.get(t.id);if(i!==void 0)return Bf(i,e)(t);const s=r.get(t.id);return s!==void 0?Lf(s,e)(t):e.circle(t)},Rf=(o,e)=>{const t=Nf(e),{getTheme:n}=e,r=n("nodeColor",o),i=n("nodeBorderColor",o),s=n("nodeSize",o),a=n("nodeBorderWidth",o),l=n("nodeText",o),u=n("nodeTextSize",o),c=n("nodeTextColor",o),f=n("nodeShape",o),d=t({id:o.id,at:{x:o.x,y:o.y},radius:s,fillColor:r,stroke:{color:i,lineWidth:a},textArea:{textBlock:{content:l,fontSize:u,fontWeight:"bold",color:c},color:A.TRANSPARENT}}),b=e.shapes.square({id:o.id,at:{x:o.x-s,y:o.y-s},size:s*2,fillColor:r,stroke:{color:i,lineWidth:a},textArea:{textBlock:{content:l,fontSize:u,fontWeight:"bold",color:c},color:A.TRANSPARENT}});return{shape:f==="circle"?d:b,id:o.id,graphType:"node"}},Fe={IN:{BODY:[0,.75],TEXT_AREA:[.75,1]}},zf=o=>e=>{const{color:t,textBlock:n}=e,{color:r}=n;if(!t||!r)return e;const i=l=>$o(l).setAlpha(o).toRgbString(),s=i(t),a=i(r);return{...e,color:s,text:{...n,color:a}}},ar=o=>e=>{if(!e)return;const n=Re(...Fe.IN.TEXT_AREA)(o);return zf(n)(e)},lr=o=>e=>{if(!e)return;const n=1-Re(0,1)(o),{color:r}=e.textBlock;if(!r)return e;const s=(a=>$o(a).setAlpha(n).toRgbString())(r);return{...e,text:{...e.textBlock,color:s}}},{interpolate:Dn,normalize:Ff}=Wt.utils,Fs=To["in-out"],$f=o=>e=>{const t=Re(...Fe.IN.BODY),n=Fs(t(o)),r=Dn(e.start,e.end),i=Dn(0,e.lineWidth);return{end:r(n),lineWidth:i(n)}},Uf=o=>e=>{const t=Re(0,1),n=Fs(t(o));return{lineWidth:Dn(e.lineWidth,0)(n)}},Hf=(o,e)=>t=>{const n=Ff(0,Tt,o);return Ht(Fe.IN.BODY[0],Fe.IN.BODY[1],n)?e.arrow({...t,...$f(o)(t),textArea:void 0}):Ht(Fe.IN.TEXT_AREA[0],Fe.IN.TEXT_AREA[1],n)?e.arrow({...t,textArea:ar(o)(t.textArea)}):e.arrow(t)},Gf=(o,e)=>t=>e.arrow({...t,...Uf(o)(t),textArea:lr(o)(t.textArea)}),Wf=({animationController:o,shapes:e})=>t=>{const{itemsAnimatingIn:n,itemsAnimatingOut:r}=o,i=n.get(t.id);if(i!==void 0)return Hf(i,e)(t);const s=r.get(t.id);return s!==void 0?Gf(s,e)(t):e.arrow(t)},{interpolate:$s,normalize:Kf}=Wt.utils,Us=To["in-out"],Yf=o=>e=>{const t=Re(...Fe.IN.BODY),n=Us(t(o));return{lineWidth:$s(0,e.lineWidth)(n)}},jf=o=>e=>{const t=Re(0,1),n=Us(t(o));return{lineWidth:$s(e.lineWidth,0)(n)}},qf=(o,e)=>t=>{const n=Kf(0,Tt,o);return Ht(Fe.IN.BODY[0],Fe.IN.BODY[1],n)?e.line({...t,...Yf(o)(t),textArea:void 0}):Ht(Fe.IN.TEXT_AREA[0],Fe.IN.TEXT_AREA[1],n)?e.line({...t,textArea:ar(o)(t.textArea)}):e.line(t)},Vf=(o,e)=>t=>e.line({...t,...jf(o)(t),textArea:lr(o)(t.textArea)}),Xf=({animationController:o,shapes:e})=>t=>{const{itemsAnimatingIn:n,itemsAnimatingOut:r}=o,i=n.get(t.id);if(i!==void 0)return qf(i,e)(t);const s=r.get(t.id);return s!==void 0?Vf(s,e)(t):e.line(t)},Qt={IN:{BODY:[0,.75],TEXT_AREA:[.75,1]}},{interpolate:Hs,normalize:Zf}=Wt.utils,Gs=To["in-out"],Qf=o=>e=>{const t=Re(...Qt.IN.BODY),n=Gs(t(o));return{lineWidth:Hs(1e-5,e.lineWidth)(n)}},Jf=o=>e=>{const t=Re(0,1),n=Gs(t(o));return{lineWidth:Hs(e.lineWidth,1e-5)(n)}},ep=(o,e)=>t=>{const n=Zf(0,Tt,o);return Ht(Qt.IN.BODY[0],Qt.IN.BODY[1],n)?e.uturn({...t,...Qf(o)(t),textArea:void 0}):Ht(Qt.IN.TEXT_AREA[0],Qt.IN.TEXT_AREA[1],n)?e.uturn({...t,textArea:ar(o)(t.textArea)}):e.uturn(t)},tp=(o,e)=>t=>e.uturn({...t,...Jf(o)(t),textArea:lr(o)(t.textArea)}),op=({animationController:o,shapes:e})=>t=>{const{itemsAnimatingIn:n,itemsAnimatingOut:r}=o,i=n.get(t.id);if(i!==void 0)return ep(i,e)(t);const s=r.get(t.id);return s!==void 0?tp(s,e)(t):e.uturn(t)},jr=2,np=(o,e)=>{const{displayEdgeLabels:t,isGraphDirected:n}=e.settings.value,r=Wf(e),i=Xf(e),s=op(e),[a,l]=fn(o.id,e),c=pi(a.id,l.id,e).length>1,f=l===a,d=e.getTheme("nodeBorderWidth",a),b=e.getTheme("nodeBorderWidth",l),y=e.getTheme("nodeSize",a),h=e.getTheme("nodeSize",l),g=Math.atan2(l.y-a.y,l.x-a.x),p=b/2+jr,C={x:(h+p)*Math.cos(g),y:(h+p)*Math.sin(g)},k={x:a.x,y:a.y},x={x:l.x-(n?C.x:0),y:l.y-(n?C.y:0)},v=e.getTheme("edgeWidth",o),m=Math.max(v*1.2,7);c&&(k.x+=Math.cos(g+Math.PI/2)*m,k.y+=Math.sin(g+Math.PI/2)*m,x.x+=Math.cos(g+Math.PI/2)*m,x.y+=Math.sin(g+Math.PI/2)*m);const w=$a(k,e.edges.value.filter(oe=>(oe.from===a.id||oe.to===l.id)&&oe.from!==oe.to).map(oe=>{const[Ve,he]=fn(oe.id,e);return a.id===Ve.id?he:Ve}).filter((oe,Ve,he)=>Ve===he.findIndex(Me=>Me.x===oe.x&&Me.y===oe.y))),_=e.getTheme("edgeColor",o),T=e.getTheme("edgeTextColor",o),E=e.getTheme("graphBgColor"),M=e.getTheme("edgeText",o),L=e.getTheme("edgeTextSize",o),F=e.getTheme("edgeTextFontWeight",o),Y=t?{color:E,activeColor:E,textBlock:{content:M,color:T,fontSize:L,fontWeight:F}}:void 0,K=(y+d)*Ua,j=K-(y+d/2)-jr;if(f)return{shape:s({id:o.id,spacing:v*1.2,at:{x:a.x,y:a.y},upDistance:K,downDistance:j,rotation:w,lineWidth:v,fillColor:_,textArea:Y}),id:o.id,graphType:"edge"};const ue=y+d/2+h+b/2,$e=(a.x-l.x)**2+(a.y-l.y)**2;return ue**2>$e?void 0:n?{shape:r({id:o.id,start:k,end:x,lineWidth:v,textOffsetFromCenter:(y+d/2)/2,fillColor:_,textArea:Y}),id:o.id,graphType:"edge"}:{shape:i({id:o.id,start:k,end:x,lineWidth:v,fillColor:_,textArea:Y}),id:o.id,graphType:"edge"}},ur={nodeShape:"circle",nodeSize:35,nodeBorderWidth:8,nodeTextSize:24,nodeAnchorRadius:Math.ceil(Math.sqrt(35)*2),edgeWidth:10,edgeTextSize:20,nodeText:({label:o})=>o,edgeText:({label:o})=>o,edgeTextFontWeight:"bold",linkPreviewWidth:10},rp="rgb(100, 60, 70)",ip={nodeBorderColor:A.BLACK,nodeColor:A.STONE_600,nodeTextColor:A.WHITE,nodeFocusBorderColor:A.RED_700,nodeFocusColor:rp,nodeFocusTextColor:A.WHITE,edgeColor:A.STONE_900,edgeFocusColor:A.RED_700,edgeFocusTextColor:A.WHITE,edgeTextColor:A.WHITE,graphBgColor:A.GRAY_600,graphBgPatternColor:A.GRAY_500,nodeAnchorColorWhenParentFocused:A.RED_900,nodeAnchorColor:A.GRAY_900,linkPreviewColor:A.BLACK,marqueeSelectionBoxColor:A.WHITE+"15",marqueeSelectionBoxBorderColor:A.WHITE,marqueeEncapsulatedNodeBoxBorderColor:A.RED_700,marqueeEncapsulatedNodeBoxColor:A.RED_700+"20",...ur},sp={nodeColor:A.GRAY_50,nodeBorderColor:A.GRAY_800,nodeFocusBorderColor:A.BLUE_600,nodeFocusColor:A.BLUE_100,nodeTextColor:A.GRAY_900,nodeFocusTextColor:A.GRAY_900,edgeColor:A.GRAY_800,edgeTextColor:A.GRAY_900,edgeFocusColor:A.BLUE_600,edgeFocusTextColor:A.BLACK,graphBgColor:A.GRAY_200,graphBgPatternColor:A.GRAY_500,nodeAnchorColor:A.BLACK,nodeAnchorColorWhenParentFocused:A.BLUE_900,linkPreviewColor:A.BLACK,marqueeSelectionBoxColor:A.BLUE_300+"15",marqueeSelectionBoxBorderColor:A.BLUE_500,marqueeEncapsulatedNodeBoxBorderColor:A.BLUE_700,marqueeEncapsulatedNodeBoxColor:A.BLUE_700+"05",...ur},ap={nodeColor:A.PINK_100,nodeBorderColor:A.PINK_400,nodeFocusBorderColor:A.PURPLE_600,nodeFocusColor:A.PURPLE_200,nodeTextColor:A.PINK_600,nodeFocusTextColor:A.PURPLE_900,edgeColor:A.PINK_600,edgeTextColor:A.PINK_600,edgeFocusColor:A.PURPLE_600,edgeFocusTextColor:A.PURPLE_600,graphBgColor:A.PINK_300,graphBgPatternColor:A.PURPLE_200,nodeAnchorColor:A.PINK_500,nodeAnchorColorWhenParentFocused:A.PURPLE_700,linkPreviewColor:A.PINK_900,marqueeSelectionBoxColor:A.PINK_300+"15",marqueeSelectionBoxBorderColor:A.PINK_500,marqueeEncapsulatedNodeBoxBorderColor:A.PINK_700,marqueeEncapsulatedNodeBoxColor:A.PINK_700+"05",...ur},cr={light:sp,dark:ip,pink:ap},lp=Object.keys(cr),Eh=(o,e)=>({nodeSize:o("nodeSize",e),nodeBorderWidth:o("nodeBorderWidth",e),nodeColor:o("nodeColor",e),nodeBorderColor:o("nodeBorderColor",e),nodeTextSize:o("nodeTextSize",e),nodeTextColor:o("nodeTextColor",e),nodeText:o("nodeText",e),nodeShape:o("nodeShape",e)}),up=()=>({nodeSize:[],nodeBorderWidth:[],nodeColor:[],nodeBorderColor:[],nodeFocusColor:[],nodeFocusBorderColor:[],nodeText:[],nodeFocusTextColor:[],nodeTextSize:[],nodeTextColor:[],nodeShape:[],edgeColor:[],edgeWidth:[],edgeText:[],edgeTextSize:[],edgeTextColor:[],edgeFocusTextColor:[],edgeTextFontWeight:[],edgeFocusColor:[],graphBgColor:[],graphBgPatternColor:[],nodeAnchorRadius:[],nodeAnchorColor:[],nodeAnchorColorWhenParentFocused:[],linkPreviewColor:[],linkPreviewWidth:[],marqueeSelectionBoxColor:[],marqueeSelectionBoxBorderColor:[],marqueeEncapsulatedNodeBoxColor:[],marqueeEncapsulatedNodeBoxBorderColor:[]}),cp=o=>Object.prototype.toString.call(o)==="[object Object]",Ws=(o,e)=>{const t={};if(!o)return e;if(!e)return null;const n=Object.keys(o),r=Object.keys(e);for(const i of r)n.includes(i)||(t[i]=e[i]);for(const i of n){if(cp(o[i])){const s=Ws(o[i],e[i]);s&&(t[i]=s);continue}if(Array.isArray(o[i])){JSON.stringify(o[i])!==JSON.stringify(e[i])&&(t[i]=e[i]);continue}else o[i]!==e[i]&&(t[i]=e[i])}return Object.keys(t).length?t:null},On=o=>{const e={...o};for(const t in e)typeof e[t]=="object"&&(e[t]=On(e[t]));return e},dp=o=>({subscribe:(e,t)=>o[e].add(t),unsubscribe:(e,t)=>o[e].delete(t),emit:(e,...t)=>{for(const n of o[e])n(...t)}}),fp=()=>({onStructureChange:new Set,onNodeAdded:new Set,onBulkNodeAdded:new Set,onNodeRemoved:new Set,onBulkNodeRemoved:new Set,onNodeMoved:new Set,onBulkNodeMoved:new Set,onEdgeAdded:new Set,onBulkEdgeAdded:new Set,onEdgeRemoved:new Set,onBulkEdgeRemoved:new Set,onEdgeLabelEdited:new Set,onDraw:new Set,onNodeHoverChange:new Set,onGraphLoaded:new Set,onGraphReset:new Set,onClick:new Set,onMouseDown:new Set,onMouseUp:new Set,onMouseMove:new Set,onDblClick:new Set,onContextMenu:new Set,onKeyDown:new Set,onKeyUp:new Set,onThemeChange:new Set,onSettingsChange:new Set,onUndo:new Set,onRedo:new Set,onFocusChange:new Set,onNodeDragStart:new Set,onNodeDrop:new Set,onNodeAnchorDragStart:new Set,onNodeAnchorDrop:new Set,onGroupDragStart:new Set,onGroupDrop:new Set,onMarqueeBeginSelection:new Set,onMarqueeEndSelection:new Set}),qr=o=>o==null,pp=o=>{const e=o.trim().split("/").filter(Boolean);if(e.length!==2)return!1;const[t,n]=e.map(Number);return!(qr(t)||qr(n))},hp=o=>{if(!pp(o))return;const e=o.split("/"),[t,n]=e.map(Number);return t/n},bp={displayEdgeLabels:!0,edgeLabelsEditable:!0,edgeInputToLabel:o=>{var n;const e=o.trim();if(!e)return;const t=(n=hp(e))==null?void 0:n.toFixed(2);return t==="Infinity"?"∞":t==="-Infinity"?"-∞":t===void 0&&isNaN(Number(e))?void 0:t??e},newNodeLabelGetter:null,isGraphDirected:!0},mp={focusable:!0,focusBlacklist:[]},gp={draggable:!0},vp={nodeAnchors:!0},_p={marquee:!0,marqueeSelectableGraphTypes:["node","edge"]},yp={interactive:!0,userAddedEdgeLabel:"1",userAddedEdgeRuleNoSelfLoops:!1,userAddedEdgeRuleOneEdgePerPath:!1},xp={persistent:!0,persistentStorageKey:"graph",persistentBlacklist:new Set},wp={shortcuts:!0,shortcutUndo:!0,shortcutRedo:!0,shortcutSelectAll:!0,shortcutDelete:!0,shortcutEscape:!0,shortcutZoomIn:!0,shortcutZoomOut:!0},Cp={...bp,...mp,...gp,...vp,..._p,...yp,...xp,...wp},Vr=(o,...e)=>typeof o=="function"?o(...e):o,Tp=(o,e)=>(t,...n)=>{const r=e[t].findLast(s=>{const a=s.value;return Vr(a,...n)!==void 0}),i=(r==null?void 0:r.value)??cr[o.value][t];if(!i)throw new Error(`Theme property "${t}" not found`);return Vr(i,...n)},kp=(o,e)=>{const t=D(()=>{const r=new Map;for(const i of o.value)r.set(i.id,i);return r}),n=D(()=>{const r=new Map;for(const i of e.value)r.set(i.id,i);return r});return{nodeIdToNodeMap:t,edgeIdToEdgeMap:n}},Sp=({emit:o})=>{const e=O([]),t=[],n=()=>{const s=t.reduce((a,l)=>l(a),[]);e.value=[...s.sort((a,l)=>a.priority-l.priority)]};return{aggregator:e,subscribeToAggregator:t,updateAggregator:n,getSchemaItemsByCoordinates:s=>e.value.sort((a,l)=>a.priority-l.priority).filter(a=>{var l,u;return a.shape.shapeHitbox(s)||((u=(l=a.shape).textHitbox)==null?void 0:u.call(l,s))}),draw:s=>{var c,f,d,b;n();const a=e.value.findLastIndex(y=>y.graphType==="edge"),l=e.value.slice(0,a+1),u=e.value.slice(a+1);for(const y of l)y.shape.drawShape(s);for(const y of l)(f=(c=y.shape).drawTextAreaMatte)==null||f.call(c,s);for(const y of l)(b=(d=y.shape).drawText)==null||b.call(d,s);for(const y of u)y.shape.draw(s);o("onDraw",s)}}},Ep={broadcast:!0,focus:!0,history:!0,animate:!1},Ap={broadcast:!0,focus:!1,history:!0,animate:!1},Xr={broadcast:!0,history:!0,animate:!1},Zr={broadcast:!0,focus:!1,history:!0,animate:!1},Dp={broadcast:!1,focus:!1,history:!1,animate:!0},Op={history:!0},Qr={broadcast:!0,history:!0,animate:!1},Pp={broadcast:!0},Mp={label:""},Ip="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");Array.from({length:999},(o,e)=>(e+1).toString());const Bp=(o,e)=>()=>{let t=o.value.map(({label:a})=>a),n=0,r=0,i;const s=()=>n===0?"":e[(n-1)%e.length];for(;!i;){r>=e.length&&(t=t.slice(e.length),r=0,n++);const l=s()+e[r];t.includes(l)||(i=l),r++}return i},Lp=o=>Bp(o.nodes,Ip),Np=({nodes:o,edges:e,nodeMap:t,edgeMap:n,emit:r,settings:i,animationController:s,updateGraphAtMousePosition:a,updateAggregator:l})=>{const u=v=>t.value.get(v),c=v=>n.value.get(v),f=(v,m={})=>{if(v!=null&&v.id&&u(v.id)){console.warn("prevented adding a node with an existing id, this shouldn't happen");return}const w={...Ep,...m},_=i.value.newNodeLabelGetter??Lp({nodes:o}),T={id:v.id??ao(),label:v.label??_(),x:v.x??0,y:v.y??0};return w.animate&&s.animateIn(T.id),o.value.push(T),l(),a(),r("onNodeAdded",T,w),r("onStructureChange"),T},d=(v,m={})=>{if(v.length===0)return;const w={...Ap,...m},_=[];for(const T of v){const E=f(T,{focus:!1,broadcast:!1,history:!1});E&&_.push(E)}_.length!==0&&r("onBulkNodeAdded",_,w)},b=(v,m={})=>{const w={...Zr,...m},{isGraphDirected:_}=i.value,[T,E]=[u(v.from),u(v.to)];if(!T||!E)return;if(_){if(e.value.find(F=>F.from===v.from&&F.to===v.to))return}else if(e.value.find(F=>F.from===v.from&&F.to===v.to||F.from===v.to&&F.to===v.from))return;const M={...Mp,id:ao(),...v};return w.animate&&s.animateIn(M.id),e.value.push(M),l(),a(),r("onEdgeAdded",M,w),r("onStructureChange"),M},y=(v,m={})=>{if(v.length===0)return;const w={...Dp,...m},_=[];for(const T of v){const E=b(T,{broadcast:!1,history:!1});E&&_.push(E)}_.length!==0&&r("onBulkEdgeAdded",_,w)},h=(v,m,w={})=>{const _=u(v);if(!_)return;const T={...Pp,...w};_.x=m.x,_.y=m.y,r("onNodeMoved",_,T)},g=(v,m,w={})=>{const _={...Zr,...w},T=c(v);if(!T)return;const E=T.label;T.label=m,r("onEdgeLabelEdited",T,E,_),r("onStructureChange")},p=async(v,m={})=>{const w=u(v);if(!w)return;const _={...Xr,...m},T=hi(w.id,{edges:e,getEdge:c,settings:i}),E=[];for(const M of T){const L=await k(M.id,{broadcast:!1,history:!1,animate:_.animate});L&&E.push(L)}return _.animate&&await s.animateOut(w.id),o.value=o.value.filter(M=>M.id!==w.id),l(),a(),r("onNodeRemoved",w,E,_),r("onStructureChange"),[w,E]},C=async(v,m={})=>{if(v.length===0)return;const w={...Xr,...m},_=[],T=[];for(const E of v){const M=await p(E,{broadcast:!1,history:!1,animate:w.animate});if(!M)continue;const[L,F]=M;_.push(L),T.push(...F)}_.length!==0&&r("onBulkNodeRemoved",_,T,w)},k=async(v,m={})=>{const w=c(v);if(!w)return;const _={...Qr,...m};return _.animate&&await s.animateOut(w.id),e.value=e.value.filter(T=>T.id!==w.id),l(),a(),r("onEdgeRemoved",w,_),r("onStructureChange"),w};return{getNode:u,getEdge:c,addNode:f,addEdge:b,moveNode:h,editEdgeLabel:g,removeNode:p,removeEdge:k,bulkAddNode:d,bulkRemoveNode:C,bulkAddEdge:y,bulkRemoveEdge:async(v,m={})=>{if(v.length===0)return;const w={...Qr,...m},_=[];for(const T of v){const E=await k(T,{broadcast:!1,history:!1,animate:w.animate});E&&_.push(E)}if(_.length!==0)return r("onBulkEdgeRemoved",_,w),_}}},Rp=({subscribe:o,canvas:e,graphAtMousePosition:t})=>{const n=O(!1),r=O(!1),i=O({node:"grab",edge:"pointer","node-anchor":"grab","encapsulated-node-box":"move"}),s=O(),a=D(()=>!!s.value),l=d=>{s.value=d},u=()=>{s.value=void 0},c=d=>{var y;if(!d)return"default";if(a.value)return((y=s.value)==null?void 0:y.call(s,d))??!1?"pointer":"default";const b=i.value[d.graphType]??"default";return b==="grab"&&n.value?"grabbing":b},f=()=>{if(!e.value||r.value)return;const d=t.value.items.at(-1);e.value.style.cursor=c(d)};return o("onMouseDown",()=>{n.value=!0,f()}),o("onMouseUp",()=>{n.value=!1,f()}),o("onClick",f),o("onDblClick",f),o("onKeyUp",f),o("onKeyDown",f),o("onMouseMove",f),wt(i,f,{deep:!0}),{graphToCursorMap:i,activateCursorSelectMode:l,deactivateCursorSelectMode:u,graphCursorDisabled:r}},zp=o=>{const e=new Map,t=new Set,n=new Map;return i=>({hold:l=>{if(t.has(`${i}-${l}`))return;const c=e.get(l)??0;c===0&&(n.set(l,o.value[l]),o.value[l]=!1),e.set(l,c+1),t.add(`${i}-${l}`)},release:l=>{if(!t.has(`${i}-${l}`))return;const u=e.get(l)??0;if(u!==0){if(u===1){const c=n.get(l);if(c===void 0)throw new Error("holdState not found");o.value[l]=c,n.delete(l)}e.set(l,u-1),t.delete(`${i}-${l}`)}}})},Fp=(o,e={})=>{const{canvas:t,cursorCoordinates:n}=o,r=O("light"),i=up(),s=Tp(r,i),a=O({...Cp,...e}),l=zp(a),u=fp(),{subscribe:c,unsubscribe:f,emit:d}=dp(u),b=O(!0);Pn(o.canvas,()=>{b.value=!1}),c("onMouseDown",()=>{const B=document.activeElement;B instanceof HTMLElement&&typeof B.blur=="function"&&B.blur(),b.value=!0});const y=O([]),h=O([]),g=O({coords:{x:0,y:0},items:[]}),p=Rp({canvas:t,subscribe:c,graphAtMousePosition:g}),C=()=>g.value={coords:n.value,items:T(n.value)},k=B=>({...g.value,event:B}),x={click:B=>{B.preventDefault(),d("onClick",k(B))},mousemove:B=>{B.preventDefault(),C(),d("onMouseMove",k(B))},mousedown:B=>{B.preventDefault(),C(),d("onMouseDown",k(B))},mouseup:B=>{B.preventDefault(),C(),d("onMouseUp",k(B))},dblclick:B=>{B.preventDefault(),d("onDblClick",k(B))},contextmenu:B=>{d("onContextMenu",k(B))}},v={keydown:B=>d("onKeyDown",B),keyup:B=>d("onKeyUp",B)},{aggregator:m,subscribeToAggregator:w,updateAggregator:_,getSchemaItemsByCoordinates:T,draw:E}=Sp({emit:d}),M=Cf(),L=dl(),F=B=>{const V={edges:h,getNode:K,getEdge:j,getTheme:s,settings:a,animationController:M,shapes:L},ze=h.value.map(ft=>np(ft,V)).filter(Boolean).map((ft,Qo)=>({...ft,priority:Qo*10})),Zo=y.value.map(ft=>Rf(ft,V)).filter(Boolean).map((ft,Qo)=>({...ft,priority:Qo*10+1e3}));return B.push(...ze),B.push(...Zo),B};w.push(F),Fo(()=>{if(!t.value)throw new Error("canvas element not found");for(const[B,V]of Object.entries(x))t.value.addEventListener(B,V);for(const[B,V]of Object.entries(v))document.addEventListener(B,V)}),ni(()=>{if(!t.value)throw new Error("Canvas element not found");for(const[B,V]of Object.entries(x))t.value.removeEventListener(B,V);for(const[B,V]of Object.entries(v))document.removeEventListener(B,V)});const{nodeIdToNodeMap:ee,edgeIdToEdgeMap:Y}=kp(y,h),{getNode:K,getEdge:j,addNode:ue,addEdge:$e,moveNode:tt,editEdgeLabel:ot,removeNode:oe,removeEdge:Ve,bulkAddNode:he,bulkRemoveNode:Me,bulkAddEdge:Ks,bulkRemoveEdge:Ys}=Np({nodes:y,edges:h,nodeMap:ee,edgeMap:Y,emit:d,settings:a,animationController:M,updateGraphAtMousePosition:C,updateAggregator:_}),js=D(()=>y.value.reduce((B,V,ze)=>(B.set(V.id,ze),B),new Map)),qs=D(()=>h.value.reduce((B,V,ze)=>(B.set(V.id,ze),B),new Map));let Kt;c("onMouseMove",({items:B})=>{const V=B.at(-1);if(!V||V.graphType!=="node")return;const ze=K(V.id);ze!==Kt&&(d("onNodeHoverChange",ze,Kt),Kt=ze)});const Vs=B=>(Kt&&bi(Kt.id,B),B);w.push(Vs);const Xs=(B,V)=>{const ze={nodes:y.value,edges:h.value};y.value=B.nodes,h.value=B.edges;const Zo={...Op,...V};d("onGraphLoaded",ze,Zo),d("onStructureChange")},Zs=()=>{y.value=[],h.value=[],d("onGraphReset"),d("onStructureChange")};wt(r,async(B,V)=>{d("onThemeChange",B,V)});const dr=O(On(a.value));return wt(a,B=>{const V=Ws(dr.value,B);V&&(dr.value=On(a.value),d("onSettingsChange",V),"isGraphDirected"in V&&d("onStructureChange"))},{deep:!0}),{nodes:y,edges:h,nodeIdToIndex:js,edgeIdToIndex:qs,getNode:K,getEdge:j,addNode:ue,addEdge:$e,moveNode:tt,editEdgeLabel:ot,removeNode:oe,removeEdge:Ve,bulkAddNode:he,bulkRemoveNode:Me,bulkAddEdge:Ks,bulkRemoveEdge:Ys,getSchemaItemsByCoordinates:T,eventBus:u,subscribe:c,unsubscribe:f,emit:d,subscribeToAggregator:w,aggregator:m,updateAggregator:_,animationController:M,pluginHoldController:l,shapes:L,baseTheme:D(()=>cr[r.value]),themeName:r,getTheme:s,themeMap:i,settings:a,load:Xs,reset:Zs,magicCanvas:o,canvasFocused:b,canvasHovered:Ha(o.canvas),draw:E,graphAtMousePosition:g,updateGraphAtMousePosition:C,...p}},$p=(o,e)=>{const t={at:{x:1/0,y:1/0},width:0,height:0};if(o.length<2)return t;let n=1/0,r=1/0,i=-1/0,s=-1/0;for(const a of o){const l=e.getTheme("nodeSize",a),u=e.getTheme("nodeBorderWidth",a),c=l+u/2,{x:f,y:d}=a;n=Math.min(n,f-c),r=Math.min(r,d-c),i=Math.max(i,f+c),s=Math.max(s,d+c)}return n<1/0&&r<1/0&&i>-1/0&&s>-1/0?(t.at.x=n,t.at.y=r,t.width=i-n,t.height=s-r):(t.width=0,t.height=0),t},Up=o=>{const e=O(),t=O(),n=O(),{hold:r,release:i}=o.pluginHoldController("marquee"),s=m=>{const{width:w,height:_}=m;return Math.abs(w*_)},a=({items:m,coords:w,event:_})=>{if(_.button!==Bt.left)return;const T=m.at(-1);(T==null?void 0:T.graphType)!=="encapsulated-node-box"&&i("nodeAnchors"),T||f(w)},l=({coords:m})=>{if(!n.value)return;const w=m.x-n.value.x,_=m.y-n.value.y;n.value=m;for(const T of o.focus.focusedNodes.value)o.moveNode(T.id,{x:T.x+w,y:T.y+_});y()},u=({items:m,coords:w,event:_})=>{if(_.button!==Bt.left||e.value)return;const T=m.at(-1);(T==null?void 0:T.graphType)==="encapsulated-node-box"&&(n.value=w,o.emit("onGroupDragStart",o.focus.focusedNodes.value,w))},c=()=>{n.value&&(o.emit("onGroupDrop",o.focus.focusedNodes.value,n.value),n.value=void 0)},f=m=>{r("nodeAnchors"),o.graphCursorDisabled.value=!0,e.value={at:m,width:0,height:0},o.emit("onMarqueeBeginSelection",m)},d=()=>{if(!e.value)return;const m=e.value;e.value=void 0,o.graphCursorDisabled.value=!1,i("nodeAnchors"),o.emit("onMarqueeEndSelection",m)},b=m=>{if(s(m)<100)return;const _=[];for(const{id:T,shape:E,graphType:M}of o.aggregator.value){const{marqueeSelectableGraphTypes:L}=o.settings.value;if(!L.includes(M))continue;E.efficientHitbox(m)&&_.push(T)}o.focus.set(_)},y=()=>{t.value=$p(o.focus.focusedNodes.value,o)},h=({coords:m})=>{if(!e.value)return;const{x:w,y:_}=m;e.value.width=w-e.value.at.x,e.value.height=_-e.value.at.y,b(e.value)},g=m=>{const w="marquee-box",_=o.shapes.rect({id:w,...Ga(m),fillColor:o.getTheme("marqueeSelectionBoxColor"),stroke:{color:o.getTheme("marqueeSelectionBoxBorderColor"),lineWidth:2}});return{id:w,graphType:"marquee-box",shape:_,priority:1/0}},p=m=>{if(!e.value)return m;const{width:w,height:_}=e.value;if(w===0||_===0)return m;const T=g(e.value);return m.push(T),m},C=m=>{const w="encapsulated-node-box",_=o.shapes.rect({id:w,...m,fillColor:o.getTheme("marqueeEncapsulatedNodeBoxColor"),stroke:{color:o.getTheme("marqueeEncapsulatedNodeBoxBorderColor"),lineWidth:2}});return{id:w,graphType:"encapsulated-node-box",shape:_,priority:1/0}},k=m=>{if(!t.value)return m;const{width:w,height:_}=t.value;if(w===0||_===0)return m;const T=C(t.value);return m.push(T),m};o.subscribeToAggregator.push(k),o.subscribeToAggregator.push(p);const x=()=>{o.subscribe("onFocusChange",y),o.subscribe("onMouseDown",a),o.subscribe("onMouseUp",d),o.subscribe("onContextMenu",d),o.subscribe("onMouseMove",h),o.subscribe("onMouseDown",u),o.subscribe("onMouseUp",c),o.subscribe("onMouseMove",l),o.subscribe("onUndo",y),o.subscribe("onRedo",y)},v=()=>{o.unsubscribe("onFocusChange",y),o.unsubscribe("onMouseDown",a),o.unsubscribe("onMouseUp",d),o.unsubscribe("onContextMenu",d),o.unsubscribe("onMouseMove",h),o.unsubscribe("onMouseDown",u),o.unsubscribe("onMouseUp",c),o.unsubscribe("onMouseMove",l),o.unsubscribe("onUndo",y),o.unsubscribe("onRedo",y),e.value&&d()};return o.subscribe("onSettingsChange",m=>{m.marquee===!0?x():m.marquee===!1&&v()}),o.settings.value.marquee&&x(),{updateEncapsulatedNodeBox:y,activelySelecting:D(()=>!!e.value)}},Hp=o=>{const e=O(),{hold:t,release:n}=o.pluginHoldController("node-drag"),r=({items:u,coords:c,event:f})=>{if(f.button!==Bt.left)return;const d=u.at(-1);if(!d||d.graphType!=="node")return;t("nodeAnchors");const b=o.getNode(d.id);b&&(e.value={node:b,coords:c},o.emit("onNodeDragStart",b))},i=()=>{if(!e.value)return;const{node:u}=e.value;e.value=void 0,o.emit("onNodeDrop",u),n("nodeAnchors");const{items:c}=o.graphAtMousePosition.value,f=c.at(-1);(f==null?void 0:f.id)===u.id&&o.nodeAnchors.setParentNode(u.id)},s=({coords:u})=>{if(!e.value)return;const{node:c,coords:f}=e.value,d=u.x-f.x,b=u.y-f.y;o.moveNode(c.id,{x:c.x+d,y:c.y+b}),e.value.coords=u},a=()=>{o.subscribe("onMouseDown",r),o.subscribe("onMouseUp",i),o.subscribe("onMouseMove",s),o.graphToCursorMap.value.node="grab"},l=()=>{o.unsubscribe("onMouseDown",r),o.unsubscribe("onMouseUp",i),o.unsubscribe("onMouseMove",s),o.graphToCursorMap.value.node="pointer",e.value&&i()};return o.subscribe("onSettingsChange",u=>{u.draggable===!1?l():u.draggable===!0&&a()}),o.settings.value.draggable&&a(),o.settings.value.draggable||l(),{currentlyDraggingNode:D(()=>{var u;return(u=e.value)==null?void 0:u.node})}},Gp=o=>{const e=O(),t=O(),n=()=>{e.value=void 0,t.value=void 0},r=x=>{if(o.settings.value.nodeAnchors===!1)return;const v=o.getNode(x);if(!v)throw new Error("node not found");o.animationController.isAnimating(v.id)||(e.value=v,u(v))},i=O(),s=({items:x})=>{const v=x.at(-1);if(!v)return i.value=void 0;i.value=v.id},a=x=>{var E,M;const{getTheme:v}=o,m=v("nodeAnchorColor",x),w=v("nodeAnchorColorWhenParentFocused",x),_=v("nodeAnchorRadius",x),T=[];for(const L of l.value){const{x:F,y:ee,id:Y}=L,K=Y===i.value||Y===((E=t.value)==null?void 0:E.id),j={id:Y,at:{x:F,y:ee},radius:_,fillColor:K?w:m};t.value&&t.value.direction===L.direction&&(j.at.x=t.value.x,j.at.y=t.value.y);const ue=o.shapes.circle(j),$e=L.id===((M=t.value)==null?void 0:M.id);T.push({id:L.id,graphType:"node-anchor",shape:ue,priority:$e?1/0:99999})}return T},l=O([]),u=x=>{if(!x)return l.value=[];const{getTheme:v}=o,m=v("nodeAnchorRadius",x),w=v("nodeSize",x),_=v("nodeBorderWidth",x),T=w-m/3+_/2;l.value=[{id:"n-anchor",x:x.x,y:x.y-T,direction:"north"},{id:"e-anchor",x:x.x+T,y:x.y,direction:"east"},{id:"s-anchor",x:x.x,y:x.y+T,direction:"south"},{id:"w-anchor",x:x.x-T,y:x.y,direction:"west"}]},c=({items:x,event:v})=>{if(v.button!==Bt.left)return;const m=x.at(-1);if(!m||m.graphType!=="node-anchor")return;const{id:w}=m;return l.value.find(_=>_.id===w)},f=()=>{if(!e.value||!t.value)return;const{x,y:v}=t.value,m={x:e.value.x,y:e.value.y},w={x,y:v},{getTheme:_}=o,T=_("linkPreviewColor",e.value,t.value),E=_("linkPreviewWidth",e.value,t.value);return{id:"link-preview",graphType:"link-preview",shape:o.shapes.line({id:"link-preview",start:m,end:w,fillColor:T,lineWidth:E})}},d=()=>{var w;if(t.value)return;const{items:x}=o.graphAtMousePosition.value,v=x.at(-1);if(!v)return n();if(v.graphType==="node-anchor")return;if(v.graphType!=="node")return n();const m=o.getNode(v.id);if(!m)throw new Error("anchors: node shown on screen not in graph state");m.id!==((w=e.value)==null?void 0:w.id)&&r(m.id)},b=x=>{if(!e.value)return;const v=c(x);v&&(t.value=v,o.emit("onNodeAnchorDragStart",e.value,v))},y=({coords:x})=>{if(!t.value)return;const{x:v,y:m}=x;t.value.x=v,t.value.y=m},h=()=>{if(t.value){if(!e.value)throw new Error("active anchor without parent node")}else return;o.emit("onNodeAnchorDrop",e.value,t.value),n()},g=x=>{if(!e.value)return x;const v=a(e.value);for(const m of v)x.push(m);return x},p=x=>{var T;if(!e.value||!t.value)return x;const{id:v}=e.value;bi(v,x);const m=(T=x.find(E=>E.id===v))==null?void 0:T.priority;if(!m)return x;const w=f();if(!w)return x;const _={...w,priority:m-.1};return x.push(_),x};o.subscribeToAggregator.push(g),o.subscribeToAggregator.push(p);const C=()=>{o.subscribe("onNodeAdded",d),o.subscribe("onNodeRemoved",d),o.subscribe("onNodeMoved",n),o.subscribe("onNodeDrop",u),o.subscribe("onMouseMove",d),o.subscribe("onMouseMove",y),o.subscribe("onMouseMove",s),o.subscribe("onMouseDown",b),o.subscribe("onMouseUp",h)},k=()=>{o.unsubscribe("onNodeAdded",d),o.unsubscribe("onNodeRemoved",d),o.unsubscribe("onNodeMoved",n),o.unsubscribe("onNodeDrop",u),o.unsubscribe("onMouseMove",d),o.unsubscribe("onMouseMove",y),o.unsubscribe("onMouseMove",s),o.unsubscribe("onMouseDown",b),o.unsubscribe("onMouseUp",h),n()};return o.subscribe("onSettingsChange",x=>{x.nodeAnchors===!0?C():x.nodeAnchors===!1&&k()}),o.settings.value.nodeAnchors&&C(),{currentDraggingAnchor:so(t),parentNode:so(e),setParentNode:r}},Jr=100,Wp=o=>{const e=O([]),t=O([]);return{clearHistory:()=>{e.value=[],t.value=[]},undo:()=>{const l=e.value.pop();if(!l)return;const{action:u,annotations:c}=l,f=c.map(({id:d})=>d);u==="add"?o.value=o.value.filter(({id:d})=>!f.includes(d)):u==="remove"&&o.value.push(...c),t.value.push(l)},redo:()=>{const l=t.value.pop();if(!l)return;const{action:u,annotations:c}=l,f=c.map(({id:d})=>d);u==="add"?o.value.push(...c):u==="remove"&&(o.value=o.value.filter(({id:d})=>!f.includes(d))),e.value.push(l)},addToUndoStack:l=>{e.value.push(l),e.value.length>Jr&&e.value.shift()},addToRedoStack:l=>{t.value.push(l),t.value.length>Jr&&t.value.shift()},canUndo:D(()=>e.value.length!==0),canRedo:D(()=>t.value.length!==0)}},un=10,Kp=Ne(),Yp=o=>{const e=O(Ai[0]),t=O(Di[1]),n=O(!1),r=O(!1),i=O(),s=O(Date.now()),a=O(new Set),l=O([]),u=O([]),c=O(!1),f=O(),d=O(!1),b=Wp(u),y=()=>{u.value.length!==0&&(b.addToUndoStack({action:"remove",annotations:u.value}),u.value=[])},h=()=>{i.value||(i.value=setInterval(()=>{Date.now()-s.value>50&&r.value&&l.value.length>=2&&l.value.shift()},50))},g=({coords:_,event:T})=>{if(T.button===Bt.left){if(n.value){const E=br({at:_,radius:un}).getBoundingBox(),M=u.value.filter(L=>o.shapes.scribble(L).efficientHitbox(E));for(const L of M)a.value.add(L.id)}c.value=!0,f.value=_,l.value=[_]}},p=({coords:_})=>{if(!(!c.value||!f.value)&&l.value.length!==0){if(n.value){const T=br({at:_,radius:un}).getBoundingBox(),E=u.value.filter(M=>o.shapes.scribble(M).efficientHitbox(T));for(const M of E)a.value.add(M.id);return}f.value=_,l.value.push(_),r.value&&l.value.length>10&&l.value.shift(),r.value&&h(),s.value=Date.now()}},C=()=>{if(!c.value)return;if(c.value=!1,f.value=void 0,n.value){const T=u.value.filter(E=>a.value.has(E.id));b.addToUndoStack({action:"remove",annotations:T}),u.value=u.value.filter(E=>!a.value.has(E.id)),a.value.clear();return}if(r.value){i.value=void 0;return}const _={id:ao(),type:"draw",points:l.value,fillColor:e.value,brushWeight:t.value};u.value.push(_),b.addToUndoStack({action:"add",annotations:[_]}),l.value=[]},k=D(()=>n.value||r.value);wt(k,()=>{const _=o.magicCanvas.canvas.value;_&&(_.style.cursor=k.value?"none":"crosshair")});const x=_=>{if(!d.value)return _;if(n.value&&o.canvasHovered.value){const T="annotation-eraser-cursor",E=o.shapes.circle({id:T,at:o.graphAtMousePosition.value.coords,radius:un,fillColor:A.TRANSPARENT,stroke:{color:Kp.value.contrast,lineWidth:2}});_.push({graphType:"annotation-eraser",id:T,shape:E,priority:5050})}else if(l.value.length>0&&c.value){const T="annotation-incomplete",E=o.shapes.scribble({id:T,type:"draw",points:l.value,fillColor:e.value,brushWeight:t.value});_.push({graphType:"annotation",id:T,shape:E,priority:5001})}else if(r.value&&o.canvasHovered.value){const T="laser-pointer-cursor",E=o.shapes.circle({id:T,at:o.graphAtMousePosition.value.coords,radius:t.value,fillColor:e.value});_.push({graphType:"annotation",id:T,shape:E,priority:5050})}for(const T of u.value){const E=a.value.has(T.id);_.push({graphType:"annotation",id:T.id,shape:o.shapes.scribble({...T,fillColor:T.fillColor+(E?"50":"")}),priority:5e3})}return _};return o.subscribeToAggregator.push(x),{clear:y,isActive:d,annotations:u,isLaserPointing:r,isErasing:n,color:e,brushWeight:t,activate:()=>{const _=o.magicCanvas.canvas.value;_&&(d.value=!0,o.settings.value.interactive=!1,o.settings.value.marquee=!1,o.settings.value.focusable=!1,o.settings.value.draggable=!1,o.graphCursorDisabled.value=!0,_.style.cursor="crosshair",o.subscribe("onMouseDown",g),o.subscribe("onMouseMove",p),o.subscribe("onMouseUp",C))},deactivate:()=>{const _=o.magicCanvas.canvas.value;_&&(d.value=!1,n.value=!1,o.settings.value.interactive=!0,o.settings.value.marquee=!0,o.settings.value.focusable=!0,o.settings.value.draggable=!0,o.graphCursorDisabled.value=!1,_.style.cursor="default",o.unsubscribe("onMouseDown",g),o.unsubscribe("onMouseMove",p),o.unsubscribe("onMouseUp",C))},load:_=>{u.value=_},undo:b.undo,redo:b.redo,canUndo:b.canUndo,canRedo:b.canRedo}},jp=["node","edge"],qp="use-focus-graph",Vp=o=>{const{setTheme:e}=Wa(o,qp),t=O(new Set),n=O(!1),r=p=>{const C=p.filter(m=>!o.settings.value.focusBlacklist.includes(m));if(C.length===t.value.size&&C.every(m=>t.value.has(m)))return;const v=new Set([...t.value]);t.value=new Set(C),o.emit("onFocusChange",t.value,v)},i=p=>{if(t.value.has(p)||o.settings.value.focusBlacklist.includes(p))return;const x=new Set([...t.value]);t.value.add(p),o.emit("onFocusChange",t.value,x)},s=p=>{var k,x;const C=Ka(o.magicCanvas.canvas);(x=(k=p.shape).activateTextArea)==null||x.call(k,C,v=>{const m=o.getEdge(p.id);if(!m)throw new Error("textarea only implemented for edges");const w=o.settings.value.edgeInputToLabel(v);w===void 0||m.label===w||o.editEdgeLabel(m.id,w)})},a=()=>{const p=Array.from(t.value),C=p.filter(k=>o.getNode(k)||o.getEdge(k));C.length!==p.length&&r(C)},l=({items:p,coords:C,event:k})=>{var _,T;if(k.button!==Bt.left)return;const x=p.at(-1);if(!x)return n.value?void 0:u();if(((T=(_=x.shape).textHitbox)==null?void 0:T.call(_,C))&&o.settings.value.edgeLabelsEditable&&x.graphType==="edge")return u(),s(x);jp.some(E=>E===x.graphType)&&(n.value?i(x.id):r([x.id]))},u=()=>r([]),c=()=>{const p=o.nodes.value.map(k=>k.id),C=o.edges.value.map(k=>k.id);r([...p,...C])},f=({id:p},{focus:C})=>{C&&r([p])},d=p=>t.value.has(p);e("nodeColor",p=>{if(d(p.id))return o.getTheme("nodeFocusColor",p)}),e("nodeBorderColor",p=>{if(d(p.id))return o.getTheme("nodeFocusBorderColor",p)}),e("nodeTextColor",p=>{if(d(p.id))return o.getTheme("nodeFocusTextColor",p)}),e("edgeColor",p=>{if(d(p.id))return o.getTheme("edgeFocusColor",p)}),e("edgeTextColor",p=>{if(d(p.id))return o.getTheme("edgeFocusTextColor",p)}),e("nodeAnchorColor",p=>{if(d(p.id))return o.getTheme("nodeAnchorColorWhenParentFocused",p)});const b=p=>{p.key==="Shift"&&(n.value=!0)},y=p=>{p.key==="Shift"&&(n.value=!1)},h=()=>{o.subscribe("onNodeAdded",f),o.subscribe("onEdgeAdded",f),o.subscribe("onMouseDown",l),o.subscribe("onKeyDown",b),o.subscribe("onKeyUp",y),o.subscribe("onStructureChange",a)},g=()=>{o.unsubscribe("onNodeAdded",f),o.unsubscribe("onEdgeAdded",f),o.unsubscribe("onMouseDown",l),o.unsubscribe("onKeyDown",b),o.unsubscribe("onKeyUp",y),o.unsubscribe("onStructureChange",a),u()};return o.subscribe("onSettingsChange",p=>{p.focusable===!1?g():p.focusable===!0&&h()}),o.settings.value.focusable&&h(),{set:r,reset:u,add:i,all:c,isFocused:d,focusedItemIds:so(t),focusedNodes:D(()=>o.nodes.value.filter(p=>d(p.id))),focusedEdges:D(()=>o.edges.value.filter(p=>d(p.id)))}},Xp={focus:!0},Zp={focus:!0},ei=100,ti=3,Qp=o=>{const e=O([]),t=O([]),n=g=>{e.value.push(g),e.value.length>ei&&e.value.shift()},r=g=>{t.value.push(g),t.value.length>ei&&t.value.shift()},i=O([]),s=O([]),l=ll(()=>{if(i.value.length===0&&s.value.length===0)return;const g=i.value.map(C=>({graphType:"node",data:C})),p=s.value.map(C=>({graphType:"edge",data:C}));n({action:"remove",affectedItems:[...g,...p]}),i.value=[],s.value=[]},250);o.subscribe("onNodeAdded",(g,{history:p})=>{p&&n({action:"add",affectedItems:[{graphType:"node",data:g}]})}),o.subscribe("onBulkNodeAdded",(g,{history:p})=>{p&&n({action:"add",affectedItems:g.map(C=>({graphType:"node",data:C}))})}),o.subscribe("onNodeRemoved",(g,p,{history:C})=>{if(!C)return;const k=p.map(x=>({graphType:"edge",data:x}));n({action:"remove",affectedItems:[{graphType:"node",data:g},...k]})}),o.subscribe("onBulkNodeRemoved",(g,p,{history:C})=>{C&&(i.value.push(...g),s.value.push(...p),l())}),o.subscribe("onEdgeLabelEdited",(g,p,{history:C})=>{C&&n({action:"edit",affectedItems:[{graphType:"edge",data:{id:g.id,from:p,to:g.label}}]})}),o.subscribe("onEdgeAdded",(g,{history:p})=>{p&&n({action:"add",affectedItems:[{graphType:"edge",data:g}]})}),o.subscribe("onBulkEdgeAdded",(g,{history:p})=>{p&&n({action:"add",affectedItems:g.map(C=>({graphType:"edge",data:C}))})}),o.subscribe("onEdgeRemoved",(g,{history:p})=>{p&&n({action:"remove",affectedItems:[{graphType:"edge",data:g}]})}),o.subscribe("onBulkEdgeRemoved",(g,{history:p})=>{p&&(s.value.push(...g),l())}),o.subscribe("onGraphLoaded",(g,{history:p})=>{if(!p)return;const C=g.nodes.map(x=>({graphType:"node",data:x})),k=g.edges.map(x=>({graphType:"edge",data:x}));n({action:"load",affectedItems:[...o.nodes.value.map(x=>({graphType:"node",data:x})),...o.edges.value.map(x=>({graphType:"edge",data:x}))],previousState:{nodes:C,edges:k}})});const u=O();o.subscribe("onGroupDragStart",(g,p)=>{u.value={startingCoordinates:p,nodes:g}}),o.subscribe("onGroupDrop",(g,p)=>{if(!u.value)throw new Error("dropped a group we didn't know was being dragged");if(u.value.nodes.length!==g.length)throw new Error("group size mismatch");const C=u.value.startingCoordinates.y-p.y,k=u.value.startingCoordinates.x-p.x;Math.sqrt(C**2+k**2)<ti||n({action:"move",affectedItems:u.value.nodes.map(v=>({graphType:"node",data:{id:v.id,from:{x:v.x+k,y:v.y+C},to:{x:v.x,y:v.y}}}))})});const c=O();o.subscribe("onNodeDragStart",g=>{c.value={id:g.id,from:{x:g.x,y:g.y},to:{x:g.x,y:g.y}}}),o.subscribe("onNodeDrop",g=>{if(!c.value)throw new Error("dropped a node we didn't know was being dragged");if(c.value.id!==g.id)throw new Error("node ID mismatch");c.value.to={x:g.x,y:g.y};const p=c.value.from.y-c.value.to.y,C=c.value.from.x-c.value.to.x;Math.sqrt(p**2+C**2)<ti||n({action:"move",affectedItems:[{graphType:"node",data:c.value}]})});const f=(g={})=>{const p=e.value.pop();if(p)return r(p),b(p),o.emit("onUndo",p,{...Xp,...g}),p},d=(g={})=>{const p=t.value.pop();if(p)return n(p),y(p),o.emit("onRedo",p,{...Zp,...g}),p},b=g=>{if(g.action==="load")o.load({nodes:g.previousState.nodes.map(p=>p.data),edges:g.previousState.edges.map(p=>p.data)},{history:!1});else if(g.action==="add")for(const p of g.affectedItems)p.graphType==="node"?o.removeNode(p.data.id,{history:!1}):p.graphType==="edge"&&o.removeEdge(p.data.id,{history:!1});else if(g.action==="remove")for(const p of g.affectedItems)p.graphType==="node"?o.addNode(p.data,{history:!1,focus:!1}):p.graphType==="edge"&&o.addEdge(p.data,{history:!1,focus:!1});else if(g.action==="move"){for(const p of g.affectedItems)if(p.graphType==="node"){const{from:C,id:k}=p.data;o.moveNode(k,{x:C.x,y:C.y})}}else if(g.action==="edit")for(const p of g.affectedItems)o.editEdgeLabel(p.data.id,p.data.from,{history:!1})},y=g=>{if(g.action==="load")o.load({nodes:g.affectedItems.filter(p=>p.graphType==="node").map(p=>p.data),edges:g.affectedItems.filter(p=>p.graphType==="edge").map(p=>p.data)},{history:!1});else if(g.action==="add")for(const p of g.affectedItems)p.graphType==="node"?o.addNode(p.data,{history:!1,focus:!1}):p.graphType==="edge"&&o.addEdge(p.data,{history:!1,focus:!1});else if(g.action==="remove")for(const p of g.affectedItems)p.graphType==="node"?o.removeNode(p.data.id,{history:!1}):p.graphType==="edge"&&o.removeEdge(p.data.id,{history:!1});else if(g.action==="move"){for(const p of g.affectedItems)if(p.graphType==="node"){const{to:C,id:k}=p.data;o.moveNode(k,{x:C.x,y:C.y})}}else if(g.action==="edit")for(const p of g.affectedItems)o.editEdgeLabel(p.data.id,p.data.to,{history:!1})},h=()=>{e.value=[],t.value=[]};return{undo:f,redo:d,canUndo:D(()=>e.value.length>0),canRedo:D(()=>t.value.length>0),undoStack:e,redoStack:t,addToUndoStack:n,addToRedoStack:r,clearHistory:h}},Jp=o=>{const e=c=>!o.settings.value.persistentBlacklist.has(c.id),t=()=>o.settings.value.persistentStorageKey,n={get:()=>{const c=ko.get(`nodes-${t()}`)??"[]";return JSON.parse(c)},set:c=>{const f=JSON.stringify(c.filter(e));ko.set(`nodes-${t()}`,f)}},r={get:()=>{const c=ko.get(`edges-${t()}`)??"[]";return JSON.parse(c)},set:c=>{const f=JSON.stringify(c.filter(e));ko.set(`edges-${t()}`,f)}},i=async()=>{await new Promise(c=>setTimeout(c,10)),n.set(o.nodes.value),r.set(o.edges.value)},s=()=>o.load({nodes:n.get(),edges:r.get()},{history:!1}),a=["onStructureChange","onNodeDrop","onGroupDrop"],l=()=>{a.forEach(c=>o.subscribe(c,i))},u=()=>{a.forEach(c=>o.unsubscribe(c,i))};return o.subscribe("onSettingsChange",c=>{if(u(),"persistent"in c&&!c.persistent)return;if("persistent"in c&&c.persistent){s(),l();return}"persistentStorageKey"in c&&s(),l()}),o.settings.value.persistent&&(queueMicrotask(s),l()),{trackGraphState:i}},eh={durationMs:300,broadcast:!0,history:!0,persist:!0},th=o=>({node:async t=>{const{nodeId:n,endCoords:r,durationMs:i,history:s,broadcast:a,persist:l}={...eh,...t};if(i<100)throw new Error(`durationMs must be greater than 100, got ${i}`);const u=o.getNode(n);if(!u)throw new Error(`Node with id ${n} not found`);const c={x:u.x,y:u.y},{coords:f,timePerFrameMs:d}=Df({start:c,end:r,durationMs:i});for(let b=0;b<f.length;b++)await new Promise(y=>setTimeout(y,d)),o.moveNode(u.id,f[b],{broadcast:a}),o.focus.isFocused(u.id)&&o.marquee.updateEncapsulatedNodeBox();s&&o.history.addToUndoStack({action:"move",affectedItems:[{graphType:"node",data:{id:t.nodeId,from:c,to:t.endCoords}}]}),l&&await o.persistent.trackGraphState()}}),oh=o=>{let e=0;const t=({coords:a,items:l})=>{var d;if(!(Date.now()-e<350))return e=Date.now();e=0,((d=l.at(-1))==null?void 0:d.graphType)!=="node"&&o.addNode(a)},n=(a,l)=>{if(o.settings.value.userAddedEdgeRuleNoSelfLoops&&a.id===l.id)return!1;if(o.settings.value.userAddedEdgeRuleOneEdgePerPath){const u=o.edges.value.find(d=>d.from===a.id&&d.to===l.id),c=o.edges.value.find(d=>d.from===l.id&&d.to===a.id);if(u||c)return!1}return!0},r=a=>{const{items:l}=o.graphAtMousePosition.value,u=l.findLast(d=>d.graphType==="node");if(!u)return;const c=o.getNode(u.id);!c||!n(a,c)||o.addEdge({from:a.id,to:c.id,label:o.settings.value.userAddedEdgeLabel})},i=()=>{o.subscribe("onClick",t),o.subscribe("onNodeAnchorDrop",r),o.settings.value.nodeAnchors=!0,o.settings.value.edgeLabelsEditable=!0},s=()=>{o.unsubscribe("onClick",t),o.unsubscribe("onNodeAnchorDrop",r),o.settings.value.nodeAnchors=!1,o.settings.value.edgeLabelsEditable=!1};o.settings.value.interactive&&i(),o.settings.value.interactive||s(),o.subscribe("onSettingsChange",a=>{a.interactive===!0?i():a.interactive===!1&&s()})},nh=({adjacencyList:o,undirectedAdjacencyList:e})=>{const t=(s,a)=>{const l=new Set,u=[];for(u.push(a);u.length>0;){const c=u.shift();if(!c)break;l.add(c),s[c].forEach(d=>{l.has(d)||u.push(d)})}return l},n=s=>Object.keys(s).every(a=>t(s,a).size===Object.keys(s).length),r=D(()=>n(o.value)),i=D(()=>n(e.value));return{isConnected:r,isWeaklyConnected:i}};class rh{constructor(e){Yt(this,"V");Yt(this,"adj");Yt(this,"Time");Yt(this,"SCCs",[]);this.V=e,this.adj=new Array(e).fill(0).map(()=>[]),this.Time=0}addEdge(e,t){this.adj[e].push(t)}SCCUtil(e,t,n,r,i){n[e]=this.Time,t[e]=this.Time,this.Time+=1,r[e]=!0,i.push(e);for(const s of this.adj[e])n[s]===-1?(this.SCCUtil(s,t,n,r,i),t[e]=Math.min(t[e],t[s])):r[s]&&(t[e]=Math.min(t[e],n[s]));if(t[e]===n[e]){let s;const a=[];do s=i.pop(),a.push(s),r[s]=!1;while(s!==e);this.SCCs.push(a)}}SCC(){const e=new Array(this.V).fill(-1),t=new Array(this.V).fill(-1),n=new Array(this.V).fill(!1),r=[];for(let i=0;i<this.V;i++)e[i]===-1&&this.SCCUtil(i,t,e,n,r);return this.SCCs}}const ih=(o,e)=>{const t=new rh(o.length),n=o.map(i=>i.id);for(const i of e)t.addEdge(n.indexOf(i.from),n.indexOf(i.to));return t.SCC().map(i=>i.map(s=>o[s]))},sh=o=>{const{nodes:e,edges:t,adjacencyList:n}=o,r=D(()=>ih(e.value,t.value)),i=D(()=>r.value.reduce((l,u,c)=>{for(const{id:f}of u)l.set(f,c);return l},new Map)),s=D(()=>{const a=r.value,l=n.value,u=i.value;return a.reduce((c,f,d)=>{const b=f.flatMap(y=>l[y.id]??[]).filter(y=>u.get(y)!==d).map(y=>u.get(y));return c.set(d,new Set(b)),c},new Map)});return{stronglyConnectedComponents:r,nodeIdToConnectedComponent:i,componentAdjacencyMap:s}},ah=o=>{const e={},t=[[],[]],n={...o};Object.keys(o).forEach(s=>{n[s]||(n[s]=[])});const r={};Object.entries(n).forEach(([s,a])=>{a.forEach(l=>{r[l]||(r[l]=[]),r[l].push(s)})});const i=s=>{const a=[s];for(e[s]=0,t[0].push(s);a.length>0;){const l=a.shift(),u=e[l],c=u===0?1:0,f=n[l]||[],d=r[l]||[],b=[...new Set([...f,...d])];for(const y of b)if(e[y]===void 0)e[y]=c,t[c].push(y),a.push(y);else if(e[y]===u)return!1}return!0};for(const s of Object.keys(n))if(e[s]===void 0&&!i(s))return;return t},lh=o=>{const e=D(()=>ah(o.value)),t=D(()=>{const r=e.value,i=new Map;if(!r)return i;const[s,a]=r;for(const l of s)i.set(l,0);for(const l of a)i.set(l,1);return i}),n=D(()=>e.value!==void 0);return{bipartitePartition:e,nodeIdToBipartitePartition:t,isBipartite:n}},uh=o=>{const e=new Set,t=[],n=[],r=new Set,i=(a,l)=>{e.add(a),n.push(a),r.add(a);for(const u of o[a]||[])if(!e.has(u))i(u,a);else if(u!==l&&r.has(u)){const c=n.indexOf(u),d=[...n.slice(c)].sort();t.some(b=>s(b,d))||t.push(d)}n.pop(),r.delete(a)},s=(a,l)=>a.length!==l.length?!1:a.every(u=>l.includes(u));for(const a in o)e.has(a)||i(a,null);return t},ch=o=>{const{settings:e,stronglyConnectedComponents:t,adjacencyList:n}=o,r=D(()=>{const{isGraphDirected:a}=e.value;return a?t.value.filter(l=>l.length>1).map(l=>l.map(u=>u.id)):uh(n.value).sort((u,c)=>u.length-c.length)}),i=D(()=>r.value.reduce((a,l,u)=>{for(const c of l)a.set(c,u);return a},new Map)),s=D(()=>r.value.length===0);return{cycles:r,nodeIdToCycle:i,isAcyclic:s}},dh=o=>{const e=D(()=>{const n=o.edges.value;return n.filter(r=>r.from!==r.to).filter(r=>n.some(i=>r.from===i.to&&r.to===i.from))}),t=D(()=>e.value.length>0);return{bidirectionalEdges:e,hasBidirectionalEdges:t}},fh=o=>({isComplete:D(()=>{const t=o.settings.value.isGraphDirected,n=o.nodes.value.length;return o.edges.value.length===(t?n*(n-1):n*(n-1)/2)})}),ph=o=>{const e=nh(o),t=dh(o),n=sh(o),r=lh(o.adjacencyList),i=ch({...o,...n});return{...fh(o),...i,...n,...t,...r,...e}},cn="auto",hh=o=>{const e=Ya(),t=ja("preferred-theme",cn);return wt(e,()=>{t.value==="auto"&&(o.themeName.value=e.value?"dark":"light")},{immediate:!0}),wt(t,()=>{[...lp,"auto"].includes(t.value)||(console.warn("unrecognized preferred-theme in localStorage: falling back to",cn),t.value=cn),t.value==="auto"?o.themeName.value=e.value?"dark":"light":o.themeName.value=t.value},{immediate:!0}),{preferredTheme:t}},bh=o=>({getParentsOfNode:e=>rl(e,o),getAncestorsOfNode:e=>nl(e,o),getChildrenOfNode:e=>ol(e,o),getDescendantsOfNode:e=>tl(e,o),getConnectedNodes:e=>fn(e,o),getConnectedEdges:e=>hi(e,o),getInboundEdges:e=>el(e,o),getOutboundEdges:e=>Ja(e,o),isEdgeFlowingIntoNode:(e,t)=>Qa(e,t,o),isEdgeFlowingOutOfNode:(e,t)=>Za(e,t,o),getEdgesAlongPath:(e,t)=>pi(e,t,o),getEdgeWeight:e=>Xa(e,o),getEdgeWeightFraction:e=>Va(e,o),getWeightBetweenNodes:(e,t)=>qa(e,t,o)}),mh=(o,e={})=>{const t=Fp(o,e),n=Vp(t),r=Qp(t),i=Up({...t,focus:n}),s=Gp({...t,focus:n}),a=Hp({...t,nodeAnchors:s}),l=Yp(t),u=Jp(t),c=hh(t),f=Hl({...t,history:r,focus:n,annotation:l}),d=il(t),b=sl({...t,adjacencyList:d}),y=ph({...t,...d}),h=th({...t,history:r,focus:n,marquee:i,persistent:u});oh(t);const g=bh(t);return{...t,focus:n,history:r,marquee:i,nodeDrag:a,nodeAnchors:s,annotation:l,persistent:u,animate:h,...c,adjacencyList:d,transitionMatrix:b,characteristics:y,shortcut:f,helpers:g}},gh=o=>{const{subscribe:e,getTheme:t}=o,n=O(t("graphBgPatternColor")),r=O(t("graphBgColor"));return e("onThemeChange",async()=>{n.value=t("graphBgPatternColor"),r.value=t("graphBgColor")}),{patternColor:so(n),bgColor:so(r)}},Ah=(o={})=>{const e=fl({storageKey:o.persistentStorageKey}),t=mh(e,o),{bgColor:n,patternColor:r}=gh(t);e.draw.content.value=t.draw,e.draw.backgroundPattern.value=(s,a,l)=>pl({at:a,size:12,lineWidth:1,fillColor:r.value+l}).draw(s);const i=D(()=>({style:{backgroundColor:n.value}}));return{canvas:e,graph:t,css:i}};export{Th as D,Ip as L,cr as T,Sh as _,Lt as a,Ce as b,Bp as c,kh as d,$u as e,Un as f,Wt as g,_l as h,ao as i,$n as j,nt as k,xr as l,eo as m,cu as n,Ch as p,Eh as r,Ah as u};
