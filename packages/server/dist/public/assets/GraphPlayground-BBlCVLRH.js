import{u as I,P as J,R as X,d as f,o as d,c as u,b as m,w as S,e as w,s as c,v as r,F as V,g as k,x as K,y as M,z as U,A as ee,B as te,f as T,C as y,a as p,t as N,D as oe,E as L,G as z,H as $,I as O,J as se,K as le,L as H,M as ae,N as ne,O as re}from"./index-B7tKSjsQ.js";import{T as G,u as de,i as ie,_ as ue}from"./Graph.vue_vue_type_script_setup_true_lang-u7iY2cad.js";import{u as ce}from"./useGraphTutorial-DtfOezTG.js";import{T as ge,_ as pe}from"./TutorialHint.vue_vue_type_script_setup_true_lang-CYFe18nC.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-CI3ddcQ2.js";import{_ as ve}from"./InputRange.vue_vue_type_script_setup_true_lang-C6-gJyp_.js";import"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-DUr84Hrg.js";const _={reset:"reset",draggable:"draggable",nodeAnchors:"node-anchors",edgeLabels:"edge-labels",edgeLabelsEditable:"edge-labels-editable",userEditable:"user-editable",edgeWeight:"edge-weight",nodeSize:"node-size",storageKey:"storage-key",clearLocalStorage:"clear-local-storage",persistentGraphClone:"persistent-graph-clone",log:"log",bfsColorize:"toggle-bfs-colorize"},me=e=>({greeting:{hint:"Welcome to the graph editor tutorial",dismiss:"onClick"},goodbye:{hint:"Have fun editing graphs!",dismiss:"onTimeout",after:3e3},createNode:{hint:"Double click anywhere to add a node",dismiss:"onNodeAdded"},moveNode:{hint:"Drag a node to move it",dismiss:"onNodeDrop"},createEdge:{hint:"Create an edge by dragging an anchor onto another node",dismiss:"onEdgeAdded"},createSelfDirectedEdge:{hint:'You can even create self directed edges! Make sure you are in "directed" mode and drag an anchor inwards',dismiss:{event:"onEdgeAdded",predicate:t=>t.to===t.from}},editEdgeWeight:{hint:"Edit the edge weight by clicking on it and typing a number",dismiss:"onEdgeLabelEdited"},removeElement:be(e)}),be=e=>{let t=!1;const o=()=>t=!0,{setTheme:s,removeAllThemes:l}=I(e,ge);return{hint:"Remove an edge or node by clicking on it and hitting backspace/delete",dismiss:{event:"onInterval",predicate:()=>t},onInit:()=>{t=!1,s("nodeAnchorColor",a=>a.label==="1"?J:X),e.subscribe("onEdgeRemoved",o),e.subscribe("onNodeRemoved",o)},onDismiss:()=>{l(),e.unsubscribe("onEdgeRemoved",o),e.unsubscribe("onNodeRemoved",o)}}},_e=e=>{const{greeting:t,createNode:o,moveNode:s,createEdge:l,createUndirectedEdge:a,editEdgeWeight:n,removeElement:g,goodbye:i}=me(e);return[t,o,s,l,a,n,g,i]},he=e=>({basics:_e(e)}),fe=e=>ce(e,he(e).basics),Ee=f({__name:"TutorialControls",props:{tutorial:{}},setup(e){return(t,o)=>(d(),u(V,null,[m(x,{onClick:t.tutorial.prevStep,color:c(r).BLUE_600},{default:S(()=>o[0]||(o[0]=[w(" Previous Step ")])),_:1},8,["onClick","color"]),m(x,{onClick:t.tutorial.nextStep,color:c(r).BLUE_600},{default:S(()=>o[1]||(o[1]=[w(" Next Step ")])),_:1},8,["onClick","color"]),m(x,{onClick:t.tutorial.stop,color:c(r).BLUE_600},{default:S(()=>o[2]||(o[2]=[w(" End Tutorial ")])),_:1},8,["onClick","color"]),m(x,{onClick:t.tutorial.start,color:c(r).BLUE_600},{default:S(()=>o[3]||(o[3]=[w(" Restart Tutorial ")])),_:1},8,["onClick","color"])],64))}}),Ce="product/search-visualizer",ye=(e,t)=>{const o=k({}),s=k(t),{adjacencyList:l}=K(e),a=()=>{if(o.value={},!s.value||!l.value[s.value])return;let n=[s.value];const g=new Set(n);let i=0;for(;n.length>0;){const v=[];for(const E of n){o.value[E]=i;for(const h of l.value[E])g.has(h)||(g.add(h),v.push(h))}n=[],n.push(...v),i++}};return e.subscribe("onStructureChange",a),M(()=>e.unsubscribe("onStructureChange",a)),U(s,a),{bfsLevelRecord:ee(o),startNode:s}},Ne=[r.RED_600,r.ORANGE_600,r.YELLOW_600,r.GREEN_600,r.TEAL_600,r.BLUE_600,r.INDIGO_600,r.PURPLE_600],Le=e=>{var E;const t=k(!1),{setTheme:o,removeTheme:s}=I(e,Ce),{bfsLevelRecord:l,startNode:a}=ye(e,(E=e.nodes.value[0])==null?void 0:E.id),n=()=>{if(a.value===void 0){const[b]=e.nodes.value;b&&(a.value=b.id)}if(!e.nodes.value.find(b=>b.id===a.value)){const[b]=e.nodes.value;a.value=b?b.id:void 0}},g=h=>{if(e.isFocused(h.id))return;const b=l.value[h.id];if(b===void 0)return;const A=Ne;return A[b%A.length]},i=()=>{o("nodeBorderColor",g),o("nodeAnchorColor",g),t.value=!0},v=()=>{s("nodeBorderColor"),s("nodeAnchorColor"),t.value=!1};return U(t,()=>{t.value?i():v()}),e.subscribe("onNodeRemoved",n),e.subscribe("onNodeAdded",n),M(()=>{e.unsubscribe("onNodeRemoved",n),e.unsubscribe("onNodeAdded",n)}),{isColorized:t,colorize:i,decolorize:v,toggleColorize:()=>t.value=!t.value,bfsLevelRecord:l,startNode:a}},Se=e=>{const t={label:()=>"Reset",action:()=>e.reset(),color:()=>r.RED_600,id:_.reset},o={label:()=>e.settings.value.draggable?"Draggable":"Not Draggable",action:()=>e.settings.value.draggable=!e.settings.value.draggable,color:()=>e.settings.value.draggable?r.GREEN_600:r.ORANGE_600,id:_.draggable},s={label:()=>e.settings.value.nodeAnchors?"Anchors":"No Anchors",action:()=>e.settings.value.nodeAnchors=!e.settings.value.nodeAnchors,color:()=>e.settings.value.nodeAnchors?r.GREEN_600:r.ORANGE_600,id:_.nodeAnchors},l={label:()=>e.settings.value.displayEdgeLabels?"Edge Labels":"No Edge Labels",action:()=>e.settings.value.displayEdgeLabels=!e.settings.value.displayEdgeLabels,color:()=>e.settings.value.displayEdgeLabels?r.GREEN_600:r.ORANGE_600,id:_.edgeLabels},a={label:()=>e.settings.value.edgeLabelsEditable?"Edge Labels Editable":"Edge Labels Not Editable",action:()=>e.settings.value.edgeLabelsEditable=!e.settings.value.edgeLabelsEditable,color:()=>e.settings.value.edgeLabelsEditable?r.GREEN_600:r.ORANGE_600,id:_.edgeLabelsEditable},n={label:()=>e.settings.value.userEditable?"Editable":"Not Editable",action:()=>e.settings.value.userEditable=!e.settings.value.userEditable,color:()=>e.settings.value.userEditable?r.GREEN_600:r.ORANGE_600,id:_.userEditable},g={cond:()=>!!e.settings.value.userEditable,label:()=>{const{userAddedEdgeLabel:C}=e.settings.value;return`Change Added Edge Weight (${C})`},action:()=>{e.settings.value.userAddedEdgeLabel=te(1,10).toString()},color:()=>r.GREEN_600,id:_.edgeWeight},i={label:()=>{const{persistentStorageKey:C}=e.settings.value;return`Change Storage Key (${C})`},action:()=>{const{persistentStorageKey:C}=e.settings.value,R=C==="graph"?"graph2":"graph";e.settings.value.persistentStorageKey=R},color:()=>r.PURPLE_600,id:_.storageKey},v={label:()=>"Clear Local Storage",action:()=>localStorage.clear(),color:()=>r.RED_600,id:_.clearLocalStorage},E={label:()=>"Clone Search Visualizer Graph",action:()=>{e.settings.value.persistentStorageKey="search-visualizer-graph"},color:()=>r.AMBER_600,id:_.persistentGraphClone},h={label:()=>"Log",action:()=>{},color:()=>r.BLUE_600,id:_.log},{toggleColorize:b,isColorized:A,startNode:Y}=Le(e),D={reset:t,clearLocalStorage:v,toggleEdgeLabelDisplay:l,toggleEdgeLabelsEditable:a,toggleDraggable:o,toggleNodeAnchors:s,toggleUserEditable:n,changeEdgeWeight:g,changeStorageKey:i,persistentGraphClone:E,bfsColorize:{label:()=>{const C="Colorize",R=e.getNode(Y.value),q=`Stop Colorizing (${R==null?void 0:R.label})`;return A.value?q:C},color:()=>A.value?r.GREEN_600:r.BLUE_600,action:b,id:"toggle-bfs-colorize"},log:h},Z=Object.values(D);return{...D,btnArr:Z}},xe={class:"select-none"},Ve=f({__name:"GraphBtns",props:{btns:{}},setup(e){const t=o=>o?o():!0;return(o,s)=>(d(!0),u(V,null,T(o.btns,l=>(d(),u("div",null,[t(l.cond)?(d(),y(x,{key:0,onClick:oe(l.action,["stop"]),color:l.color(),"text-color":"white",id:l.id},{default:S(()=>[p("span",xe,N(l.label()),1)]),_:2},1032,["onClick","color","id"])):L("",!0)]))),256))}}),Ae=["value"],P="#000000",W=f({__name:"InputColor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=z(e,"modelValue"),o=$({get:()=>t.value,set:n=>t.value=n}),s=$(()=>{if(o.value){if(O(o.value))return o.value.slice(7)}else return"";return""}),l=$(()=>{if(o.value){if(O(o.value))return o.value.slice(0,7);if(se(o.value))return o.value}else return P;return P}),a=n=>{n.target instanceof HTMLInputElement&&(o.value=n.target.value+s.value)};return(n,g)=>(d(),u("input",{onInput:a,value:l.value,type:"color",class:le("p-1 w-10 h-full rounded-md appearance-none")},null,40,Ae))}}),j=f({__name:"InputText",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=z(e,"modelValue");return(o,s)=>H((d(),u("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t.value=l),type:"text",class:"p-1 border border-gray-300 rounded-md"},null,512)),[[ae,t.value]])}}),F=e=>e.charAt(0).toUpperCase()+e.slice(1),B=e=>{const t=e.replace(/([A-Z])/g," $1");return F(t)},Re={class:"px-4 my-2"},we={class:"my-2"},ke={class:"flex flex-wrap gap-3"},Te=["onClick"],Ue={class:"my-2"},$e={class:"text-white mb-2"},Ge={class:"font-bold text-lg"},Be={class:"text-md"},Ie={key:3,class:"text-red-500 font-bold"},ze=f({__name:"ThemeControls",props:{graph:{}},setup(e){const t=e,{setTheme:o}=I(t.graph,"playground-theme-controls"),s=k(G[t.graph.themeName.value]);return U(s,()=>{const a=Object.entries(s.value);for(const[n,g]of a)o(n,g)},{deep:!0}),(a,n)=>(d(),u("div",Re,[n[1]||(n[1]=p("div",null,[p("h2",{class:"text-2xl font-bold text-white"},"Theme Controls")],-1)),p("div",we,[n[0]||(n[0]=p("div",{class:"mb-2"},[p("h1",{class:"text-xl font-bold text-white"},"Presets")],-1)),p("div",ke,[(d(!0),u(V,null,T(c(G),(g,i)=>(d(),u("div",{onClick:v=>a.graph.themeName.value=i},[m(x,{style:{width:"120px","text-align":"center"}},{default:S(()=>[w(N(c(B)(i)),1)]),_:2},1024)],8,Te))),256))])]),(d(!0),u(V,null,T(c(G)[a.graph.themeName.value],(g,i)=>(d(),u("div",Ue,[p("div",$e,[p("h3",Ge,N(c(B)(i)),1),p("h4",Be,N(g),1)]),typeof g=="string"&&i.toLowerCase().includes("color")?(d(),y(W,{key:0,modelValue:s.value[i],"onUpdate:modelValue":v=>s.value[i]=v,style:{width:"100px",height:"30px"}},null,8,["modelValue","onUpdate:modelValue"])):typeof g=="string"?(d(),y(j,{key:1,modelValue:s.value[i],"onUpdate:modelValue":v=>s.value[i]=v},null,8,["modelValue","onUpdate:modelValue"])):typeof g=="number"?(d(),y(ve,{key:2,modelValue:s.value[i],"onUpdate:modelValue":v=>s.value[i]=v,style:{width:"100%"},min:0,max:100},null,8,["modelValue","onUpdate:modelValue"])):(d(),u("h5",Ie," Not Supported "))]))),256))]))}}),Q=f({__name:"InputCheckbox",props:{modelValue:{type:Boolean},modelModifiers:{}},emits:["update:modelValue"],setup(e){const t=z(e,"modelValue");return(o,s)=>H((d(),u("input",{"onUpdate:modelValue":s[0]||(s[0]=l=>t.value=l),type:"checkbox"},null,512)),[[ne,t.value]])}}),De=["onClick"],Oe={class:"text-white font-bold"},Pe=f({__name:"GraphPlaygroundControls",props:{playgroundControls:{}},setup(e){return(t,o)=>(d(!0),u(V,null,T(t.playgroundControls,(s,l)=>(d(),u("div",{class:"flex gap-3 items-center pl-3 py-2 hover:bg-gray-800 cursor-pointer",onClick:a=>t.playgroundControls[l]=!t.playgroundControls[l]},[m(Q,{modelValue:t.playgroundControls[l],"onUpdate:modelValue":a=>t.playgroundControls[l]=a,class:"h-6 w-6 rounded-xl cursor-pointer"},null,8,["modelValue","onUpdate:modelValue"]),p("h2",Oe,N(c(F)(l)),1)],8,De))),256))}}),Me={class:"my-2 px-4"},He={class:"text-white mb-2"},We={class:"font-bold text-lg"},je={class:"text-md"},Fe={key:3,class:"text-red-500 font-bold"},Qe=f({__name:"SettingsControls",props:{graph:{}},setup(e){return(t,o)=>(d(!0),u(V,null,T(t.graph.settings.value,(s,l)=>(d(),u("div",Me,[p("div",He,[p("h3",We,N(c(B)(l)),1),p("h4",je,N(s),1)]),typeof s=="string"&&l.toLowerCase().includes("color")?(d(),y(W,{key:0,modelValue:t.graph.settings.value[l],"onUpdate:modelValue":a=>t.graph.settings.value[l]=a,style:{width:"100px",height:"30px"}},null,8,["modelValue","onUpdate:modelValue"])):typeof s=="string"?(d(),y(j,{key:1,modelValue:t.graph.settings.value[l],"onUpdate:modelValue":a=>t.graph.settings.value[l]=a},null,8,["modelValue","onUpdate:modelValue"])):typeof s=="boolean"?(d(),y(Q,{key:2,modelValue:t.graph.settings.value[l],"onUpdate:modelValue":a=>t.graph.settings.value[l]=a,class:"h-6 w-6 rounded-xl cursor-pointer"},null,8,["modelValue","onUpdate:modelValue"])):(d(),u("h5",Fe," Not Supported "))]))),256))}}),Ye={class:"relative w-full h-full"},Ze={class:"w-full h-full absolute"},qe={key:0,class:"absolute flex gap-2 m-2 flex flex-wrap w-[85%]"},Je={key:1,class:"bottom-0 absolute flex gap-2 m-2"},Xe={key:2,class:"absolute w-full dark:text-white bottom-[10%] grid place-items-center pointer-events-none"},Ke={class:"absolute h-3/4 top-[100px] right-0"},et={key:0,class:"w-[325px] h-1/2 overflow-auto bg-gray-800 bg-opacity-80 rounded-l-xl mb-3"},tt={key:1,class:"w-[325px] h-1/2 overflow-auto bg-gray-800 bg-opacity-80 rounded-l-xl"},ot={class:"absolute w-[150px] top-1/4 overflow-auto bg-gray-800 bg-opacity-80 rounded-r-xl"},ct=f({__name:"GraphPlayground",setup(e){const t=k(),o=de(t,{edgeInputToLabel:n=>{if(ie(n))return n;if(!isNaN(Number(n)))return n}}),s=fe(o),{btnArr:l}=Se(o),a=re("graph-playground-controls",{tutorial:!0,theme:!0,settings:!0,buttons:!0});return U(a,()=>{a.value.tutorial?s.start():s.stop()},{immediate:!0,deep:!0}),(n,g)=>(d(),u("div",Ye,[p("div",Ze,[m(ue,{onGraphRef:g[0]||(g[0]=i=>t.value=i),graph:c(o)},null,8,["graph"])]),c(a).buttons?(d(),u("div",qe,[m(Ve,{btns:c(l)},null,8,["btns"])])):L("",!0),c(a).tutorial?(d(),u("div",Je,[m(Ee,{tutorial:c(s)},null,8,["tutorial"])])):L("",!0),c(a).tutorial?(d(),u("div",Xe,[m(pe,{tutorial:c(s)},null,8,["tutorial"])])):L("",!0),p("div",Ke,[c(a).theme?(d(),u("div",et,[m(ze,{graph:c(o)},null,8,["graph"])])):L("",!0),c(a).settings?(d(),u("div",tt,[m(Qe,{graph:c(o)},null,8,["graph"])])):L("",!0)]),p("div",ot,[m(Pe,{playgroundControls:c(a)},null,8,["playgroundControls"])])]))}});export{ct as default};
