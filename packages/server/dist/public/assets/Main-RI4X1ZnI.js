import{u as J,_ as Q}from"./Graph.vue_vue_type_script_setup_true_lang-PIMkvyRR.js";import{_ as ee}from"./SimulationPlaybackControls.vue_vue_type_script_setup_true_lang-BQd6oSab.js";import{T as k,a as y,b as E,c as te,_ as oe}from"./AnnotationControls.vue_vue_type_script_setup_true_lang-BsPipJz8.js";import{_ as se,u as ae}from"./TutorialHint.vue_vue_type_script_setup_true_lang-D_WK_uIO.js";import{e as v,o as u,L as h,w as i,a as p,t as $,c as m,b as r,d as b,A as g,F as S,B as N,v as x,Y as re,Z as B,_ as ne,$ as D,C as A,M as T,f as w,g as I,K as M,r as z,a0 as L,a1 as le,h as V,i as G,j as R,k as j,l as O,m as F,n as U,p as P,q as H,s as X,u as K}from"./index-CHTm4t2_.js";import{b as W}from"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-CUOECkLd.js";import"./types-BPZUaLaU.js";import"./Button.vue_vue_type_script_setup_true_lang-BFlKRlap.js";const ie={persistentStorageKey:"graph-sandbox"},ue={class:"text-white text-opacity-60 text-sm"},de=v({__name:"ToolbarHint",props:{tutorial:{}},setup(n){return(o,s)=>(u(),h(se,{tutorial:o.tutorial},{default:i(({hint:a})=>[p("h5",ue,$(a),1)]),_:1},8,["tutorial"]))}}),ce=v({__name:"IslandToolbar",props:{graph:{}},setup(n){const o=n,s=ae(o.graph,[{dismiss:"onNodeAdded",hint:"Double click on the canvas to add a node."},{dismiss:"onEdgeAdded",hint:"Hover node to show anchors, drag between them to add an edge."}]);s.start();const a=()=>{o.graph.bulkRemoveNode([...o.graph.focusedItemIds.value]),o.graph.bulkRemoveEdge([...o.graph.focusedItemIds.value])},d=()=>{const{activateAnnotation:e,deactivateAnnotation:t,annotationActive:c}=o.graph;c.value?t():e()};return(e,t)=>(u(),m(S,null,[r(te,null,{default:i(()=>[r(k,null,{default:i(()=>[r(y,{onClick:t[0]||(t[0]=c=>e.graph.settings.value.displayEdgeLabels=!0),active:e.graph.settings.value.displayEdgeLabels},{default:i(()=>t[6]||(t[6]=[b(" mdi-label-outline ")])),_:1},8,["active"]),r(E),r(y,{onClick:t[1]||(t[1]=c=>e.graph.settings.value.displayEdgeLabels=!1),active:!e.graph.settings.value.displayEdgeLabels},{default:i(()=>t[7]||(t[7]=[b(" mdi-label-off-outline ")])),_:1},8,["active"])]),_:1}),r(k,null,{default:i(()=>[r(y,{onClick:t[2]||(t[2]=c=>e.graph.settings.value.isGraphDirected=!0),active:e.graph.settings.value.isGraphDirected},{default:i(()=>t[8]||(t[8]=[b(" mdi-arrow-right-thin ")])),_:1},8,["active"]),r(E),r(y,{onClick:t[3]||(t[3]=c=>e.graph.settings.value.isGraphDirected=!1),active:!e.graph.settings.value.isGraphDirected},{default:i(()=>t[9]||(t[9]=[b(" mdi-minus ")])),_:1},8,["active"])]),_:1}),r(k,null,{default:i(()=>[r(y,{onClick:t[4]||(t[4]=c=>e.graph.undo()),disabled:!e.graph.canUndo.value},{default:i(()=>t[10]||(t[10]=[b(" mdi-undo ")])),_:1},8,["disabled"]),r(E),r(y,{onClick:t[5]||(t[5]=c=>e.graph.redo()),disabled:!e.graph.canRedo.value},{default:i(()=>t[11]||(t[11]=[b(" mdi-redo ")])),_:1},8,["disabled"])]),_:1}),r(k,null,{default:i(()=>[r(y,{onClick:a,disabled:e.graph.focusedItemIds.value.size===0||e.graph.annotationActive.value},{default:i(()=>t[12]||(t[12]=[b(" mdi-eraser ")])),_:1},8,["disabled"])]),_:1}),r(k,null,{default:i(()=>[r(y,null,{default:i(()=>t[13]||(t[13]=[b("mdi-account-group")])),_:1})]),_:1}),r(k,null,{default:i(()=>[r(y,{onClick:d,active:e.graph.annotationActive.value},{default:i(()=>t[14]||(t[14]=[b(" mdi-pencil ")])),_:1},8,["active"])]),_:1})]),_:1}),r(de,{tutorial:g(s)},null,8,["tutorial"])],64))}}),Z="markup",pe=["XS","SM","MD","LG","XL"],_e={XS:25,SM:30,MD:35,LG:40,XL:45},me={XS:6,SM:8,MD:10,LG:12,XL:14},ge=n=>{const{setTheme:o,removeAllThemes:s}=N(n,Z),a=W("markup-color-map",new Map),d=l=>{if(a.value.get(l.id))return re(n.theme.value.nodeColor,l)},e=l=>{const _=a.value.get(l.id);if(_)return n.isFocused(l.id)?B(_,30):_},t=l=>{const _=a.value.get(l.id);if(_)return n.isFocused(l.id)?B(_,30):_};return{colorize:()=>{o("nodeColor",d),o("nodeBorderColor",e),o("nodeFocusBorderColor",e),o("nodeAnchorColor",e),o("nodeAnchorColorWhenParentFocused",e),o("edgeColor",t),o("marqueeSelectionBoxColor",x.TRANSPARENT),o("marqueeEncapsulatedNodeBoxBorderColor",x.WHITE+"80"),o("marqueeEncapsulatedNodeBoxColor",x.TRANSPARENT)},decolorize:()=>{s()},colorMap:a}},fe=n=>{const{setTheme:o,removeAllThemes:s}=N(n,Z),a=W("markup-size-map",new Map),d=f=>{const l=a.value.get(f.id);if(l)return _e[l]},e=f=>{const l=a.value.get(f.id);if(l)return me[l]};return{size:()=>{o("nodeSize",d),o("edgeWidth",e)},desize:()=>{s()},sizeMap:a}},ve={},he={class:"flex flex-col gap-1"};function be(n,o){return u(),m("div",he,[D(n.$slots,"default")])}const q=ne(ve,[["render",be]]),Y=v({__name:"Button",props:{active:{type:Boolean}},setup(n){return(o,s)=>(u(),m("button",{class:A(["cursor-pointer","rounded-xl","p-1","border-2",o.active?"border-white":"border-transparent",o.active?"hover:border-white":"hover:border-gray-400"])},[p("div",{class:A(["relative","w-8","h-8","rounded-md","flex","items-center","justify-center","text-white","text-sm",o.active?"bg-gray-800":"bg-gray-700"])},[D(o.$slots,"default")],2)],2))}}),xe=v({__name:"InputColor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(n){const o=[x.BLACK,x.BLUE_600,x.RED_600,x.GREEN_600,x.YELLOW_600],s=T(n,"modelValue");return(a,d)=>(u(),h(q,null,{default:i(()=>[(u(),m(S,null,w(o,e=>r(Y,{onClick:t=>s.value=e,key:e,active:s.value===e},{default:i(()=>[p("div",{class:A([`bg-[${e}]`,"w-full","h-full","rounded-md"])},null,2)]),_:2},1032,["onClick","active"])),64))]),_:1}))}}),ye=v({__name:"NodeEdgeColorInput",props:{graph:{},colorMap:{}},setup(n){const o=n,s=()=>{const e=Array.from(o.graph.focusedItemIds.value),t=new Set(e.map(c=>o.colorMap.get(c)));if(!t.has(void 0)&&!(t.size>1))return t.values().next().value},a=I(s()),d=e=>{for(const t of o.graph.focusedItemIds.value)o.colorMap.set(t,e);a.value=e};return o.graph.subscribe("onFocusChange",()=>{a.value=s()}),(e,t)=>(u(),h(xe,{"model-value":a.value,"onUpdate:modelValue":d},null,8,["model-value"]))}}),ke=v({__name:"InputSize",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(n){const o=pe,s=T(n,"modelValue");return(a,d)=>(u(),h(q,null,{default:i(()=>[(u(!0),m(S,null,w(g(o),e=>(u(),h(Y,{onClick:t=>s.value=e,key:e,active:s.value===e},{default:i(()=>[b($(e),1)]),_:2},1032,["onClick","active"]))),128))]),_:1}))}}),$e=v({__name:"NodeEdgeSizeInput",props:{graph:{},sizeMap:{}},setup(n){const o=n,s=()=>{const e=Array.from(o.graph.focusedItemIds.value),t=new Set(e.map(c=>o.sizeMap.get(c)));if(!t.has(void 0)&&!(t.size>1))return t.values().next().value},a=I(s()),d=e=>{for(const t of o.graph.focusedItemIds.value)o.sizeMap.set(t,e);a.value=e,o.graph.updateEncapsulatedNodeBox()};return o.graph.subscribe("onFocusChange",()=>{a.value=s()}),(e,t)=>(u(),h(ke,{"model-value":a.value,"onUpdate:modelValue":d},null,8,["model-value"]))}}),Se={key:0,class:"flex flex-col gap-3"},Ce={class:"p-2 bg-gray-800 rounded-xl"},ze={class:"p-2 bg-gray-800 rounded-xl"},Me=v({__name:"IslandMarkup",props:{graph:{}},setup(n){const o=n,{colorize:s,colorMap:a}=ge(o.graph);s();const{size:d,sizeMap:e}=fe(o.graph);return d(),(t,c)=>o.graph.focusedItemIds.value.size>0?(u(),m("div",Se,[p("div",Ce,[r(ye,{graph:o.graph,colorMap:g(a)},null,8,["graph","colorMap"])]),p("div",ze,[r($e,{graph:o.graph,sizeMap:g(e)},null,8,["graph","sizeMap"])])])):M("",!0)}}),Ie={class:"bg-gray-800 flex flex-col text-white p-2 w-[400px] rounded-lg"},we=["onClick"],Ee=["src"],Ae={class:"flex flex-col gap-1"},Te={class:"text-lg font-bold text-gray-200"},Be={class:"text-sm text-gray-400"},Ne=v({__name:"StartSimulation",props:{simulations:{},startSimulation:{type:Function}},setup(n){return(o,s)=>{const a=z("v-btn"),d=z("v-menu");return u(),h(d,{offset:[10,0]},{activator:i(({props:e})=>[r(a,L(e,{icon:"mdi-play",size:"large",color:g(x).GRAY_800}),null,16,["color"])]),default:i(()=>[p("div",Ie,[(u(!0),m(S,null,w(o.simulations,e=>(u(),m("button",{key:e.name,onClick:t=>o.startSimulation(e),class:"hover:bg-gray-900 p-2 rounded-md cursor-pointer rounded-lg text-left flex gap-4"},[p("img",{src:e.thumbnail,class:"object-cover h-20 w-20 rounded-md"},null,8,Ee),p("div",Ae,[p("h1",Te,$(e.name),1),p("p",Be,$(e.description),1)])],8,we))),128))])]),_:1})}}}),De=v({__name:"SimulationDropdown",props:le({graph:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(n){const o=n,s=T(n,"modelValue"),t=Object.values(Object.assign({"/src/menu/info.ts":V,"/src/playground/annotation/info.ts":G,"/src/playground/graph/info.ts":R,"/src/playground/shape/info.ts":j,"/src/products/dijkstras/info.ts":O,"/src/products/graph-sandbox/info.ts":F,"/src/products/markov-chains/info.ts":U,"/src/products/min-spanning-tree/info.ts":P,"/src/products/network-flow/info.ts":H,"/src/products/search-visualizer/info.ts":X,"/src/products/set-visualizer/info.ts":K})).map(l=>l.default).map(l=>l.simulations).filter(Boolean).map(l=>l(o.graph)).flat(),c=async l=>{const{controls:_,onInit:C}=l;s.value=l,await(C==null?void 0:C()),_.start()},f=async()=>{if(!s.value)return;const{controls:l,onDismiss:_}=s.value;l.stop(),await(_==null?void 0:_()),s.value=void 0};return(l,_)=>{const C=z("v-btn");return u(),m("div",null,[s.value?(u(),h(C,{key:1,onClick:f,color:g(x).RED_600,icon:"mdi-stop",size:"large"},null,8,["color"])):(u(),h(Ne,{key:0,simulations:g(t),"start-simulation":c},null,8,["simulations"]))])}}}),Le={class:"bg-gray-800 flex flex-col text-white p-2 w-[400px] h-[700px] overflow-auto rounded-lg"},Ve=["src"],Ge={class:"flex flex-col gap-1"},Re={class:"text-xl font-bold text-gray-200"},je={class:"text-md text-gray-400"},Oe=v({__name:"ExperienceDropdown",setup(n){const a=Object.values(Object.assign({"/src/menu/info.ts":V,"/src/playground/annotation/info.ts":G,"/src/playground/graph/info.ts":R,"/src/playground/shape/info.ts":j,"/src/products/dijkstras/info.ts":O,"/src/products/graph-sandbox/info.ts":F,"/src/products/markov-chains/info.ts":U,"/src/products/min-spanning-tree/info.ts":P,"/src/products/network-flow/info.ts":H,"/src/products/search-visualizer/info.ts":X,"/src/products/set-visualizer/info.ts":K})).map(d=>d.default).filter(d=>d==null?void 0:d.menu);return(d,e)=>{const t=z("router-link"),c=z("v-menu");return u(),h(c,{offset:[10,0]},{activator:i(({props:f})=>[p("button",L(f,{class:"bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 text-xl font-bold rounded-lg"}),e[0]||(e[0]=[p("h1",{class:"bg-gradient-to-tr dark:from-purple-600 dark:to-orange-500 from-purple-500 to-orange-500 text-transparent bg-clip-text"}," Magic Algorithms ",-1)]),16)]),default:i(()=>[p("div",Le,[(u(!0),m(S,null,w(g(a),f=>(u(),h(t,{to:f.route.path,class:"hover:bg-gray-900 p-2 rounded-md cursor-pointer rounded-lg text-left flex gap-4"},{default:i(()=>[p("img",{src:f.menu.thumbnail,class:"object-cover h-20 w-20 rounded-md"},null,8,Ve),p("div",Ge,[p("h1",Re,$(f.menu.name),1),p("p",je,$(f.menu.description),1)])]),_:2},1032,["to"]))),256))])]),_:1})}}}),Fe={key:0,class:"absolute top-6 w-full flex flex-col justify-center items-center gap-2"},Ue={key:1,class:"absolute top-0 w-0 h-full flex items-center"},Pe={class:"ml-4"},He={class:"absolute top-6 left-6"},Xe={class:"absolute top-6 right-6"},Ke={key:2,class:"absolute bottom-8 w-full flex justify-center items-center p-3"},We={key:3,class:"absolute bottom-8 w-full flex justify-center items-center p-3"},st=v({__name:"Main",setup(n){const o=I(),s=J(o,{settings:ie}),a=I();return(d,e)=>{var t;return u(),m(S,null,[r(Q,{onGraphRef:e[0]||(e[0]=c=>o.value=c),graph:g(s)},null,8,["graph"]),a.value?M("",!0):(u(),m("div",Fe,[r(ce,{graph:g(s)},null,8,["graph"])])),a.value?M("",!0):(u(),m("div",Ue,[p("div",Pe,[r(Me,{graph:g(s)},null,8,["graph"])])])),p("div",He,[r(Oe)]),p("div",Xe,[r(De,{modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=c=>a.value=c),graph:g(s)},null,8,["modelValue","graph"])]),(t=a.value)!=null&&t.controls.isActive?(u(),m("div",Ke,[r(ee,{controls:a.value.controls},null,8,["controls"])])):g(s).annotationActive.value?(u(),m("div",We,[r(oe,{graph:g(s)},null,8,["graph"])])):M("",!0)],64)}}});export{st as default};
