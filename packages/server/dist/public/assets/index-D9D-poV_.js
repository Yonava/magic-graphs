import{bt as E,bu as bt,bv as z,bw as pt,bx as xt,by as Wt,bz as _,bd as G,bA as q,bB as P,bC as V,bD as Ot,bE as mt,bF as wt,bG as fe,bH as ge,bI as _t,bJ as be,bK as yt,bL as Gt,bM as Ut,bN as M,bO as Ht,bf as Z,bP as rt,bQ as Yt,bR as Dt,bS as Q,bT as pe,bU as xe,bV as me,bW as we,bX as ye,bY as ve,bZ as Ae,b_ as Te,b$ as Ce,d as Me,g as tt,at as vt,au as Se,c as Ee,m as He,u as Ie,o as Le,an as lt,c0 as dt,c1 as Ft,c2 as Re,c3 as It,c4 as ke,z as Be,c5 as ze,A as Pe}from"./index-DenfF-1e.js";const At=t=>{const{pointA:e,pointB:r,pointC:o,textArea:n}={...Vt,...t};if(!n)throw new Error("no text area provided");const{textBlock:s}=n,{fontSize:i}={...Wt,...s},a=(e.x+r.x+o.x)/3,c=(e.y+r.y+o.y)/3;return{x:a-i,y:c-i}},We=t=>{if(!t.textArea)return;const e=At(t),r=E(t.textArea,e),{width:o,height:n}=bt(r.textBlock),s=z({at:r.at,width:o,height:n});return i=>s(i)},Xt=t=>{if(!t.textArea)return;const e=At(t),r=E(t.textArea,e),o=pt(r);return n=>o(n)},Nt=t=>{if(!t.textArea)return;const e=At(t),r=E(t.textArea,e),o=xt(r);return n=>o(n)},Oe=t=>{const e=Xt(t),r=Nt(t);if(!(!e||!r))return o=>{e(o),r(o)}},$t=t=>e=>{const{pointA:r,pointB:o,pointC:n,stroke:s}=t,{x:i,y:a}=e,c=.5*(-o.y*n.x+r.y*(-o.x+n.x)+r.x*(o.y-n.y)+o.x*n.y),l=1/(2*c)*(r.y*n.x-r.x*n.y+(n.y-r.y)*i+(r.x-n.x)*a),d=1/(2*c)*(r.x*o.y-r.y*o.x+(r.y-o.y)*i+(o.x-r.x)*a),h=l>0&&d>0&&1-l-d>0;if(!s)return h;const{lineWidth:u}=s,p={start:r,end:o,width:u},f={start:o,end:n,width:u},g={start:n,end:r,width:u},x=q(p)(e)||q(f)(e)||q(g)(e);return h||x},jt=t=>()=>{const{pointA:e,pointB:r,pointC:o}=t,n=Math.min(e.x,r.x,o.x),s=Math.min(e.y,r.y,o.y),i=Math.max(e.x,r.x,o.x),a=Math.max(e.y,r.y,o.y);return G({at:{x:n,y:s},width:i-n,height:a-s})},qt=t=>{const e=jt(t)(),r=_(e);return o=>r(o)},Vt={...V},_e=t=>{const e=Zt(t),r=$t(t),o=We(t),n=qt(t),s=r,i=jt(t),a=Oe(t),c=Xt(t),l=Nt(t);return P({name:"triangle",draw:h=>{e(h),a==null||a(h)},drawShape:e,drawTextArea:a,drawTextAreaMatte:c,drawText:l,hitbox:s,shapeHitbox:r,textHitbox:o,efficientHitbox:n,getBoundingBox:i})},Zt=t=>e=>{const{pointA:r,pointB:o,pointC:n,fillColor:s,stroke:i,fillGradient:a}={...Vt,...t};if(e.beginPath(),e.moveTo(r.x,r.y),e.lineTo(o.x,o.y),e.lineTo(n.x,n.y),a&&a.length>=2){const c={x:(o.x+n.x)/2,y:(o.y+n.y)/2},l=e.createLinearGradient(c.x,c.y,r.x,r.y);a.forEach(({offset:d,color:h})=>{l.addColorStop(d,h)}),e.fillStyle=l}else e.fillStyle=s;e.fill(),e.closePath(),i&&(e.lineWidth=i.lineWidth,e.strokeStyle=i.color,e.setLineDash(i.dash??[]),e.stroke(),e.setLineDash([]))},Jt=t=>{var C;const{start:e,end:r,lineWidth:o,fillColor:n,dash:s,fillGradient:i,arrowHeadSize:a,arrowHeadShape:c}={...nt,...t},l=Math.atan2(r.y-e.y,r.x-e.x),{arrowHeadHeight:d,perpLineLength:h}=a(o),u={x:r.x-d*Math.cos(l),y:r.y-d*Math.sin(l)},p={start:e,end:{x:u.x+Math.cos(l),y:u.y+Math.sin(l)},lineWidth:o,fillColor:n,dash:s,fillGradient:i},f=Ot(p),g=r,x={x:u.x+h*Math.cos(l+Math.PI/2),y:u.y+h*Math.sin(l+Math.PI/2)},v={x:u.x-h*Math.cos(l+Math.PI/2),y:u.y-h*Math.sin(l+Math.PI/2)},A=c?c(r,d,h).draw:Zt({pointA:g,pointB:x,pointC:v,fillColor:i&&i.length?(C=i.at(-1))==null?void 0:C.color:n});return S=>{f(S),A(S)}},Kt=t=>{const{start:e,end:r,lineWidth:o,arrowHeadSize:n,arrowHeadShape:s}={...nt,...t},i=q(t),{arrowHeadHeight:a,perpLineLength:c}=n(o),l=mt({start:e,end:r,lineWidth:o,arrowHeadSize:n}),d=s?s(r,a,c).hitbox:$t(l);return h=>i(h)||d(h)},Ge=t=>()=>{const{at:e,width:r,height:o}=fe(t)(),n={x:e.x,y:e.y},s={x:e.x+r,y:e.y+o},{start:i,end:a,lineWidth:c,arrowHeadSize:l}={...nt,...t},d=mt({start:i,end:a,lineWidth:c,arrowHeadSize:l}),h=Math.min(n.x,s.x,d.pointA.x,d.pointB.x,d.pointC.x),u=Math.max(n.x,s.x,d.pointA.x,d.pointB.x,d.pointC.x),p=Math.min(n.y,s.y,d.pointA.y,d.pointB.y,d.pointC.y),f=Math.max(n.y,s.y,d.pointA.y,d.pointB.y,d.pointC.y);return G({at:{x:h,y:p},width:u-h,height:f-p})},Ue=t=>{const e=wt(t),{start:r,end:o,lineWidth:n,arrowHeadSize:s}={...nt,...t},i=mt({start:r,end:o,lineWidth:n,arrowHeadSize:s}),a=qt(i);return c=>e(c)||a(c)},ot=t=>{const{textArea:e}=t;if(!e)throw new Error("no text area provided");return ge(t)},Ye=t=>{if(!t.textArea)return;const e=ot(t),r=E(t.textArea,e),{width:o,height:n}=bt(r.textBlock),s=z({at:r.at,width:o,height:n});return i=>s(i)},Qt=t=>{if(!t.textArea)return;const e=ot(t),r=E(t.textArea,e),o=pt(r);return n=>o(n)},te=t=>{if(!t.textArea)return;const e=ot(t),r=E(t.textArea,e),o=xt(r);return n=>o(n)},De=t=>{const e=Qt(t),r=te(t);if(!(!e||!r))return o=>{e(o),r(o)}},nt={...be,arrowHeadSize:_t},Fe=t=>{if(t.lineWidth&&t.lineWidth<0)throw new Error("width must be positive");const e=Jt(t),r=Kt(t),o=Ye(t),n=Ue(t),s=u=>(o==null?void 0:o(u))||r(u),i=Ge(t),a=De(t),c=Qt(t),l=te(t);return P({name:"arrow",draw:u=>{e(u),a==null||a(u)},drawShape:e,drawTextArea:a,drawTextAreaMatte:c,drawText:l,hitbox:s,shapeHitbox:r,textHitbox:o,efficientHitbox:n,getBoundingBox:i,activateTextArea:(u,p)=>{if(!t.textArea)return;const f=ot(t),g=E(t.textArea,f);yt(u,g,p)}})},Xe={...Ut},Ne=t=>({...Gt({...Xe,...t,width:t.size,height:t.size}),name:"square"}),$e=t=>{const{spacing:e,at:r,upDistance:o,downDistance:n,rotation:s,lineWidth:i,fillColor:a,arrowHeadShape:c,arrowHeadSize:l,fillGradient:d}={...at,...t},h=M({x:r.x,y:r.y-e},r,s),u=M({x:r.x+o,y:r.y-e},r,s),p=M({x:r.x+o,y:r.y+e},r,s),f=M({x:r.x+o-n,y:r.y+e},r,s),g=M({x:r.x+o,y:r.y},r,s);let x=[],v=[],A=[];if(d&&d.length>=2){const m=o+n+Math.PI*e,L=Ht(d,o/m),R=Ht(d,(m-n)/m);x=[...d.filter(T=>T.offset<=o/m),{offset:1,color:L}],v=[{offset:0,color:L},...d.filter(T=>T.offset>=o/m&&T.offset<=(m-n)/m).map(T=>({offset:(T.offset-o/m)/(Math.PI*e/m),color:T.color})),{offset:1,color:R}],A=[{offset:0,color:R},...d.filter(T=>T.offset>=(m-n)/m).map(T=>({offset:(T.offset-(m-n)/m)/(n/m),color:T.color}))]}const C=Ot({start:h,end:u,lineWidth:i,fillColor:a,fillGradient:x}),S=Jt({start:p,end:f,lineWidth:i,fillColor:a,arrowHeadSize:l,arrowHeadShape:c,fillGradient:A});return m=>{if(C(m),S(m),m.beginPath(),m.strokeStyle=a,v.length>=2){const L=Math.PI/2+s+.01,R=-Math.PI/2+s-.01,T=g.x+Math.cos(L)*e,Y=g.y+Math.sin(L)*e,D=g.x+Math.cos(R)*e,F=g.y+Math.sin(R)*e,w=m.createLinearGradient(D,F,T,Y);for(const X of v)w.addColorStop(X.offset,X.color);m.strokeStyle=w}m.arc(g.x,g.y,e,Math.PI/2+s+.01,-Math.PI/2+s-.01,!0),m.lineWidth=i,m.stroke(),m.closePath()}},je=t=>{const{spacing:e,at:r,downDistance:o,upDistance:n,lineWidth:s,rotation:i}={...at,...t},a=M({x:r.x,y:r.y-e},r,i),c=M({x:r.x+n,y:r.y-e},r,i),l=M({x:r.x+n,y:r.y+e},r,i),d=M({x:r.x+n-o,y:r.y+e},r,i),h=M({x:r.x+n,y:r.y},r,i),u=q({start:a,end:c,lineWidth:s}),p=Kt({start:l,end:d,lineWidth:s}),f=Z({at:h,radius:e+s/2}).hitbox;return g=>u(g)||p(g)||f(g)},ee=t=>()=>{const{spacing:e,at:r,upDistance:o,rotation:n,lineWidth:s}={...at,...t},i=M({x:r.x+o,y:r.y},r,n),a=Math.min(r.x,i.x)-s/2-e,c=Math.min(r.y,i.y)-s/2-e,l=Math.max(r.x,i.x)+s/2+e,d=Math.max(r.y,i.y)+s/2+e;return G({at:{x:a,y:c},width:l-a,height:d-c})},qe=t=>{const e=ee(t)(),r=_(e);return o=>r(o)},st=t=>{const{at:e,upDistance:r,rotation:o,textArea:n,spacing:s,lineWidth:i}={...at,...t};if(!n)throw new Error("no text area provided");const{textBlock:a}=n,{fontSize:c}={...Wt,...a},l=M({x:e.x+r+s+i/2,y:e.y},e,o);return{x:l.x-c+Math.cos(o)*15,y:l.y-c+Math.sin(o)*15}},Ve=t=>{if(!t.textArea)return;const e=st(t),r=E(t.textArea,e),{width:o,height:n}=bt(r.textBlock),s=z({at:r.at,width:o,height:n});return i=>s(i)},re=t=>{if(!t.textArea)return;const e=st(t),r=E(t.textArea,e),o=pt(r);return n=>o(n)},oe=t=>{if(!t.textArea)return;const e=st(t),r=E(t.textArea,e),o=xt(r);return n=>o(n)},Ze=t=>{const e=re(t),r=oe(t);if(!(!e||!r))return o=>{e(o),r(o)}},at={...V,...rt,...Yt,...rt,arrowHeadSize:_t},Je=t=>{if(t.downDistance<0)throw new Error("downDistance must be positive");if(t.upDistance<0)throw new Error("upDistance must be positive");const e=$e(t),r=je(t),o=Ve(t),n=qe(t),s=u=>(o==null?void 0:o(u))||r(u),i=ee(t),a=Ze(t),c=re(t),l=oe(t);return P({name:"uturn",draw:u=>{e(u),a==null||a(u)},drawShape:e,drawTextArea:a,drawTextAreaMatte:c,drawText:l,hitbox:s,shapeHitbox:r,textHitbox:o,efficientHitbox:n,getBoundingBox:i,activateTextArea:(u,p)=>{if(!t.textArea)return;const f=st(t),g=E(t.textArea,f);yt(u,g,p)}})},Ke=t=>{const{at:e,size:r,lineWidth:o,borderRadius:n,...s}={...se,...t},i=o/2,[a,c,l,d]=Dt(n),h=z({...s,at:{x:e.x-r/2,y:e.y-i},width:r,height:o,borderRadius:[d,c,c,d]}),u=z({...s,at:{x:e.x-i,y:e.y-r/2},width:o,height:r,borderRadius:[a,a,l,l]});return p=>h(p)||u(p)},ne=t=>()=>{const{at:e,size:r}=t;return G({at:{x:e.x-r/2,y:e.y-r/2},width:r,height:r})},Qe=t=>{const e=ne(t)(),r=_(e);return o=>r(o)},tr=t=>{const{at:e,size:r,rotation:o,fillColor:n,lineWidth:s,borderRadius:i}={...se,...t},a=s/2,[c,l,d,h]=Dt(i);return u=>{u.save(),u.translate(e.x,e.y),u.rotate(o),Q({at:{x:-a,y:-r/2},width:s,height:r/2-a,fillColor:n,borderRadius:[c,c,0,0]})(u),Q({at:{x:-r/2,y:-a},width:r,height:s,fillColor:n,borderRadius:[h,l,l,h]})(u),Q({at:{x:-a,y:a},width:s,height:r/2-a,fillColor:n,borderRadius:[0,0,d,d]})(u),u.restore()}},se={...rt,...V,...Yt,...pe},er=t=>{if(t.lineWidth&&t.lineWidth<0)throw new Error("lineWidth must be positive");const e=tr(t),r=Ke(t),o=Qe(t),n=ne(t);return P({name:"cross",draw:e,drawShape:e,hitbox:r,shapeHitbox:r,efficientHitbox:o,getBoundingBox:n})},rr=t=>e=>{const{type:r,fillColor:o,brushWeight:n,points:s}={...it,...t};(r==="draw"?()=>{if(s.length===1){Z({at:s[0],radius:n/2,fillColor:o}).draw(e);return}e.strokeStyle=o,e.lineCap="round",e.lineJoin="round",e.lineWidth=n,e.beginPath();const[c,...l]=s;e.moveTo(c.x,c.y),l.forEach(({x:d,y:h})=>e.lineTo(d,h)),e.stroke()}:()=>{e.globalCompositeOperation="destination-out",e.lineWidth=ut;for(let c=0;c<s.length-1;c++){const l=s[c],d=s[c+1],h=Math.pow(d.x-l.x,2)+Math.pow(d.y-l.y,2),u=Math.sqrt(h),p=Math.ceil(u/ut);for(let f=0;f<=p;f++){const g=l.x+f/p*(d.x-l.x),x=l.y+f/p*(d.y-l.y);e.beginPath(),e.arc(g,x,ut,0,Math.PI*2),e.fill()}}e.globalCompositeOperation="source-over"})(),e.lineCap="butt",e.lineJoin="miter"},or=t=>e=>{const{type:r,points:o,brushWeight:n}={...it,...t};if(r==="erase")return!1;const{at:s,width:i,height:a}=Tt(t)();if(!z({at:s,width:Math.max(i,n),height:Math.max(a,n)})(e))return!1;if(o.length===1&&Z({at:o[0],radius:n}).hitbox(e))return!0;for(let l=0;l<o.length-1;l++){const d={start:o[l],end:o[l+1]};if(wt(d)({at:e,width:1,height:1}))return!0}return!1},Tt=t=>()=>{const{points:e,brushWeight:r}={...it,...t};let o=e[0].x,n=e[0].y,s=e[0].x,i=e[0].y;for(const a of e)a.x<o&&(o=a.x),a.y<n&&(n=a.y),a.x>s&&(s=a.x),a.y>i&&(i=a.y);return G({at:{x:o-r/2,y:n-r/2},width:s-o+r,height:i-n+r})},nr=t=>e=>{if(t.type==="erase")return!1;const{at:r,width:o,height:n}=Tt(t)(),{points:s,brushWeight:i}={...it,...t},a=_({at:r,width:Math.max(o,i),height:Math.max(n,i)});if(s.length===1)return Z({at:s[0],radius:i}).efficientHitbox(e);if(!a(e))return!1;for(let c=0;c<s.length-1;c++){const l={start:s[c],end:s[c+1]};if(wt(l)(e))return!0}return!1},it={...V,brushWeight:3},ut=50,sr=t=>{if(t.points.length<1)throw new Error("not enough points to draw scribble");if(t.brushWeight&&t.brushWeight<1)throw new Error('brushWeight must be at least "1"');const e=or(t),r=nr(t),o=e,n=Tt(t),s=rr(t);return P({name:"scribble",drawShape:s,draw:s,hitbox:o,shapeHitbox:e,efficientHitbox:r,getBoundingBox:n})},ar=t=>{const{at:e,innerRadius:r,outerRadius:o,points:n=5,rotation:s=0}=t,i=[];for(let a=0;a<n*2;a++){const c=a%2===0?o:r,l=a*Math.PI/n,d=Math.cos(l)*c,h=Math.sin(l)*c,u=M({x:d,y:h},{x:0,y:0},s);i.push({x:u.x+e.x,y:u.y+e.y})}return i},ir=(t,e)=>{let r=!1;for(let o=0,n=e.length-1;o<e.length;n=o++){const s=e[o].x,i=e[o].y,a=e[n].x,c=e[n].y;i>t.y!=c>t.y&&(c-i!==0?t.x<(a-s)*(t.y-i)/(c-i)+s:t.x<s)&&(r=!r)}return r},cr=t=>e=>{const r=ar(t);return ir(e,r)},ae=t=>()=>{const{at:e,outerRadius:r}=t,o=r*2;return G({at:{x:e.x-r,y:e.y-r},width:o,height:o})},lr=t=>{const e=ae(t)(),r=_(e);return o=>r(o)},Lt=t=>{const{at:e,fillColor:r,innerRadius:o,outerRadius:n,rotation:s,points:i}={...dr,...t};if(i<3)throw new Error("star must have at least 3 points");if(o>=n)throw new Error("inner radius must be less than outer radius");if(o<0||n<0)throw new Error("radius values must be positive");return a=>{a.save(),a.beginPath(),a.translate(e.x,e.y),a.rotate(s);for(let c=0;c<i*2;c++){const l=c%2===0?n:o,d=c*Math.PI/i,h=Math.cos(d)*l,u=Math.sin(d)*l;c===0?a.moveTo(h,u):a.lineTo(h,u)}a.closePath(),a.fillStyle=r,a.fill(),a.restore()}},dr={...V,...rt,points:5},ur=t=>{const e=Lt(t),r=Lt(t),o=cr(t),n=o,s=lr(t),i=ae(t);return P({name:"star",draw:e,drawShape:r,hitbox:n,shapeHitbox:o,efficientHitbox:s,getBoundingBox:i})},ht=new Map,hr=async(t,e)=>new Promise(r=>{ht.has(t)&&r(ht.get(t));const o={image:null,loading:!0,error:!1};ht.set(t,o);const n=new Image;n.onload=()=>{var s;o.image=n,o.loading=!1,(s=e.onLoad)==null||s.call(e),r(o)},n.onerror=()=>{var s;o.loading=!1,o.error=!0,(s=e.onLoadError)==null||s.call(e),r(o)},n.src=t}),fr=(t,e,r)=>{const n=-t/2,s=-e/2;for(let i=0;i<Math.ceil(e/10);i++)for(let a=0;a<Math.ceil(t/10);a++)r.fillStyle=(a+i)%2===0?"#FF00DC":"#000000",r.fillRect(n+a*10,s+i*10,10,10)},gr=t=>{const{src:e,onLoad:r,onLoadError:o,...n}={...ie,...t},{width:s,height:i,at:a,rotation:c}=n;return async l=>{const{image:d,error:h}=await hr(e,{onLoad:r,onLoadError:o});Q(n)(l),l.save();const u=a.x+s/2,p=a.y+i/2;l.translate(u,p),c&&l.rotate(c),h&&fr(s,i,l),d&&l.drawImage(d,-s/2,-i/2,s,i),l.restore()}},br=t=>{const{at:e,width:r,height:o,rotation:n}={...ie,...t},s=z({at:e,width:r,height:o,rotation:n});return i=>s(i)},pr=t=>{const{at:e,width:r,height:o}=t;return xe({at:e,width:r,height:o})},xr=t=>{const{at:e,width:r,height:o}=t,n=_({at:e,width:r,height:o});return s=>n(s)},mr=t=>Ae(t),wr=t=>{if(t.textArea)return me(t)},yr=t=>{if(t.textArea)return ye(t)},vr=t=>{if(t.textArea)return ve(t)},Ar=t=>{if(t.textArea)return we(t)},ie={...Ut},Tr=t=>{if(t.width<0||t.height<0)throw new Error("width and height must be positive");const e=gr(t),r=br(t),o=wr(t),n=xr(t),s=u=>(o==null?void 0:o(u))||r(u),i=pr(t),a=Ar(t),c=yr(t),l=vr(t);return P({name:"image",draw:async u=>{await e(u),a==null||a(u)},drawShape:e,drawTextArea:a,drawTextAreaMatte:c,drawText:l,hitbox:s,shapeHitbox:r,textHitbox:o,efficientHitbox:n,getBoundingBox:i,activateTextArea:(u,p)=>{if(!t.textArea)return;const f=mr(t),g=E(t.textArea,f);yt(u,g,p)}})},Cr=()=>t=>e=>({...t(e)}),Mr=Ce,Sr=Fe,Er=Z,Hr=Gt,Ir=Ne,Lr=_e,Rr=Je,kr=er,Br=sr,zr=Te,Pr=ur,Wr=Tr,So=()=>{const t=Cr();return{arrow:t(Sr),circle:t(Er),line:t(Mr),rect:t(Hr),square:t(Ir),triangle:t(Lr),uturn:t(Rr),cross:t(kr),scribble:t(Br),ellipse:t(zr),star:t(Pr),image:t(Wr)}},Ct="-",Or=t=>{const e=Gr(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:i=>{const a=i.split(Ct);return a[0]===""&&a.length!==1&&a.shift(),ce(a,e)||_r(i)},getConflictingClassGroupIds:(i,a)=>{const c=r[i]||[];return a&&o[i]?[...c,...o[i]]:c}}},ce=(t,e)=>{var i;if(t.length===0)return e.classGroupId;const r=t[0],o=e.nextPart.get(r),n=o?ce(t.slice(1),o):void 0;if(n)return n;if(e.validators.length===0)return;const s=t.join(Ct);return(i=e.validators.find(({validator:a})=>a(s)))==null?void 0:i.classGroupId},Rt=/^\[(.+)\]$/,_r=t=>{if(Rt.test(t)){const e=Rt.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Gr=t=>{const{theme:e,prefix:r}=t,o={nextPart:new Map,validators:[]};return Yr(Object.entries(t.classGroups),r).forEach(([s,i])=>{gt(i,o,s,e)}),o},gt=(t,e,r,o)=>{t.forEach(n=>{if(typeof n=="string"){const s=n===""?e:kt(e,n);s.classGroupId=r;return}if(typeof n=="function"){if(Ur(n)){gt(n(o),e,r,o);return}e.validators.push({validator:n,classGroupId:r});return}Object.entries(n).forEach(([s,i])=>{gt(i,kt(e,s),r,o)})})},kt=(t,e)=>{let r=t;return e.split(Ct).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},Ur=t=>t.isThemeGetter,Yr=(t,e)=>e?t.map(([r,o])=>{const n=o.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([i,a])=>[e+i,a])):s);return[r,n]}):t,Dr=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,o=new Map;const n=(s,i)=>{r.set(s,i),e++,e>t&&(e=0,o=r,r=new Map)};return{get(s){let i=r.get(s);if(i!==void 0)return i;if((i=o.get(s))!==void 0)return n(s,i),i},set(s,i){r.has(s)?r.set(s,i):n(s,i)}}},le="!",Fr=t=>{const{separator:e,experimentalParseClassName:r}=t,o=e.length===1,n=e[0],s=e.length,i=a=>{const c=[];let l=0,d=0,h;for(let x=0;x<a.length;x++){let v=a[x];if(l===0){if(v===n&&(o||a.slice(x,x+s)===e)){c.push(a.slice(d,x)),d=x+s;continue}if(v==="/"){h=x;continue}}v==="["?l++:v==="]"&&l--}const u=c.length===0?a:a.substring(d),p=u.startsWith(le),f=p?u.substring(1):u,g=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:f,maybePostfixModifierPosition:g}};return r?a=>r({className:a,parseClassName:i}):i},Xr=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(o=>{o[0]==="["?(e.push(...r.sort(),o),r=[]):r.push(o)}),e.push(...r.sort()),e},Nr=t=>({cache:Dr(t.cacheSize),parseClassName:Fr(t),...Or(t)}),$r=/\s+/,jr=(t,e)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:n}=e,s=[],i=t.trim().split($r);let a="";for(let c=i.length-1;c>=0;c-=1){const l=i[c],{modifiers:d,hasImportantModifier:h,baseClassName:u,maybePostfixModifierPosition:p}=r(l);let f=!!p,g=o(f?u.substring(0,p):u);if(!g){if(!f){a=l+(a.length>0?" "+a:a);continue}if(g=o(u),!g){a=l+(a.length>0?" "+a:a);continue}f=!1}const x=Xr(d).join(":"),v=h?x+le:x,A=v+g;if(s.includes(A))continue;s.push(A);const C=n(g,f);for(let S=0;S<C.length;++S){const m=C[S];s.push(v+m)}a=l+(a.length>0?" "+a:a)}return a};function qr(){let t=0,e,r,o="";for(;t<arguments.length;)(e=arguments[t++])&&(r=de(e))&&(o&&(o+=" "),o+=r);return o}const de=t=>{if(typeof t=="string")return t;let e,r="";for(let o=0;o<t.length;o++)t[o]&&(e=de(t[o]))&&(r&&(r+=" "),r+=e);return r};function Vr(t,...e){let r,o,n,s=i;function i(c){const l=e.reduce((d,h)=>h(d),t());return r=Nr(l),o=r.cache.get,n=r.cache.set,s=a,a(c)}function a(c){const l=o(c);if(l)return l;const d=jr(c,r);return n(c,d),d}return function(){return s(qr.apply(null,arguments))}}const y=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},ue=/^\[(?:([a-z-]+):)?(.+)\]$/i,Zr=/^\d+\/\d+$/,Jr=new Set(["px","full","screen"]),Kr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,to=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,eo=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ro=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,I=t=>O(t)||Jr.has(t)||Zr.test(t),k=t=>U(t,"length",uo),O=t=>!!t&&!Number.isNaN(Number(t)),ft=t=>U(t,"number",O),$=t=>!!t&&Number.isInteger(Number(t)),oo=t=>t.endsWith("%")&&O(t.slice(0,-1)),b=t=>ue.test(t),B=t=>Kr.test(t),no=new Set(["length","size","percentage"]),so=t=>U(t,no,he),ao=t=>U(t,"position",he),io=new Set(["image","url"]),co=t=>U(t,io,fo),lo=t=>U(t,"",ho),j=()=>!0,U=(t,e,r)=>{const o=ue.exec(t);return o?o[1]?typeof e=="string"?o[1]===e:e.has(o[1]):r(o[2]):!1},uo=t=>Qr.test(t)&&!to.test(t),he=()=>!1,ho=t=>eo.test(t),fo=t=>ro.test(t),go=()=>{const t=y("colors"),e=y("spacing"),r=y("blur"),o=y("brightness"),n=y("borderColor"),s=y("borderRadius"),i=y("borderSpacing"),a=y("borderWidth"),c=y("contrast"),l=y("grayscale"),d=y("hueRotate"),h=y("invert"),u=y("gap"),p=y("gradientColorStops"),f=y("gradientColorStopPositions"),g=y("inset"),x=y("margin"),v=y("opacity"),A=y("padding"),C=y("saturate"),S=y("scale"),m=y("sepia"),L=y("skew"),R=y("space"),T=y("translate"),Y=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",b,e],w=()=>[b,e],X=()=>["",I,k],J=()=>["auto",O,b],Mt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],St=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ct=()=>["start","end","center","between","around","evenly","stretch"],N=()=>["","0",b],Et=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[O,b];return{cacheSize:500,separator:":",theme:{colors:[j],spacing:[I,k],blur:["none","",B,b],brightness:H(),borderColor:[t],borderRadius:["none","","full",B,b],borderSpacing:w(),borderWidth:X(),contrast:H(),grayscale:N(),hueRotate:H(),invert:N(),gap:w(),gradientColorStops:[t],gradientColorStopPositions:[oo,k],inset:F(),margin:F(),opacity:H(),padding:w(),saturate:H(),scale:H(),sepia:N(),skew:H(),space:w(),translate:w()},classGroups:{aspect:[{aspect:["auto","square","video",b]}],container:["container"],columns:[{columns:[B]}],"break-after":[{"break-after":Et()}],"break-before":[{"break-before":Et()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Mt(),b]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$,b]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",b]}],grow:[{grow:N()}],shrink:[{shrink:N()}],order:[{order:["first","last","none",$,b]}],"grid-cols":[{"grid-cols":[j]}],"col-start-end":[{col:["auto",{span:["full",$,b]},b]}],"col-start":[{"col-start":J()}],"col-end":[{"col-end":J()}],"grid-rows":[{"grid-rows":[j]}],"row-start-end":[{row:["auto",{span:[$,b]},b]}],"row-start":[{"row-start":J()}],"row-end":[{"row-end":J()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",b]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",b]}],gap:[{gap:[u]}],"gap-x":[{"gap-x":[u]}],"gap-y":[{"gap-y":[u]}],"justify-content":[{justify:["normal",...ct()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ct(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ct(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[A]}],px:[{px:[A]}],py:[{py:[A]}],ps:[{ps:[A]}],pe:[{pe:[A]}],pt:[{pt:[A]}],pr:[{pr:[A]}],pb:[{pb:[A]}],pl:[{pl:[A]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",b,e]}],"min-w":[{"min-w":[b,e,"min","max","fit"]}],"max-w":[{"max-w":[b,e,"none","full","min","max","fit","prose",{screen:[B]},B]}],h:[{h:[b,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[b,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[b,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[b,e,"auto","min","max","fit"]}],"font-size":[{text:["base",B,k]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ft]}],"font-family":[{font:[j]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",b]}],"line-clamp":[{"line-clamp":["none",O,ft]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",I,b]}],"list-image":[{"list-image":["none",b]}],"list-style-type":[{list:["none","disc","decimal",b]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",I,k]}],"underline-offset":[{"underline-offset":["auto",I,b]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:w()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",b]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",b]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Mt(),ao]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",so]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},co]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:K()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-s":[{"border-s":[n]}],"border-color-e":[{"border-e":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[I,b]}],"outline-w":[{outline:[I,k]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[I,k]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",B,lo]}],"shadow-color":[{shadow:[j]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...St(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":St()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[o]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",B,b]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[C]}],sepia:[{sepia:[m]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[m]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",b]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",b]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",b]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[$,b]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[L]}],"skew-y":[{"skew-y":[L]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",b]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",b]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":w()}],"scroll-mx":[{"scroll-mx":w()}],"scroll-my":[{"scroll-my":w()}],"scroll-ms":[{"scroll-ms":w()}],"scroll-me":[{"scroll-me":w()}],"scroll-mt":[{"scroll-mt":w()}],"scroll-mr":[{"scroll-mr":w()}],"scroll-mb":[{"scroll-mb":w()}],"scroll-ml":[{"scroll-ml":w()}],"scroll-p":[{"scroll-p":w()}],"scroll-px":[{"scroll-px":w()}],"scroll-py":[{"scroll-py":w()}],"scroll-ps":[{"scroll-ps":w()}],"scroll-pe":[{"scroll-pe":w()}],"scroll-pt":[{"scroll-pt":w()}],"scroll-pr":[{"scroll-pr":w()}],"scroll-pb":[{"scroll-pb":w()}],"scroll-pl":[{"scroll-pl":w()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",b]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[I,k,ft]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},bo=Vr(go),Eo=Me({__name:"MagicCanvas",props:{canvasRef:{type:Function},cleanup:{type:Function}},setup(t){const e=t,r=tt();return vt(()=>{if(!r.value)throw new Error("Canvas not found in DOM. Check ref link.");e.canvasRef(r.value)}),Se(()=>{if(!r.value)throw new Error("Canvas not found in DOM. Check ref link.");e.cleanup(r.value)}),(o,n)=>(Le(),Ee("canvas",He({...o.$attrs,class:Ie(bo)(o.$attrs.class,["w-full","h-full"])},{ref_key:"canvas",ref:r}),null,16))}}),po={left:0,middle:1},xo=.2,mo=10,wo=.02,Bt=1,yo=(t,e)=>{const r=lt(dt.cameraPanX(e),0),o=lt(dt.cameraPanY(e),0),n=lt(dt.cameraZoom(e),1),s=f=>{const{clientX:g,clientY:x}=f,v=Math.exp(-f.deltaY*wo),A=Math.min(mo,Math.max(xo,n.value*v)),C=A/n.value;r.value=g-(g-r.value)*C,o.value=x-(x-o.value)*C,n.value=A},i=f=>{r.value-=f.deltaX*Bt,o.value-=f.deltaY*Bt},a=f=>{f.preventDefault(),(!f.ctrlKey?i:s)(f)};let c=0,l=0,d=!1;const h=f=>{d=f.button===po.middle,d&&(c=f.clientX,l=f.clientY)},u=f=>{d&&(i({deltaX:c-f.clientX,deltaY:l-f.clientY}),c=f.clientX,l=f.clientY)},p=()=>{c=0,l=0,d=!1};return vt(()=>{if(!t.value)throw new Error("canvas not found in DOM");t.value.addEventListener("wheel",a,{passive:!1}),t.value.addEventListener("mousedown",h),t.value.addEventListener("mousemove",u),document.addEventListener("mouseup",p)}),{actions:{zoomIn:(f=12.5)=>s({deltaY:-f,clientX:window.innerWidth/2,clientY:window.innerHeight/2}),zoomOut:(f=12.5)=>s({deltaY:f,clientX:window.innerWidth/2,clientY:window.innerHeight/2})},state:{panX:r,panY:o,zoom:n},getTransform:()=>({scaleX:n.value,scaleY:n.value,translateX:r.value,translateY:o.value}),cleanup:f=>{f.removeEventListener("wheel",a),f.removeEventListener("mousedown",h),f.removeEventListener("mousemove",u),document.removeEventListener("mouseup",p)}}},vo=(t,e)=>{const{getTransform:r,...o}=yo(t,e),n=Ft(),s={scaleX:n,scaleY:n};return{...o,transformAndClear:i=>{i.resetTransform(),i.clearRect(0,0,i.canvas.width,i.canvas.height);const a=[s,r()];for(const c of a)Re(i,c)}}},W=100,zt=.6,et=.25,Ao=t=>{if(t<=et)return"00";if(t>=zt)return"";const e=String(Math.floor((t-et)/(zt-et)*100));return e.length===1?`0${e}`:e},To=({panX:t,panY:e,zoom:r},o)=>({draw:s=>{if(r.value<=et)return;const i=It({clientX:0,clientY:0},s),a=It({clientX:window.innerWidth+W,clientY:window.innerHeight+W},s),c=t.value/r.value%W,l=e.value/r.value%W;for(let d=i.x+c;d<a.x;d+=W)for(let h=i.y+l;h<a.y;h+=W)o.value(s,{x:d,y:h},Ao(r.value))}}),Co=60,Pt=t=>{if(!t)throw new Error("Canvas not found in DOM. Check ref link.");const e=Ft(),r=t.getBoundingClientRect();t.width=r.width*e,t.height=r.height*e},Ho=(t={})=>{const e=tt(),r=ke(e),o=tt(()=>{}),n=tt(()=>{});let s;vt(()=>{Pt(e.value),s=setInterval(h,1e3/Co)}),Be([r.width,r.height],()=>Pt(e.value));const{cleanup:i,...a}=vo(e,(t==null?void 0:t.storageKey)??"[default-storage-key]"),{coordinates:c,cleanup:l}=ze(e),d=To(a.state,n),h=()=>{const u=Pe(e);a.transformAndClear(u),d.draw(u),o.value(u)};return{canvas:e,camera:a,cursorCoordinates:c,ref:{canvasRef:u=>e.value=u,cleanup:u=>{l(u),i(u),clearInterval(s)}},draw:{content:o,backgroundPattern:n}}};export{xo as M,Eo as _,kr as a,mo as b,Er as c,So as d,po as e,bo as t,Ho as u};
