import{b as ne,B as ae,u as re,_ as le}from"./Graph.vue_vue_type_script_setup_true_lang-CmIpdkHl.js";import{_ as ie}from"./SimulationPlaybackControls.vue_vue_type_script_setup_true_lang-BUGngBvj.js";import{_ as B,o as l,c as f,V as M,e as v,r as A,b as r,w as u,v as C,M as ue,H as b,F as w,f as z,G as g,a as p,B as y,d as h,t as S,E as L,x as de,W as ce,X as pe,u as N,Y as _e,Z as D,I as j,g as T,$ as U,a0 as fe,h as O,i as F,j as W,k as H,l as K,m as X,n as Z,p as q,q as Y,s as J}from"./index-DJycYxy2.js";import{_ as ge,u as me}from"./TutorialHint.vue_vue_type_script_setup_true_lang-CvE6Xej4.js";import{u as Q}from"./ResponsiveCanvas.vue_vue_type_script_setup_true_lang-BsSqz_dO.js";import"./Button.vue_vue_type_script_setup_true_lang-BbPSmtkq.js";const ve={},he={class:"flex items-center gap-2 bg-gray-800 py-1 px-1 rounded-lg"};function be(d,e){return l(),f("div",he,[M(d.$slots,"default")])}const ee=B(ve,[["render",be]]),xe=["disabled"],$=v({__name:"ToolbarButton",props:{active:{type:Boolean},disabled:{type:Boolean}},setup(d){return(e,i)=>{const n=A("v-icon");return l(),f("button",{disabled:e.disabled,class:C(["text-white","p-2","rounded-md",e.disabled?"text-opacity-50":"",e.disabled?"":"hover:bg-gray-900",e.disabled?"cursor-not-allowed":"cursor-pointer",e.active?"bg-gray-900":"bg-gray-800"])},[r(n,null,{default:u(()=>[M(e.$slots,"default")]),_:3})],10,xe)}}}),$e={},ye={class:"w-[1px] h-6 bg-white bg-opacity-20 mx-1"};function ke(d,e){return l(),f("div",ye)}const I=B($e,[["render",ke]]),we={};function Ce(d,e){return l(),f("div",{class:C("flex items-center relative "+d.$attrs.class)},[M(d.$slots,"default")],2)}const k=B(we,[["render",Ce]]),Ae={class:C(["rounded-full","p-[3px]"])},ze=v({__name:"AnnotationControls",props:{graph:{}},setup(d){const e=d,{annotationColor:i,annotationBrushWeight:n,annotationErasing:a}=ue(e.graph),{clearAnnotations:t}=e.graph,o=m=>{i.value=m,a.value=!1},_=m=>{n.value=m,a.value=!1};return(m,s)=>(l(),b(ee,null,{default:u(()=>[r(k,null,{default:u(()=>[(l(!0),f(w,null,z(g(ne),c=>(l(),b($,{onClick:x=>o(c),active:g(i)===c&&!g(a),key:c,color:c},{default:u(()=>[p("div",Ae,[p("div",{class:C(["w-6","h-6","rounded-full",`bg-[${c}]`])},null,2)])]),_:2},1032,["onClick","active","color"]))),128))]),_:1}),r(I),r(k,null,{default:u(()=>[(l(!0),f(w,null,z(g(ae),(c,x)=>(l(),b($,{onClick:E=>_(c),active:g(n)===c,key:c,color:g(y).TRANSPARENT},{default:u(()=>[p("div",{class:C(["bg-gray-400","rounded-md","w-[15px]",`h-[${x*5+1}px]`])},null,2)]),_:2},1032,["onClick","active","color"]))),128))]),_:1}),r(I),r(k,{class:"gap-1"},{default:u(()=>[r($,{onClick:s[0]||(s[0]=c=>a.value=!g(a)),active:g(a)},{default:u(()=>s[1]||(s[1]=[h("mdi-eraser")])),_:1},8,["active"]),r($,{onClick:g(t)},{default:u(()=>s[2]||(s[2]=[h(" mdi-delete-outline ")])),_:1},8,["onClick"])]),_:1})]),_:1}))}}),Se={persistentStorageKey:"graph-sandbox"},Me={class:"text-white text-opacity-60 text-sm"},Ie=v({__name:"ToolbarHint",props:{tutorial:{}},setup(d){return(e,i)=>(l(),b(ge,{tutorial:e.tutorial},{default:u(({hint:n})=>[p("h5",Me,S(n),1)]),_:1},8,["tutorial"]))}}),G=v({__name:"GraphNode",props:{size:{default:60}},setup(d){return(e,i)=>(l(),f("div",{class:C(["flex","font-bold","items-center","justify-center","border-4","border-white","rounded-full",`h-[${e.size}px]`,`w-[${e.size}px]`])},[M(e.$slots,"default")],2))}}),Ee={class:"flex flex-col gap-4"},Le={class:"text-xl mx-3"},Te={class:"overflow-auto"},Be={class:"flex flex-row gap-4"},Ne={key:0,class:"text-opacity-50 text-white text-xl font-bold"},Re=v({__name:"AdjacencyListDisplay",props:{adjacencyList:{}},setup(d){return(e,i)=>{const n=A("v-icon");return l(),f("div",Ee,[(l(!0),f(w,null,z(e.adjacencyList,(a,t)=>(l(),f("div",{key:t,class:"flex items-center"},[p("div",null,[r(G,{class:"bg-gray-600"},{default:u(()=>[h(S(t),1)]),_:2},1024)]),p("span",Le,[r(n,null,{default:u(()=>i[0]||(i[0]=[h("mdi-arrow-right")])),_:1})]),p("div",Te,[p("div",Be,[(l(!0),f(w,null,z(a,o=>(l(),f("div",null,[r(G,{class:"bg-gray-600"},{default:u(()=>[h(S(o),1)]),_:2},1024)]))),256)),a.length===0?(l(),f("h2",Ne," None ")):L("",!0)])])]))),128))])}}}),je={class:"bg-gray-800 flex flex-col text-white p-3 w-[400px] rounded-lg"},De={class:"bg-gray-700 p-4 rounded-lg max-h-[200px] overflow-auto"},Ge=v({__name:"GraphInfoMenu",props:{graph:{}},setup(d){const e=d,{labelAdjacencyList:i}=de(e.graph);return(n,a)=>{const t=A("v-menu");return l(),b(t,{offset:[10,0]},{activator:u(({props:o,isActive:_})=>[p("div",ce(pe(o)),[M(n.$slots,"default",{isActive:_})],16)]),default:u(()=>[p("div",je,[a[0]||(a[0]=p("h1",{class:"text-2xl font-bold text-gray-200 mb-3"},"Graph Info",-1)),a[1]||(a[1]=p("h2",{class:"text-xl font-bold text-gray-200 mb-2"},"Adjacency List",-1)),p("div",De,[r(Re,{adjacencyList:g(i)},null,8,["adjacencyList"])])])]),_:3})}}}),Pe=v({__name:"IslandToolbar",props:{graph:{}},setup(d){const e=d,i=me(e.graph,[{dismiss:"onNodeAdded",hint:"Double click on the canvas to add a node."},{dismiss:"onEdgeAdded",hint:"Hover node to show anchors, drag between them to add an edge."}]);i.start();const n=()=>{e.graph.bulkRemoveNode([...e.graph.focusedItemIds.value]),e.graph.bulkRemoveEdge([...e.graph.focusedItemIds.value])},a=()=>{const{activateAnnotation:t,deactivateAnnotation:o,annotationActive:_}=e.graph;_.value?o():t()};return(t,o)=>(l(),f(w,null,[r(ee,null,{default:u(()=>[r(k,null,{default:u(()=>[r($,{onClick:o[0]||(o[0]=_=>t.graph.settings.value.displayEdgeLabels=!0),active:t.graph.settings.value.displayEdgeLabels},{default:u(()=>o[6]||(o[6]=[h(" mdi-label-outline ")])),_:1},8,["active"]),r(I),r($,{onClick:o[1]||(o[1]=_=>t.graph.settings.value.displayEdgeLabels=!1),active:!t.graph.settings.value.displayEdgeLabels},{default:u(()=>o[7]||(o[7]=[h(" mdi-label-off-outline ")])),_:1},8,["active"])]),_:1}),r(k,null,{default:u(()=>[r($,{onClick:o[2]||(o[2]=_=>t.graph.settings.value.isGraphDirected=!0),active:t.graph.settings.value.isGraphDirected},{default:u(()=>o[8]||(o[8]=[h(" mdi-arrow-right-thin ")])),_:1},8,["active"]),r(I),r($,{onClick:o[3]||(o[3]=_=>t.graph.settings.value.isGraphDirected=!1),active:!t.graph.settings.value.isGraphDirected},{default:u(()=>o[9]||(o[9]=[h(" mdi-minus ")])),_:1},8,["active"])]),_:1}),r(k,null,{default:u(()=>[r($,{onClick:o[4]||(o[4]=_=>t.graph.undo()),disabled:!t.graph.canUndo.value},{default:u(()=>o[10]||(o[10]=[h(" mdi-undo ")])),_:1},8,["disabled"]),r(I),r($,{onClick:o[5]||(o[5]=_=>t.graph.redo()),disabled:!t.graph.canRedo.value},{default:u(()=>o[11]||(o[11]=[h(" mdi-redo ")])),_:1},8,["disabled"])]),_:1}),r(k,null,{default:u(()=>[r($,{onClick:n,disabled:t.graph.focusedItemIds.value.size===0||t.graph.annotationActive.value},{default:u(()=>o[12]||(o[12]=[h(" mdi-eraser ")])),_:1},8,["disabled"])]),_:1}),r(k,null,{default:u(()=>[r($,{onClick:a,active:t.graph.annotationActive.value},{default:u(()=>o[13]||(o[13]=[h(" mdi-pencil ")])),_:1},8,["active"])]),_:1}),r(k,null,{default:u(()=>[r(Ge,{graph:t.graph},{default:u(({isActive:_})=>[r($,{active:_},{default:u(()=>o[14]||(o[14]=[h("mdi-information-outline")])),_:2},1032,["active"])]),_:1},8,["graph"])]),_:1}),r(k,null,{default:u(()=>[r($,null,{default:u(()=>o[15]||(o[15]=[h("mdi-account-group")])),_:1})]),_:1})]),_:1}),r(Ie,{tutorial:g(i)},null,8,["tutorial"])],64))}}),R="markup",Ve=["XS","SM","MD","LG","XL"],P="MD",Ue=[y.BLACK,y.BLUE_600,y.RED_600,y.GREEN_600,y.YELLOW_600],V=y.BLACK,Oe={XS:25,SM:30,MD:35,LG:40,XL:45},te={XS:6,SM:8,MD:10,LG:12,XL:14},Fe=d=>{const{setTheme:e,removeAllThemes:i}=N(d,R),n=Q("markup-color-map",new Map),a=s=>{if(n.value.get(s.id))return _e(d.theme.value.nodeColor,s)},t=s=>{const c=n.value.get(s.id);if(c)return d.isFocused(s.id)?D(c,30):c},o=s=>{const c=n.value.get(s.id);if(c)return d.isFocused(s.id)?D(c,30):c};return{colorize:()=>{e("nodeColor",a),e("nodeBorderColor",t),e("nodeFocusBorderColor",t),e("nodeAnchorColor",t),e("nodeAnchorColorWhenParentFocused",t),e("edgeColor",o),e("marqueeSelectionBoxColor",y.TRANSPARENT),e("marqueeEncapsulatedNodeBoxBorderColor",y.WHITE+"80"),e("marqueeEncapsulatedNodeBoxColor",y.TRANSPARENT)},decolorize:()=>{i()},colorMap:n}},We=d=>{const{setTheme:e,removeAllThemes:i}=N(d,R),n=Q("markup-size-map",new Map),a=m=>{const s=n.value.get(m.id);if(s)return Oe[s]},t=m=>{const s=n.value.get(m.id);if(s)return te[s]};return{size:()=>{e("nodeSize",a),e("edgeWidth",t)},desize:()=>{i()},sizeMap:n}},He={},Ke={class:"flex flex-col gap-1"};function Xe(d,e){return l(),f("div",Ke,[M(d.$slots,"default")])}const oe=B(He,[["render",Xe]]),se=v({__name:"Button",props:{active:{type:Boolean}},setup(d){return(e,i)=>(l(),f("button",{class:C(["cursor-pointer","rounded-xl","p-1","border-2",e.active?"border-white":"border-transparent",e.active?"hover:border-white":"hover:border-gray-400"])},[p("div",{class:C(["relative","w-8","h-8","rounded-md","flex","items-center","justify-center","text-white","text-sm",e.active?"bg-gray-800":"bg-gray-700"])},[M(e.$slots,"default")],2)],2))}}),Ze=v({__name:"InputColor",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(d){const e=j(d,"modelValue");return(i,n)=>(l(),b(oe,null,{default:u(()=>[(l(!0),f(w,null,z(g(Ue),a=>(l(),b(se,{onClick:t=>e.value=a,key:a,active:e.value===a},{default:u(()=>[p("div",{class:C([`bg-[${a}]`,"w-full","h-full","rounded-md"])},null,2)]),_:2},1032,["onClick","active"]))),128))]),_:1}))}}),qe=v({__name:"NodeEdgeColorInput",props:{graph:{},colorMap:{}},setup(d){const e=d,i=()=>{const s=Array.from(e.graph.focusedItemIds.value),c=new Set(s.map(E=>e.colorMap.get(E)));if(c.has(void 0)||c.size!==1)return;const x=c.values().next().value;return x||V},n=T(i()),a=s=>{for(const c of e.graph.focusedItemIds.value)e.colorMap.set(c,s);n.value=s},t=({id:s})=>{n.value&&e.colorMap.set(s,n.value)},o=async()=>{e.graph.focusedItemIds.value.size!==0&&(await new Promise(s=>setTimeout(s,0)),n.value=i())};e.graph.subscribe("onNodeAdded",t),e.graph.subscribe("onEdgeAdded",t),e.graph.subscribe("onFocusChange",o);const{setTheme:_}=N(e.graph,R);return _("linkPreviewColor",()=>n.value??V),(s,c)=>(l(),b(Ze,{"onUpdate:modelValue":a,"model-value":n.value},null,8,["model-value"]))}}),Ye=v({__name:"InputSize",props:{modelValue:{},modelModifiers:{}},emits:["update:modelValue"],setup(d){const e=j(d,"modelValue");return(i,n)=>(l(),b(oe,null,{default:u(()=>[(l(!0),f(w,null,z(g(Ve),a=>(l(),b(se,{onClick:t=>e.value=a,key:a,active:e.value===a},{default:u(()=>[h(S(a),1)]),_:2},1032,["onClick","active"]))),128))]),_:1}))}}),Je=v({__name:"NodeEdgeSizeInput",props:{graph:{},sizeMap:{}},setup(d){const e=d,i=()=>{const s=Array.from(e.graph.focusedItemIds.value),c=new Set(s.map(E=>e.sizeMap.get(E)));if(c.has(void 0)||c.size!==1)return;const x=c.values().next().value;return x||P},n=T(i()),a=s=>{for(const c of e.graph.focusedItemIds.value)e.sizeMap.set(c,s);n.value=s,e.graph.updateEncapsulatedNodeBox()},t=({id:s})=>{n.value&&e.sizeMap.set(s,n.value)},o=async()=>{e.graph.focusedItemIds.value.size!==0&&(await new Promise(s=>setTimeout(s,0)),n.value=i())};e.graph.subscribe("onNodeAdded",t),e.graph.subscribe("onEdgeAdded",t),e.graph.subscribe("onFocusChange",o);const{setTheme:_}=N(e.graph,R);return _("linkPreviewWidth",()=>te[n.value??P]),(s,c)=>(l(),b(Ye,{"model-value":n.value,"onUpdate:modelValue":a},null,8,["model-value"]))}}),Qe={class:"flex flex-col gap-3"},et={class:"p-2 bg-gray-800 rounded-xl"},tt={class:"p-2 bg-gray-800 rounded-xl"},ot=v({__name:"IslandMarkup",props:{graph:{}},setup(d){const e=d,{colorize:i,colorMap:n}=Fe(e.graph);i();const{size:a,sizeMap:t}=We(e.graph);return a(),(o,_)=>(l(),f("div",Qe,[p("div",et,[r(qe,{graph:e.graph,colorMap:g(n)},null,8,["graph","colorMap"])]),p("div",tt,[r(Je,{graph:e.graph,sizeMap:g(t)},null,8,["graph","sizeMap"])])]))}}),st={class:"bg-gray-800 flex flex-col text-white p-2 w-[400px] rounded-lg"},nt=["onClick"],at=["src"],rt={class:"flex flex-col gap-1"},lt={class:"text-lg font-bold text-gray-200"},it={class:"text-sm text-gray-400"},ut=v({__name:"StartSimulation",props:{simulations:{},startSimulation:{type:Function}},setup(d){return(e,i)=>{const n=A("v-btn"),a=A("v-menu");return l(),b(a,{offset:[10,0]},{activator:u(({props:t})=>[r(n,U(t,{icon:"mdi-play",size:"large",color:g(y).GRAY_800}),null,16,["color"])]),default:u(()=>[p("div",st,[(l(!0),f(w,null,z(e.simulations,t=>(l(),f("button",{key:t.name,onClick:o=>e.startSimulation(t),class:"hover:bg-gray-900 p-2 rounded-md cursor-pointer rounded-lg text-left flex gap-4"},[p("img",{src:t.thumbnail,class:"object-cover h-20 w-20 rounded-md"},null,8,at),p("div",rt,[p("h1",lt,S(t.name),1),p("p",it,S(t.description),1)])],8,nt))),128))])]),_:1})}}}),dt=v({__name:"SimulationDropdown",props:fe({graph:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(d){const e=d,i=j(d,"modelValue"),o=Object.values(Object.assign({"/src/menu/info.ts":O,"/src/playground/graph/info.ts":F,"/src/playground/shape/info.ts":W,"/src/products/dijkstras/info.ts":H,"/src/products/graph-sandbox/info.ts":K,"/src/products/markov-chains/info.ts":X,"/src/products/min-spanning-tree/info.ts":Z,"/src/products/network-flow/info.ts":q,"/src/products/search-visualizer/info.ts":Y,"/src/products/set-visualizer/info.ts":J})).map(s=>s.default).map(s=>s.simulations).filter(Boolean).map(s=>s(e.graph)).flat(),_=async s=>{const{controls:c,onInit:x}=s;i.value=s,await(x==null?void 0:x()),c.start()},m=async()=>{if(!i.value)return;const{controls:s,onDismiss:c}=i.value;s.stop(),await(c==null?void 0:c()),i.value=void 0};return(s,c)=>{const x=A("v-btn");return l(),f("div",null,[i.value?(l(),b(x,{key:1,onClick:m,color:g(y).RED_600,icon:"mdi-stop",size:"large"},null,8,["color"])):(l(),b(ut,{key:0,simulations:g(o),"start-simulation":_},null,8,["simulations"]))])}}}),ct={class:"bg-gray-800 flex flex-col text-white p-2 w-[400px] h-[700px] overflow-auto rounded-lg"},pt=["src"],_t={class:"flex flex-col gap-1"},ft={class:"text-xl font-bold text-gray-200"},gt={class:"text-md text-gray-400"},mt=v({__name:"ExperienceDropdown",setup(d){const n=Object.values(Object.assign({"/src/menu/info.ts":O,"/src/playground/graph/info.ts":F,"/src/playground/shape/info.ts":W,"/src/products/dijkstras/info.ts":H,"/src/products/graph-sandbox/info.ts":K,"/src/products/markov-chains/info.ts":X,"/src/products/min-spanning-tree/info.ts":Z,"/src/products/network-flow/info.ts":q,"/src/products/search-visualizer/info.ts":Y,"/src/products/set-visualizer/info.ts":J})).map(a=>a.default).filter(a=>a==null?void 0:a.menu);return(a,t)=>{const o=A("router-link"),_=A("v-menu");return l(),b(_,{offset:[10,0]},{activator:u(({props:m})=>[p("button",U(m,{class:"bg-gray-800 hover:bg-gray-900 text-white px-4 py-2 text-xl font-bold rounded-lg"}),t[0]||(t[0]=[p("h1",{class:"bg-gradient-to-tr dark:from-purple-600 dark:to-orange-500 from-purple-500 to-orange-500 text-transparent bg-clip-text"}," Magic Algorithms ",-1)]),16)]),default:u(()=>[p("div",ct,[(l(!0),f(w,null,z(g(n),m=>(l(),b(o,{to:m.route.path,class:"hover:bg-gray-900 p-2 rounded-md cursor-pointer rounded-lg text-left flex gap-4"},{default:u(()=>[p("img",{src:m.menu.thumbnail,class:"object-cover h-20 w-20 rounded-md"},null,8,pt),p("div",_t,[p("h1",ft,S(m.menu.name),1),p("p",gt,S(m.menu.description),1)])]),_:2},1032,["to"]))),256))])]),_:1})}}}),vt={key:0,class:"absolute top-6 w-full flex flex-col justify-center items-center gap-2"},ht={key:1,class:"absolute top-0 w-0 h-full flex items-center"},bt={class:"ml-4"},xt={class:"absolute top-6 left-6"},$t={class:"absolute top-6 right-6"},yt={key:2,class:"absolute bottom-8 w-full flex justify-center items-center p-3"},kt={key:3,class:"absolute bottom-8 w-full flex justify-center items-center p-3"},It=v({__name:"Main",setup(d){const e=T(),i=re(e,{settings:Se}),n=T();return(a,t)=>{var o;return l(),f(w,null,[r(le,{onGraphRef:t[0]||(t[0]=_=>e.value=_),graph:g(i)},null,8,["graph"]),n.value?L("",!0):(l(),f("div",vt,[r(Pe,{graph:g(i)},null,8,["graph"])])),n.value?L("",!0):(l(),f("div",ht,[p("div",bt,[r(ot,{graph:g(i)},null,8,["graph"])])])),p("div",xt,[r(mt)]),p("div",$t,[r(dt,{modelValue:n.value,"onUpdate:modelValue":t[1]||(t[1]=_=>n.value=_),graph:g(i)},null,8,["modelValue","graph"])]),(o=n.value)!=null&&o.controls.isActive?(l(),f("div",yt,[r(ie,{controls:n.value.controls},null,8,["controls"])])):g(i).annotationActive.value?(l(),f("div",kt,[r(ze,{graph:g(i)},null,8,["graph"])])):L("",!0)],64)}}});export{It as default};
